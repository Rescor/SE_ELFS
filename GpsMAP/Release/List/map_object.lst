##############################################################################
#                                                                            #
# IAR ARM ANSI C/C++ Compiler V4.42A/W32 EVALUATION    10/Jun/2013  22:41:36 #
# Copyright 1999-2005 IAR Systems. All rights reserved.                      #
#                                                                            #
#    Cpu mode        =  interwork                                            #
#    Endian          =  little                                               #
#    Stack alignment =  4                                                    #
#    Source file     =  Z:\home\perk11\www\perk11.info\svn\SE\GpsMAP\map_obj #
#                       ect.c                                                #
#    Command line    =  Z:\home\perk11\www\perk11.info\svn\SE\GpsMAP\map_obj #
#                       ect.c -D NDEBUG -D OLDFUNCTIONS -lCN                 #
#                       Z:\home\perk11\www\perk11.info\svn\SE\GpsMAP\Release #
#                       \List\ -la Z:\home\perk11\www\perk11.info\svn\SE\Gps #
#                       MAP\Release\List\ -o Z:\home\perk11\www\perk11.info\ #
#                       svn\SE\GpsMAP\Release\Obj\ -s9 --no_unroll           #
#                       --no_code_motion --cpu_mode arm --endian little      #
#                       --cpu ARM926EJ-S --stack_align 4 --interwork -e      #
#                       --fpu None --eec++ --dlib_config                     #
#                       Z:\home\perk11\IAR2\arm\LIB\dl5tpainl8n.h -I         #
#                       Z:\home\perk11\IAR2\arm\INC\ --inline_threshold=2    #
#    List file       =  Z:\home\perk11\www\perk11.info\svn\SE\GpsMAP\Release #
#                       \List\map_object.lst                                 #
#    Object file     =  Z:\home\perk11\www\perk11.info\svn\SE\GpsMAP\Release #
#                       \Obj\map_object.r79                                  #
#                                                                            #
#                                                                            #
##############################################################################

Z:\home\perk11\www\perk11.info\svn\SE\GpsMAP\map_object.c
      1          #define USEPNG
      2          #include "..\include\Lib_Clara.h"
      3          #include "..\\include\Dir.h"
      4          #include "main.h"
      5          #include "map_object.h"
      6          #include "pngread.h"
      7          #include "draw.h"
      8          #include "read_csv.h"
      9          #include "math.h"
     10          
     11          

   \                                 In segment DATA_I, align 4, align-sorted
     12          float x1_map_real=39.532383;
   \                     x1_map_real:
   \   00000000                      DS8 4
   \   00000004                      REQUIRE `?<Initializer for x1_map_real>`

   \                                 In segment DATA_I, align 4, align-sorted
     13          float x2_map_real=39.87645;
   \                     x2_map_real:
   \   00000000                      DS8 4
   \   00000004                      REQUIRE `?<Initializer for x2_map_real>`

   \                                 In segment DATA_I, align 4, align-sorted
     14          float y1_map_real=47.3333;
   \                     y1_map_real:
   \   00000000                      DS8 4
   \   00000004                      REQUIRE `?<Initializer for y1_map_real>`

   \                                 In segment DATA_I, align 4, align-sorted
     15          float y2_map_real=47.06715;
   \                     y2_map_real:
   \   00000000                      DS8 4
   \   00000004                      REQUIRE `?<Initializer for y2_map_real>`
     16          

   \                                 In segment DATA_I, align 4, align-sorted
     17          NEIGHBOUR_CELLDATA *NetData=(NEIGHBOUR_CELLDATA *)0x202EBA10;
   \                     NetData:
   \   00000000                      DS8 4
   \   00000004                      REQUIRE `?<Initializer for NetData>`
     18          CUR_CELLDATA *CurNetData=(CUR_CELLDATA *)0x2018EBE4;
   \                     CurNetData:
   \   00000004                      DS8 4
   \   00000008                      REQUIRE `?<Initializer for CurNetData>`
     19          

   \                                 In segment CODE, align 4, keep-with-next
     20          int GetRxLev_ByCh(int ch)
     21          {
     22            if (ch==0)  return (-80);
   \                     ??GetRxLev_ByCh:
   \   00000000   000050E3           CMP      R0,#+0
   \   00000004   4F00E003           MVNEQ    R0,#+79
   \   00000008   1EFF2F01           BXEQ     LR
     23            if (ch>7) return (-120);
   \   0000000C   080050E3           CMP      R0,#+8
   \   00000010   7700E0A3           MVNGE    R0,#+119
   \   00000014   1EFF2FA1           BXGE     LR
     24            return (NetData[ch-1].rxlvl); 
   \   00000018   ........           LDR      R2,??DataTable4  ;; NetData
   \   0000001C   4410A0E3           MOV      R1,#+68
   \   00000020   002092E5           LDR      R2,[R2, #+0]
   \   00000024   912020E0           MLA      R0,R1,R0,R2
   \   00000028   DC0050E1           LDRSB    R0,[R0, #-12]
   \   0000002C   1EFF2FE1           BX       LR               ;; return
     25          }
     26          

   \                                 In segment CODE, align 4, keep-with-next
     27          int GetCid_ByCh(int ch)
     28          {
     29            if (ch==0)  return (CurNetData->cid);
   \                     ??GetCid_ByCh:
   \   00000000   000050E3           CMP      R0,#+0
   \   00000004   0300001A           BNE      ??GetCid_ByCh_1
   \   00000008   ........           LDR      R0,??DataTable3  ;; NetData + 4
   \   0000000C   000090E5           LDR      R0,[R0, #+0]
   \   00000010   B000D0E1           LDRH     R0,[R0, #+0]
   \   00000014   1EFF2FE1           BX       LR
     30            if (ch>7) return (0);
   \                     ??GetCid_ByCh_1:
   \   00000018   080050E3           CMP      R0,#+8
   \   0000001C   0000A0A3           MOVGE    R0,#+0
   \   00000020   1EFF2FA1           BXGE     LR
     31            return (NetData[ch-1].cid); 
   \   00000024   ........           LDR      R2,??DataTable4  ;; NetData
   \   00000028   4410A0E3           MOV      R1,#+68
   \   0000002C   002092E5           LDR      R2,[R2, #+0]
   \   00000030   912020E0           MLA      R0,R1,R0,R2
   \   00000034   B00450E1           LDRH     R0,[R0, #-64]
   \   00000038   1EFF2FE1           BX       LR               ;; return
     32          }
     33          

   \                                 In segment CODE, align 4, keep-with-next
     34          int GetLac_ByCh(int ch)
     35          {
     36            if (ch==0)  return (CurNetData->lac);
   \                     ??GetLac_ByCh:
   \   00000000   000050E3           CMP      R0,#+0
   \   00000004   0300001A           BNE      ??GetLac_ByCh_1
   \   00000008   ........           LDR      R0,??DataTable3  ;; NetData + 4
   \   0000000C   000090E5           LDR      R0,[R0, #+0]
   \   00000010   0800D0E5           LDRB     R0,[R0, #+8]
   \   00000014   1EFF2FE1           BX       LR
     37            if (ch>7) return (0);
   \                     ??GetLac_ByCh_1:
   \   00000018   080050E3           CMP      R0,#+8
   \   0000001C   0000A0A3           MOVGE    R0,#+0
   \   00000020   1EFF2FA1           BXGE     LR
     38            return (NetData[ch-1].lac); 
   \   00000024   ........           LDR      R2,??DataTable4  ;; NetData
   \   00000028   4410A0E3           MOV      R1,#+68
   \   0000002C   002092E5           LDR      R2,[R2, #+0]
   \   00000030   912020E0           MLA      R0,R1,R0,R2
   \   00000034   220050E5           LDRB     R0,[R0, #-34]
   \   00000038   1EFF2FE1           BX       LR               ;; return
     39          }
     40          

   \                                 In segment CODE, align 4, keep-with-next
     41          int ReadPngFile(LIST *png_lst, char *town, int index_x, int index_y)
     42          {
   \                     ??ReadPngFile:
   \   00000000   F0432DE9           PUSH     {R4-R9,LR}
   \   00000004   47DF4DE2           SUB      SP,SP,#+284
   \   00000008   0050A0E1           MOV      R5,R0
   \   0000000C   0180A0E1           MOV      R8,R1
   \   00000010   0260A0E1           MOV      R6,R2
   \   00000014   0370A0E1           MOV      R7,R3
     43            wchar_t dir[64];
     44            wchar_t name[64];
     45            int result=0;
     46            int f;
     47            FSTAT stat;
     48            char *buf;
     49            PNG_CONVERT *usr_png;
     50            snwprintf(dir,63,L"%ls/GpsMAP/%s", GetDir(DIR_ELFS),town);
   \   00000018   ........           LDR      R9,??DataTable6  ;; `?<Constant L"\\x25\\x6c\\x73\\x2f\\x47\\x70\\x73\\x4d\\`
   \   0000001C   1000A0E3           MOV      R0,#+16
   \   00000020   050100EF           SWI      +261
   \   00000024   0810A0E1           MOV      R1,R8
   \   00000028   02002DE9           PUSH     {R1}
   \   0000002C   0030A0E1           MOV      R3,R0
   \   00000030   0920A0E1           MOV      R2,R9
   \   00000034   20008DE2           ADD      R0,SP,#+32
   \   00000038   3F10A0E3           MOV      R1,#+63
   \   0000003C   150100EF           SWI      +277
     51            snwprintf(name,63,L"%s_%02u_%02u.png",town,index_y,index_x);
   \   00000040   0600A0E1           MOV      R0,R6
   \   00000044   01002DE9           PUSH     {R0}
   \   00000048   0040A0E3           MOV      R4,#+0
   \   0000004C   0830A0E1           MOV      R3,R8
   \   00000050   1C2089E2           ADD      R2,R9,#+28
   \   00000054   0700A0E1           MOV      R0,R7
   \   00000058   01002DE9           PUSH     {R0}
   \   0000005C   3F10A0E3           MOV      R1,#+63
   \   00000060   A8008DE2           ADD      R0,SP,#+168
   \   00000064   150100EF           SWI      +277
     52            if (fstat(dir,name,&stat)>=0)
   \   00000068   0C208DE2           ADD      R2,SP,#+12
   \   0000006C   A8108DE2           ADD      R1,SP,#+168
   \   00000070   28008DE2           ADD      R0,SP,#+40
   \   00000074   1C0100EF           SWI      +284
   \   00000078   000050E3           CMP      R0,#+0
   \   0000007C   0CD08DE2           ADD      SP,SP,#+12
   \   00000080   2100004A           BMI      ??ReadPngFile_1
     53            {
     54              if ((f=_fopen(dir,name,FSX_O_RDONLY,FSX_S_IREAD|FSX_S_IWRITE,NULL))>=0)
   \   00000084   0000A0E3           MOV      R0,#+0
   \   00000088   01002DE9           PUSH     {R0}
   \   0000008C   603FA0E3           MOV      R3,#+384
   \   00000090   0120A0E3           MOV      R2,#+1
   \   00000094   A0108DE2           ADD      R1,SP,#+160
   \   00000098   20008DE2           ADD      R0,SP,#+32
   \   0000009C   160100EF           SWI      +278
   \   000000A0   0080B0E1           MOVS     R8,R0
   \   000000A4   04D08DE2           ADD      SP,SP,#+4
   \   000000A8   1700004A           BMI      ??ReadPngFile_1
     55              {
     56                if ((buf=new char[stat.fsize]))
   \   000000AC   08009DE5           LDR      R0,[SP, #+8]
   \   000000B0   ........           _BLF     `??operator new[]`,`??operator new[]??rA`
   \   000000B4   0090B0E1           MOVS     R9,R0
   \   000000B8   1300000A           BEQ      ??ReadPngFile_1
     57                {
     58                  usr_png=InitPng(png_lst,index_x,index_y);
   \   000000BC   0720A0E1           MOV      R2,R7
   \   000000C0   0610A0E1           MOV      R1,R6
   \   000000C4   0500A0E1           MOV      R0,R5
   \   000000C8   ........           _BLF     ??InitPng,??InitPng??rA
     59                  fread(f,buf,stat.fsize);
   \   000000CC   08209DE5           LDR      R2,[SP, #+8]
   \   000000D0   0050A0E1           MOV      R5,R0
   \   000000D4   0910A0E1           MOV      R1,R9
   \   000000D8   0800A0E1           MOV      R0,R8
   \   000000DC   180100EF           SWI      +280
     60                  fclose(f);
   \   000000E0   0800A0E1           MOV      R0,R8
   \   000000E4   170100EF           SWI      +279
     61                  process_data(usr_png,buf,stat.fsize);
   \   000000E8   08209DE5           LDR      R2,[SP, #+8]
   \   000000EC   0910A0E1           MOV      R1,R9
   \   000000F0   0500A0E1           MOV      R0,R5
   \   000000F4   ........           _BLF     ??process_data,??process_data??rA
     62                  result=1;
     63                  Destr_Png(usr_png);
   \   000000F8   0500A0E1           MOV      R0,R5
   \   000000FC   ........           _BLF     ??Destr_Png,??Destr_Png??rA
     64                  delete buf;
   \   00000100   0900A0E1           MOV      R0,R9
   \   00000104   ........           _BLF     `??operator delete`,`??operator delete??rA`
   \   00000108   0140A0E3           MOV      R4,#+1
     65                }
     66              }
     67            }
     68            return (result);
   \                     ??ReadPngFile_1:
   \   0000010C   0400A0E1           MOV      R0,R4
   \   00000110   47DF8DE2           ADD      SP,SP,#+284
   \   00000114   F083BDE8           POP      {R4-R9,PC}       ;; return
     69          }
     70          
     71          #define COLOR(R,G,B,A) ((B&0xFF)|((G&0xFF)<<8)|((R&0xFF)<<16)|((A&0xFF)<<24))
     72          

   \                                 In segment CODE, align 4, keep-with-next
     73          void InitDirPng(TOWN *town)
     74          {
   \                     ??InitDirPng:
   \   00000000   F0432DE9           PUSH     {R4-R9,LR}
   \   00000004   49DF4DE2           SUB      SP,SP,#+292
   \   00000008   0040A0E1           MOV      R4,R0
     75            wchar_t dir[64];
     76            wchar_t name[64];
     77            FSTAT stat;
     78            int width, height;
     79            int map_width=0,map_height=0;
     80            snwprintf(dir,63,L"%ls/GpsMAP/%s",GetDir(DIR_ELFS),town->name);
   \   0000000C   1000A0E3           MOV      R0,#+16
   \   00000010   050100EF           SWI      +261
   \   00000014   001094E5           LDR      R1,[R4, #+0]
   \   00000018   ........           LDR      R2,??DataTable6  ;; `?<Constant L"\\x25\\x6c\\x73\\x2f\\x47\\x70\\x73\\x4d\\`
   \   0000001C   02002DE9           PUSH     {R1}
   \   00000020   0050A0E3           MOV      R5,#+0
   \   00000024   0060A0E3           MOV      R6,#+0
   \   00000028   0030A0E1           MOV      R3,R0
   \   0000002C   3F10A0E3           MOV      R1,#+63
   \   00000030   0C008DE2           ADD      R0,SP,#+12
   \   00000034   150100EF           SWI      +277
     81            int x_size=0, y_size=0;
   \   00000038   0570A0E1           MOV      R7,R5
   \   0000003C   0580A0E1           MOV      R8,R5
   \   00000040   04D08DE2           ADD      SP,SP,#+4
     82            int f;
     83            while(x_size<100)
     84            {
     85              snwprintf(name,63,L"%s_00_%02u.png",town->name,x_size);
   \                     ??InitDirPng_1:
   \   00000044   88219FE5           LDR      R2,??InitDirPng_2  ;; `?<Constant L"\\x25\\x6c\\x73\\x2f\\x47\\x70\\x73\\x4d\\` + 64
   \   00000048   0700A0E1           MOV      R0,R7
   \   0000004C   01002DE9           PUSH     {R0}
   \   00000050   003094E5           LDR      R3,[R4, #+0]
   \   00000054   3F10A0E3           MOV      R1,#+63
   \   00000058   8C008DE2           ADD      R0,SP,#+140
   \   0000005C   150100EF           SWI      +277
     86              if (fstat(dir,name,&stat)<0) break;
   \   00000060   432F8DE2           ADD      R2,SP,#+268
   \   00000064   8C108DE2           ADD      R1,SP,#+140
   \   00000068   0C008DE2           ADD      R0,SP,#+12
   \   0000006C   1C0100EF           SWI      +284
   \   00000070   000050E3           CMP      R0,#+0
   \   00000074   04D08DE2           ADD      SP,SP,#+4
   \   00000078   0200004A           BMI      ??InitDirPng_3
     87              x_size++;
   \   0000007C   017087E2           ADD      R7,R7,#+1
     88            }
   \   00000080   640057E3           CMP      R7,#+100
   \   00000084   EEFFFFBA           BLT      ??InitDirPng_1
     89            while(y_size<100)
     90            {
     91              snwprintf(name,63,L"%s_%02u_00.png",town->name,y_size);
   \                     ??InitDirPng_3:
   \   00000088   48219FE5           LDR      R2,??InitDirPng_2+0x4  ;; `?<Constant L"\\x25\\x6c\\x73\\x2f\\x47\\x70\\x73\\x4d\\` + 96
   \   0000008C   0800A0E1           MOV      R0,R8
   \   00000090   01002DE9           PUSH     {R0}
   \   00000094   003094E5           LDR      R3,[R4, #+0]
   \   00000098   3F10A0E3           MOV      R1,#+63
   \   0000009C   8C008DE2           ADD      R0,SP,#+140
   \   000000A0   150100EF           SWI      +277
     92              if (fstat(dir,name,&stat)<0) break;
   \   000000A4   432F8DE2           ADD      R2,SP,#+268
   \   000000A8   8C108DE2           ADD      R1,SP,#+140
   \   000000AC   0C008DE2           ADD      R0,SP,#+12
   \   000000B0   1C0100EF           SWI      +284
   \   000000B4   000050E3           CMP      R0,#+0
   \   000000B8   04D08DE2           ADD      SP,SP,#+4
   \   000000BC   0200004A           BMI      ??InitDirPng_4
     93              y_size++;
   \   000000C0   018088E2           ADD      R8,R8,#+1
     94            }
   \   000000C4   640058E3           CMP      R8,#+100
   \   000000C8   EEFFFFBA           BLT      ??InitDirPng_3
     95            town->sizes_x=new int [x_size];
   \                     ??InitDirPng_4:
   \   000000CC   0701A0E1           LSL      R0,R7,#+2
   \   000000D0   ........           _BLF     `??operator new[]`,`??operator new[]??rA`
   \   000000D4   280084E5           STR      R0,[R4, #+40]
     96            town->sizes_y=new int [y_size];
   \   000000D8   0801A0E1           LSL      R0,R8,#+2
   \   000000DC   ........           _BLF     `??operator new[]`,`??operator new[]??rA`
   \   000000E0   2C0084E5           STR      R0,[R4, #+44]
     97            for (int i=0; i<x_size; i++)
   \   000000E4   0090A0E3           MOV      R9,#+0
   \   000000E8   010057E3           CMP      R7,#+1
   \   000000EC   0D0000AA           BGE      ??InitDirPng_5
     98            {
     99              snwprintf(name,63,L"%s_00_%02u.png",town->name,i);
    100              f=get_png_info(dir,name,&width,&height);
    101              town->sizes_x[i]=f?width:0;
    102              map_width+=town->sizes_x[i];
    103            }  
    104            for (int i=0; i<y_size; i++)
   \                     ??InitDirPng_6:
   \   000000F0   0090A0E3           MOV      R9,#+0
   \   000000F4   010058E3           CMP      R8,#+1
   \   000000F8   220000AA           BGE      ??InitDirPng_7
    105            {
    106              snwprintf(name,63,L"%s_%02u_00.png",town->name,i);
    107              f=get_png_info(dir,name,&width,&height);
    108              town->sizes_y[i]=f?height:0;
    109              map_height+=town->sizes_y[i];
    110            }
    111            town->map_arr_x=x_size;
   \                     ??InitDirPng_8:
   \   000000FC   207084E5           STR      R7,[R4, #+32]
    112            town->map_arr_y=y_size;
   \   00000100   248084E5           STR      R8,[R4, #+36]
    113            town->map_width=map_width;
   \   00000104   185084E5           STR      R5,[R4, #+24]
    114            town->map_height=map_height;
   \   00000108   1C6084E5           STR      R6,[R4, #+28]
    115          }
   \   0000010C   49DF8DE2           ADD      SP,SP,#+292
   \   00000110   F083BDE8           POP      {R4-R9,PC}       ;; return
   \                     ??InitDirPng_9:
   \   00000114   281094E5           LDR      R1,[R4, #+40]
   \   00000118   055080E0           ADD      R5,R0,R5
   \   0000011C   091181E0           ADD      R1,R1,R9, LSL #+2
   \   00000120   000081E5           STR      R0,[R1, #+0]
   \   00000124   019089E2           ADD      R9,R9,#+1
   \                     ??InitDirPng_5:
   \   00000128   070059E1           CMP      R9,R7
   \   0000012C   EFFFFFAA           BGE      ??InitDirPng_6
   \   00000130   9C209FE5           LDR      R2,??InitDirPng_2  ;; `?<Constant L"\\x25\\x6c\\x73\\x2f\\x47\\x70\\x73\\x4d\\` + 64
   \   00000134   0900A0E1           MOV      R0,R9
   \   00000138   01002DE9           PUSH     {R0}
   \   0000013C   003094E5           LDR      R3,[R4, #+0]
   \   00000140   3F10A0E3           MOV      R1,#+63
   \   00000144   8C008DE2           ADD      R0,SP,#+140
   \   00000148   150100EF           SWI      +277
   \   0000014C   08308DE2           ADD      R3,SP,#+8
   \   00000150   04208DE2           ADD      R2,SP,#+4
   \   00000154   8C108DE2           ADD      R1,SP,#+140
   \   00000158   0C008DE2           ADD      R0,SP,#+12
   \   0000015C   ........           _BLF     ??get_png_info,??get_png_info??rA
   \   00000160   000050E3           CMP      R0,#+0
   \   00000164   04D08DE2           ADD      SP,SP,#+4
   \   00000168   00009D15           LDRNE    R0,[SP, #+0]
   \   0000016C   0000A003           MOVEQ    R0,#+0
   \   00000170   E7FFFFEA           B        ??InitDirPng_9
   \                     ??InitDirPng_10:
   \   00000174   2C1094E5           LDR      R1,[R4, #+44]
   \   00000178   066080E0           ADD      R6,R0,R6
   \   0000017C   091181E0           ADD      R1,R1,R9, LSL #+2
   \   00000180   000081E5           STR      R0,[R1, #+0]
   \   00000184   019089E2           ADD      R9,R9,#+1
   \                     ??InitDirPng_7:
   \   00000188   080059E1           CMP      R9,R8
   \   0000018C   DAFFFFAA           BGE      ??InitDirPng_8
   \   00000190   40209FE5           LDR      R2,??InitDirPng_2+0x4  ;; `?<Constant L"\\x25\\x6c\\x73\\x2f\\x47\\x70\\x73\\x4d\\` + 96
   \   00000194   0900A0E1           MOV      R0,R9
   \   00000198   01002DE9           PUSH     {R0}
   \   0000019C   003094E5           LDR      R3,[R4, #+0]
   \   000001A0   3F10A0E3           MOV      R1,#+63
   \   000001A4   8C008DE2           ADD      R0,SP,#+140
   \   000001A8   150100EF           SWI      +277
   \   000001AC   08308DE2           ADD      R3,SP,#+8
   \   000001B0   04208DE2           ADD      R2,SP,#+4
   \   000001B4   8C108DE2           ADD      R1,SP,#+140
   \   000001B8   0C008DE2           ADD      R0,SP,#+12
   \   000001BC   ........           _BLF     ??get_png_info,??get_png_info??rA
   \   000001C0   000050E3           CMP      R0,#+0
   \   000001C4   04D08DE2           ADD      SP,SP,#+4
   \   000001C8   04009D15           LDRNE    R0,[SP, #+4]
   \   000001CC   0000A003           MOVEQ    R0,#+0
   \   000001D0   E7FFFFEA           B        ??InitDirPng_10
   \                     ??InitDirPng_2:
   \   000001D4   ........           DC32     `?<Constant L"\\x25\\x6c\\x73\\x2f\\x47\\x70\\x73\\x4d\\` + 64
   \   000001D8   ........           DC32     `?<Constant L"\\x25\\x6c\\x73\\x2f\\x47\\x70\\x73\\x4d\\` + 96
    116          

   \                                 In segment CODE, align 4, keep-with-next
    117          void DeInitDirPng(TOWN *town)
    118          {
   \                     ??DeInitDirPng:
   \   00000000   10402DE9           PUSH     {R4,LR}
   \   00000004   0040A0E1           MOV      R4,R0
    119            delete town->sizes_x;
   \   00000008   280094E5           LDR      R0,[R4, #+40]
   \   0000000C   ........           _BLF     `??operator delete`,`??operator delete??rA`
    120            delete town->sizes_y;
   \   00000010   2C0094E5           LDR      R0,[R4, #+44]
   \   00000014   1040BDE8           POP      {R4,LR}          ;; Pop
   \   00000018   ........           _BF      `??operator delete`,`??operator delete??rA`  ;; tailcall
    121          }
    122          
    123          

   \                                 In segment CODE, align 4, keep-with-next
    124          int PngCmpProc(void *what, void *where)
    125          {
    126            PNG_LIST *png_lst=(PNG_LIST *)what;
    127            int x=((int *)where)[0];
    128            int y=((int *)where)[1];
    129            return  (png_lst->index_x==x && png_lst->index_y==y)?0:1;
   \                     ??PngCmpProc:
   \   00000000   002090E5           LDR      R2,[R0, #+0]
   \   00000004   003091E5           LDR      R3,[R1, #+0]
   \   00000008   030052E1           CMP      R2,R3
   \   0000000C   0400001A           BNE      ??PngCmpProc_1
   \   00000010   040090E5           LDR      R0,[R0, #+4]
   \   00000014   041091E5           LDR      R1,[R1, #+4]
   \   00000018   010050E1           CMP      R0,R1
   \   0000001C   0000A003           MOVEQ    R0,#+0
   \   00000020   1EFF2F01           BXEQ     LR
   \                     ??PngCmpProc_1:
   \   00000024   0100A0E3           MOV      R0,#+1
   \   00000028   1EFF2FE1           BX       LR               ;; return
    130          }
    131          

   \                                 In segment CODE, align 4, keep-with-next
    132          void RecalkPos(DISP_OBJ_MAP *db)
    133          {
   \                     ??RecalkPos:
   \   00000000   F0472DE9           PUSH     {R4-R10,LR}
   \   00000004   08D04DE2           SUB      SP,SP,#+8
   \   00000008   0040A0E1           MOV      R4,R0
    134            int cidlac[2];
    135            float Xres=0, Yres=0, Kres=0, Kn;
   \   0000000C   0050A0E3           MOV      R5,#+0
   \   00000010   0060A0E3           MOV      R6,#+0
   \   00000014   0570A0E1           MOV      R7,R5
    136            for (int i=1; i<7; i++)
   \   00000018   0180A0E3           MOV      R8,#+1
    137            {
    138              cidlac[0]=GetCid_ByCh(i);
   \                     ??RecalkPos_1:
   \   0000001C   0800A0E1           MOV      R0,R8
   \   00000020   ........           BL       ??GetCid_ByCh
   \   00000024   00008DE5           STR      R0,[SP, #+0]
    139              cidlac[1]=GetLac_ByCh(i);
   \   00000028   0800A0E1           MOV      R0,R8
   \   0000002C   ........           BL       ??GetLac_ByCh
    140              int index=List_Find(db->ini.cur_town->bs_dat,&cidlac,FindBSByCiLac);
   \   00000030   70219FE5           LDR      R2,??RecalkPos_2  ;; ??FindBSByCiLac
   \   00000034   04008DE5           STR      R0,[SP, #+4]
   \   00000038   900194E5           LDR      R0,[R4, #+400]
   \   0000003C   0D10A0E1           MOV      R1,SP
   \   00000040   300090E5           LDR      R0,[R0, #+48]
   \   00000044   AC0100EF           SWI      +428
   \   00000048   00A0A0E1           MOV      R10,R0
    141              if (index!=LIST_ERROR)
   \   0000004C   FF00A0E3           MOV      R0,#+255
   \   00000050   FF0C80E3           ORR      R0,R0,#0xFF00
   \   00000054   00005AE1           CMP      R10,R0
   \   00000058   2200000A           BEQ      ??RecalkPos_3
    142              {
    143                int rx=GetRxLev_ByCh(i);
   \   0000005C   0800A0E1           MOV      R0,R8
   \   00000060   ........           BL       ??GetRxLev_ByCh
   \   00000064   0090A0E1           MOV      R9,R0
    144                BS_POINT *bs=(BS_POINT *)List_Get(db->ini.cur_town->bs_dat,index);
   \   00000068   900194E5           LDR      R0,[R4, #+400]
   \   0000006C   0A10A0E1           MOV      R1,R10
   \   00000070   300090E5           LDR      R0,[R0, #+48]
   \   00000074   AD0100EF           SWI      +429
    145                Kn=powf(10,(rx+30)/5);
   \   00000078   2C119FE5           LDR      R1,??RecalkPos_2+0x4  ;; 0x66666667
   \   0000007C   00A0A0E1           MOV      R10,R0
   \   00000080   1E0089E2           ADD      R0,R9,#+30
   \   00000084   9120C3E0           SMULL    R2,R3,R1,R0
   \   00000088   C330A0E1           ASR      R3,R3,#+1
   \   0000008C   A00F83E0           ADD      R0,R3,R0, LSR #+31
   \   00000090   ........           _BLF     __longToFloat,??__longToFloat??rA
   \   00000094   0010A0E1           MOV      R1,R0
   \   00000098   4004A0E3           MOV      R0,#+1073741824
   \   0000009C   480780E3           ORR      R0,R0,#0x1200000
   \   000000A0   ........           _BLF     powf,??powf??rA
   \   000000A4   0090A0E1           MOV      R9,R0
    146                Xres+=bs->point_x*Kn;
   \   000000A8   04009AE5           LDR      R0,[R10, #+4]
   \   000000AC   0910A0E1           MOV      R1,R9
   \   000000B0   ........           _BLF     __fMul,??__fMul??rA
   \   000000B4   0510A0E1           MOV      R1,R5
   \   000000B8   ........           _BLF     __fAdd,??__fAdd??rA
   \   000000BC   0050A0E1           MOV      R5,R0
    147                Yres+=bs->point_y*Kn;
   \   000000C0   08009AE5           LDR      R0,[R10, #+8]
   \   000000C4   0910A0E1           MOV      R1,R9
   \   000000C8   ........           _BLF     __fMul,??__fMul??rA
   \   000000CC   0610A0E1           MOV      R1,R6
   \   000000D0   ........           _BLF     __fAdd,??__fAdd??rA
   \   000000D4   0060A0E1           MOV      R6,R0
    148                Kres+=Kn;
   \   000000D8   0700A0E1           MOV      R0,R7
   \   000000DC   0910A0E1           MOV      R1,R9
   \   000000E0   ........           _BLF     __fAdd,??__fAdd??rA
   \   000000E4   0070A0E1           MOV      R7,R0
    149              }
    150            }
   \                     ??RecalkPos_3:
   \   000000E8   018088E2           ADD      R8,R8,#+1
   \   000000EC   070058E3           CMP      R8,#+7
   \   000000F0   C9FFFFBA           BLT      ??RecalkPos_1
    151            db->Xres=Xres/=Kres;
   \   000000F4   0500A0E1           MOV      R0,R5
   \   000000F8   0710A0E1           MOV      R1,R7
   \   000000FC   ........           _BLF     __fDiv,??__fDiv??rA
   \   00000100   0050A0E1           MOV      R5,R0
   \   00000104   9C5184E5           STR      R5,[R4, #+412]
    152            db->Yres=Yres/=Kres;
   \   00000108   0600A0E1           MOV      R0,R6
   \   0000010C   0710A0E1           MOV      R1,R7
   \   00000110   ........           _BLF     __fDiv,??__fDiv??rA
   \   00000114   0010A0E1           MOV      R1,R0
   \   00000118   A01184E5           STR      R1,[R4, #+416]
   \   0000011C   906194E5           LDR      R6,[R4, #+400]
   \   00000120   0C0096E5           LDR      R0,[R6, #+12]
   \   00000124   ........           _BLF     __fSub,??__fSub??rA
   \   00000128   0C1096E5           LDR      R1,[R6, #+12]
   \   0000012C   8074C0E3           BIC      R7,R0,#0x80000000
   \   00000130   140096E5           LDR      R0,[R6, #+20]
   \   00000134   ........           _BLF     __fSub,??__fSub??rA
   \   00000138   8014C0E3           BIC      R1,R0,#0x80000000
   \   0000013C   1C0096E5           LDR      R0,[R6, #+28]
   \   00000140   0180A0E1           MOV      R8,R1
   \   00000144   ........           _BLF     __longToFloat,??__longToFloat??rA
   \   00000148   0710A0E1           MOV      R1,R7
   \   0000014C   ........           _BLF     __fMul,??__fMul??rA
   \   00000150   0810A0E1           MOV      R1,R8
   \   00000154   ........           _BLF     __fDiv,??__fDiv??rA
   \   00000158   ........           _BLF     __floatToLong,??__floatToLong??rA
   \   0000015C   880184E5           STR      R0,[R4, #+392]
    153            db->total_y_pos=(fabsf(db->ini.cur_town->start_y-Yres))*db->ini.cur_town->map_height/(fabsf(db->ini.cur_town->end_y-db->ini.cur_town->start_y));
    154            db->total_x_pos=(fabsf(db->ini.cur_town->start_x-Xres))*db->ini.cur_town->map_width/(fabsf(db->ini.cur_town->end_x-db->ini.cur_town->start_x));
   \   00000160   080096E5           LDR      R0,[R6, #+8]
   \   00000164   0510A0E1           MOV      R1,R5
   \   00000168   ........           _BLF     __fSub,??__fSub??rA
   \   0000016C   081096E5           LDR      R1,[R6, #+8]
   \   00000170   8054C0E3           BIC      R5,R0,#0x80000000
   \   00000174   100096E5           LDR      R0,[R6, #+16]
   \   00000178   ........           _BLF     __fSub,??__fSub??rA
   \   0000017C   8014C0E3           BIC      R1,R0,#0x80000000
   \   00000180   180096E5           LDR      R0,[R6, #+24]
   \   00000184   0170A0E1           MOV      R7,R1
   \   00000188   ........           _BLF     __longToFloat,??__longToFloat??rA
   \   0000018C   0510A0E1           MOV      R1,R5
   \   00000190   ........           _BLF     __fMul,??__fMul??rA
   \   00000194   0710A0E1           MOV      R1,R7
   \   00000198   ........           _BLF     __fDiv,??__fDiv??rA
   \   0000019C   ........           _BLF     __floatToLong,??__floatToLong??rA
   \   000001A0   840184E5           STR      R0,[R4, #+388]
    155          }
   \   000001A4   F387BDE8           POP      {R0,R1,R4-R10,PC}  ;; return
   \                     ??RecalkPos_2:
   \   000001A8   ........           DC32     ??FindBSByCiLac
   \   000001AC   67666666           DC32     0x66666667
    156          

   \                                 In segment CODE, align 4, keep-with-next
    157          void FillScreenBuffer(DISP_OBJ_MAP *db)
    158          {
   \                     ??FillScreenBuffer:
   \   00000000   F04F2DE9           PUSH     {R4-R11,LR}
   \   00000004   34D04DE2           SUB      SP,SP,#+52
   \   00000008   0040A0E1           MOV      R4,R0
    159            int block_x1=0, block_x2=0, block_y1=0, block_y2=0;
   \   0000000C   0010A0E3           MOV      R1,#+0
   \   00000010   14108DE5           STR      R1,[SP, #+20]
   \   00000014   00108DE5           STR      R1,[SP, #+0]
   \   00000018   18108DE5           STR      R1,[SP, #+24]
   \   0000001C   04108DE5           STR      R1,[SP, #+4]
    160            int width=db->x2-db->x1, height=db->y2-db->y1;  // ширина и высота экрана
   \   00000020   700194E5           LDR      R0,[R4, #+368]
   \   00000024   6C1194E5           LDR      R1,[R4, #+364]
   \   00000028   015040E0           SUB      R5,R0,R1
   \   0000002C   780194E5           LDR      R0,[R4, #+376]
   \   00000030   741194E5           LDR      R1,[R4, #+372]
   \   00000034   016040E0           SUB      R6,R0,R1
    161            int cur_x_offs=db->total_x_pos<(width/2)?0:db->total_x_pos>=(db->ini.cur_town->map_width-width/2)?db->ini.cur_town->map_width-width:db->total_x_pos-width/2;
   \   00000038   840194E5           LDR      R0,[R4, #+388]
   \   0000003C   A51F85E0           ADD      R1,R5,R5, LSR #+31
   \   00000040   C10050E1           CMP      R0,R1, ASR #+1
   \   00000044   0010A0B3           MOVLT    R1,#+0
   \   00000048   0A0000BA           BLT      ??FillScreenBuffer_1
   \   0000004C   901194E5           LDR      R1,[R4, #+400]
   \   00000050   A52F85E0           ADD      R2,R5,R5, LSR #+31
   \   00000054   181091E5           LDR      R1,[R1, #+24]
   \   00000058   C21041E0           SUB      R1,R1,R2, ASR #+1
   \   0000005C   010050E1           CMP      R0,R1
   \   00000060   030000BA           BLT      ??FillScreenBuffer_2
   \   00000064   901194E5           LDR      R1,[R4, #+400]
   \   00000068   181091E5           LDR      R1,[R1, #+24]
   \   0000006C   051041E0           SUB      R1,R1,R5
   \   00000070   000000EA           B        ??FillScreenBuffer_1
   \                     ??FillScreenBuffer_2:
   \   00000074   C21040E0           SUB      R1,R0,R2, ASR #+1
   \                     ??FillScreenBuffer_1:
   \   00000078   08108DE5           STR      R1,[SP, #+8]
    162            int cur_pos_x=db->total_x_pos-cur_x_offs;
   \   0000007C   841194E5           LDR      R1,[R4, #+388]
   \   00000080   08209DE5           LDR      R2,[SP, #+8]
   \   00000084   021041E0           SUB      R1,R1,R2
   \   00000088   1C108DE5           STR      R1,[SP, #+28]
    163            int cur_y_offs=db->total_y_pos<(height/2)?0:db->total_y_pos>=(db->ini.cur_town->map_height-height/2)?db->ini.cur_town->map_height-height:db->total_y_pos-height/2;
   \   0000008C   880194E5           LDR      R0,[R4, #+392]
   \   00000090   A61F86E0           ADD      R1,R6,R6, LSR #+31
   \   00000094   C10050E1           CMP      R0,R1, ASR #+1
   \   00000098   0010A0B3           MOVLT    R1,#+0
   \   0000009C   0A0000BA           BLT      ??FillScreenBuffer_3
   \   000000A0   901194E5           LDR      R1,[R4, #+400]
   \   000000A4   A62F86E0           ADD      R2,R6,R6, LSR #+31
   \   000000A8   1C1091E5           LDR      R1,[R1, #+28]
   \   000000AC   C21041E0           SUB      R1,R1,R2, ASR #+1
   \   000000B0   010050E1           CMP      R0,R1
   \   000000B4   030000BA           BLT      ??FillScreenBuffer_4
   \   000000B8   901194E5           LDR      R1,[R4, #+400]
   \   000000BC   1C1091E5           LDR      R1,[R1, #+28]
   \   000000C0   061041E0           SUB      R1,R1,R6
   \   000000C4   000000EA           B        ??FillScreenBuffer_3
   \                     ??FillScreenBuffer_4:
   \   000000C8   C21040E0           SUB      R1,R0,R2, ASR #+1
   \                     ??FillScreenBuffer_3:
   \   000000CC   0C108DE5           STR      R1,[SP, #+12]
    164            int cur_pos_y=db->total_y_pos-cur_y_offs;
   \   000000D0   881194E5           LDR      R1,[R4, #+392]
   \   000000D4   0C209DE5           LDR      R2,[SP, #+12]
    165            
    166            int *scr_buf=db->scr_buf;
    167            for (int i=0,x_offs=0; i<db->ini.cur_town->map_arr_x; i++)   // Подсчитываем какие куски надо прочитать
   \   000000D8   0000A0E3           MOV      R0,#+0
   \   000000DC   021041E0           SUB      R1,R1,R2
   \   000000E0   20108DE5           STR      R1,[SP, #+32]
   \   000000E4   947194E5           LDR      R7,[R4, #+404]
   \   000000E8   0010A0E3           MOV      R1,#+0
   \   000000EC   000000EA           B        ??FillScreenBuffer_5
   \                     ??FillScreenBuffer_6:
   \   000000F0   010080E2           ADD      R0,R0,#+1
   \                     ??FillScreenBuffer_5:
   \   000000F4   902194E5           LDR      R2,[R4, #+400]
   \   000000F8   202092E5           LDR      R2,[R2, #+32]
   \   000000FC   020050E1           CMP      R0,R2
   \   00000100   0B0000AA           BGE      ??FillScreenBuffer_7
    168            {
    169              if (x_offs<=cur_x_offs) block_x1=i;
   \   00000104   08209DE5           LDR      R2,[SP, #+8]
   \   00000108   010052E1           CMP      R2,R1
   \   0000010C   14008DA5           STRGE    R0,[SP, #+20]
    170              x_offs+=db->ini.cur_town->sizes_x[i];
   \   00000110   902194E5           LDR      R2,[R4, #+400]
   \   00000114   282092E5           LDR      R2,[R2, #+40]
   \   00000118   002192E7           LDR      R2,[R2, +R0, LSL #+2]
    171              block_x2=i;
   \   0000011C   00008DE5           STR      R0,[SP, #+0]
   \   00000120   011082E0           ADD      R1,R2,R1
    172              if (x_offs>(cur_x_offs+width)) break;
   \   00000124   08209DE5           LDR      R2,[SP, #+8]
   \   00000128   022085E0           ADD      R2,R5,R2
   \   0000012C   010052E1           CMP      R2,R1
   \   00000130   EEFFFFAA           BGE      ??FillScreenBuffer_6
    173            }
    174            for (int i=0,y_offs=0; i<db->ini.cur_town->map_arr_y; i++)
   \                     ??FillScreenBuffer_7:
   \   00000134   0000A0E3           MOV      R0,#+0
   \   00000138   0010A0E3           MOV      R1,#+0
   \   0000013C   000000EA           B        ??FillScreenBuffer_8
   \                     ??FillScreenBuffer_9:
   \   00000140   010080E2           ADD      R0,R0,#+1
   \                     ??FillScreenBuffer_8:
   \   00000144   902194E5           LDR      R2,[R4, #+400]
   \   00000148   242092E5           LDR      R2,[R2, #+36]
   \   0000014C   020050E1           CMP      R0,R2
   \   00000150   0B0000AA           BGE      ??FillScreenBuffer_10
    175            {
    176              if (y_offs<=cur_y_offs) block_y1=i;
   \   00000154   0C209DE5           LDR      R2,[SP, #+12]
   \   00000158   010052E1           CMP      R2,R1
   \   0000015C   18008DA5           STRGE    R0,[SP, #+24]
    177              y_offs+=db->ini.cur_town->sizes_y[i];
   \   00000160   902194E5           LDR      R2,[R4, #+400]
   \   00000164   2C2092E5           LDR      R2,[R2, #+44]
   \   00000168   002192E7           LDR      R2,[R2, +R0, LSL #+2]
    178              block_y2=i;
   \   0000016C   04008DE5           STR      R0,[SP, #+4]
   \   00000170   011082E0           ADD      R1,R2,R1
    179              if (y_offs>(cur_y_offs+height)) break; 
   \   00000174   0C209DE5           LDR      R2,[SP, #+12]
   \   00000178   022086E0           ADD      R2,R6,R2
   \   0000017C   010052E1           CMP      R2,R1
   \   00000180   EEFFFFAA           BGE      ??FillScreenBuffer_9
    180            }
    181            for (int i=0; i<db->png_cache->FirstFree; i++)
   \                     ??FillScreenBuffer_10:
   \   00000184   980194E5           LDR      R0,[R4, #+408]
   \   00000188   0080A0E3           MOV      R8,#+0
   \   0000018C   B200D0E1           LDRH     R0,[R0, #+2]
   \   00000190   000050E3           CMP      R0,#+0
   \   00000194   1E00001A           BNE      ??FillScreenBuffer_11
   \   00000198   210000EA           B        ??FillScreenBuffer_12
    182            {
    183              PNG_LIST *png_lst=(PNG_LIST *)List_Get(db->png_cache,db->png_cache->FirstFree-1);
   \                     ??FillScreenBuffer_13:
   \   0000019C   980194E5           LDR      R0,[R4, #+408]
   \   000001A0   B210D0E1           LDRH     R1,[R0, #+2]
   \   000001A4   011041E2           SUB      R1,R1,#+1
   \   000001A8   AD0100EF           SWI      +429
    184              if ((png_lst->index_x<block_x1 || png_lst->index_x>block_x2 ||
    185                  png_lst->index_y<block_y1 || png_lst->index_y>block_y2) && db->png_cache->FirstFree>10)
   \   000001AC   001090E5           LDR      R1,[R0, #+0]
   \   000001B0   14209DE5           LDR      R2,[SP, #+20]
   \   000001B4   020051E1           CMP      R1,R2
   \   000001B8   0B0000BA           BLT      ??FillScreenBuffer_14
   \   000001BC   00109DE5           LDR      R1,[SP, #+0]
   \   000001C0   002090E5           LDR      R2,[R0, #+0]
   \   000001C4   020051E1           CMP      R1,R2
   \   000001C8   070000BA           BLT      ??FillScreenBuffer_14
   \   000001CC   041090E5           LDR      R1,[R0, #+4]
   \   000001D0   18209DE5           LDR      R2,[SP, #+24]
   \   000001D4   020051E1           CMP      R1,R2
   \   000001D8   030000BA           BLT      ??FillScreenBuffer_14
   \   000001DC   04109DE5           LDR      R1,[SP, #+4]
   \   000001E0   040090E5           LDR      R0,[R0, #+4]
   \   000001E4   000051E1           CMP      R1,R0
   \   000001E8   080000AA           BGE      ??FillScreenBuffer_15
   \                     ??FillScreenBuffer_14:
   \   000001EC   980194E5           LDR      R0,[R4, #+408]
   \   000001F0   B200D0E1           LDRH     R0,[R0, #+2]
   \   000001F4   0B0050E3           CMP      R0,#+11
   \   000001F8   0400003A           BCC      ??FillScreenBuffer_15
    186              {
    187                png_lst=(PNG_LIST *)List_RemoveAt(db->png_cache,db->png_cache->FirstFree-1);
   \   000001FC   980194E5           LDR      R0,[R4, #+408]
   \   00000200   B210D0E1           LDRH     R1,[R0, #+2]
   \   00000204   011041E2           SUB      R1,R1,#+1
   \   00000208   790100EF           SWI      +377
    188                RemovePngListElement(png_lst);
   \   0000020C   ........           _BLF     ??RemovePngListElement,??RemovePngListElement??rA
    189              }
    190            }
   \                     ??FillScreenBuffer_15:
   \   00000210   018088E2           ADD      R8,R8,#+1
   \                     ??FillScreenBuffer_11:
   \   00000214   980194E5           LDR      R0,[R4, #+408]
   \   00000218   B200D0E1           LDRH     R0,[R0, #+2]
   \   0000021C   000058E1           CMP      R8,R0
   \   00000220   DDFFFFBA           BLT      ??FillScreenBuffer_13
    191          
    192            for(int y=block_y1; y<=block_y2; y++)     // Если чего то не хватает загружаем
   \                     ??FillScreenBuffer_12:
   \   00000224   18809DE5           LDR      R8,[SP, #+24]
   \   00000228   04009DE5           LDR      R0,[SP, #+4]
   \   0000022C   080050E1           CMP      R0,R8
   \   00000230   1B0000BA           BLT      ??FillScreenBuffer_16
    193            {
    194              for(int x=block_x1; x<=block_x2; x++)
   \                     ??FillScreenBuffer_17:
   \   00000234   14909DE5           LDR      R9,[SP, #+20]
   \   00000238   00009DE5           LDR      R0,[SP, #+0]
   \   0000023C   090050E1           CMP      R0,R9
   \   00000240   130000BA           BLT      ??FillScreenBuffer_18
    195              {
    196                int xy[2];
    197                xy[0]=x;
    198                xy[1]=y;
    199                if (List_Find(db->png_cache,&xy,PngCmpProc)==LIST_ERROR) ReadPngFile(db->png_cache,db->ini.cur_town->name,x,y);
   \                     ??FillScreenBuffer_19:
   \   00000244   8C229FE5           LDR      R2,??FillScreenBuffer_20  ;; ??PngCmpProc
   \   00000248   24908DE5           STR      R9,[SP, #+36]
   \   0000024C   28808DE5           STR      R8,[SP, #+40]
   \   00000250   980194E5           LDR      R0,[R4, #+408]
   \   00000254   24108DE2           ADD      R1,SP,#+36
   \   00000258   AC0100EF           SWI      +428
   \   0000025C   FF10A0E3           MOV      R1,#+255
   \   00000260   FF1C81E3           ORR      R1,R1,#0xFF00
   \   00000264   010050E1           CMP      R0,R1
   \   00000268   0500001A           BNE      ??FillScreenBuffer_21
   \   0000026C   900194E5           LDR      R0,[R4, #+400]
   \   00000270   0830A0E1           MOV      R3,R8
   \   00000274   001090E5           LDR      R1,[R0, #+0]
   \   00000278   980194E5           LDR      R0,[R4, #+408]
   \   0000027C   0920A0E1           MOV      R2,R9
   \   00000280   ........           BL       ??ReadPngFile
    200              }
   \                     ??FillScreenBuffer_21:
   \   00000284   00009DE5           LDR      R0,[SP, #+0]
   \   00000288   019089E2           ADD      R9,R9,#+1
   \   0000028C   090050E1           CMP      R0,R9
   \   00000290   EBFFFFAA           BGE      ??FillScreenBuffer_19
    201            }
   \                     ??FillScreenBuffer_18:
   \   00000294   04009DE5           LDR      R0,[SP, #+4]
   \   00000298   018088E2           ADD      R8,R8,#+1
   \   0000029C   080050E1           CMP      R0,R8
   \   000002A0   E3FFFFAA           BGE      ??FillScreenBuffer_17
    202            
    203            for (int y=0,y_offs=0; y<=block_y2; y++)
   \                     ??FillScreenBuffer_16:
   \   000002A4   0010A0E3           MOV      R1,#+0
   \   000002A8   10108DE5           STR      R1,[SP, #+16]
   \   000002AC   2C108DE5           STR      R1,[SP, #+44]
   \   000002B0   04009DE5           LDR      R0,[SP, #+4]
   \   000002B4   000050E3           CMP      R0,#+0
   \   000002B8   2D00005A           BPL      ??FillScreenBuffer_22
    204            {
    205              if (y>=block_y1)
    206              {
    207                for(int x=0,x_offs=0; x<=block_x2; x++)
    208                {
    209                  if (x>=block_x1)
    210                  {
    211                    int index;
    212                    int xy[2];
    213                    xy[0]=x;
    214                    xy[1]=y;
    215                    index=List_Find(db->png_cache,&xy,PngCmpProc);
    216                    if (index!=LIST_ERROR)
    217                    {
    218                      PNG_LIST *png_lst=(PNG_LIST *)List_Get(db->png_cache,index);
    219                      int img_x_offs=x_offs-cur_x_offs;
    220                      int img_y_offs=y_offs-cur_y_offs;
    221                      for (int y1=0; y1<height; y1++)
    222                      {
    223                        if (y1>=(img_y_offs) && y1<(img_y_offs+png_lst->height))
    224                        {
    225                          for (int x1=0; x1<width; x1++)
    226                          {
    227                            if (x1>=(img_x_offs) && x1<(img_x_offs+png_lst->width))
    228                            {
    229                              unsigned int c=png_lst->image[(y1-img_y_offs)*png_lst->width+x1-img_x_offs];
    230                              scr_buf[y1*width+x1]=COLOR((c&0xE0),((c&0x1C)<<3),((c&3)<<6),0xFF); 
    231                            }
    232                          }
    233                        }
    234                      }
    235                    }
    236                  }
    237                  x_offs+=db->ini.cur_town->sizes_x[x];
    238                }
    239              }
    240              y_offs+=db->ini.cur_town->sizes_y[y];
    241            }
    242            // Рисуем крестик
    243            for (int i=-5, x=cur_pos_x; i<=5 ; i++) if ((x+i)>=0 && (x+i)<width ) scr_buf[cur_pos_y*width+x+i]=0xFF000000;
   \                     ??FillScreenBuffer_23:
   \   000002BC   0400E0E3           MVN      R0,#+4
   \                     ??FillScreenBuffer_24:
   \   000002C0   1C109DE5           LDR      R1,[SP, #+28]
   \   000002C4   011090E0           ADDS     R1,R0,R1
   \   000002C8   0900004A           BMI      ??FillScreenBuffer_25
   \   000002CC   1C109DE5           LDR      R1,[SP, #+28]
   \   000002D0   011080E0           ADD      R1,R0,R1
   \   000002D4   050051E1           CMP      R1,R5
   \   000002D8   050000AA           BGE      ??FillScreenBuffer_25
   \   000002DC   20109DE5           LDR      R1,[SP, #+32]
   \   000002E0   1C209DE5           LDR      R2,[SP, #+28]
   \   000002E4   952121E0           MLA      R1,R5,R1,R2
   \   000002E8   FF24A0E3           MOV      R2,#-16777216
   \   000002EC   011080E0           ADD      R1,R0,R1
   \   000002F0   012187E7           STR      R2,[R7, +R1, LSL #+2]
   \                     ??FillScreenBuffer_25:
   \   000002F4   010080E2           ADD      R0,R0,#+1
   \   000002F8   060050E3           CMP      R0,#+6
   \   000002FC   EFFFFFBA           BLT      ??FillScreenBuffer_24
    244            for (int i=-5, y=cur_pos_y; i<=5 ; i++) if ((y+i)>=0 && (y+i)<height ) scr_buf[(y+i)*width+cur_pos_x]=0xFF000000;
   \   00000300   0400E0E3           MVN      R0,#+4
   \                     ??FillScreenBuffer_26:
   \   00000304   20109DE5           LDR      R1,[SP, #+32]
   \   00000308   011090E0           ADDS     R1,R0,R1
   \   0000030C   0900004A           BMI      ??FillScreenBuffer_27
   \   00000310   20109DE5           LDR      R1,[SP, #+32]
   \   00000314   011080E0           ADD      R1,R0,R1
   \   00000318   060051E1           CMP      R1,R6
   \   0000031C   050000AA           BGE      ??FillScreenBuffer_27
   \   00000320   20109DE5           LDR      R1,[SP, #+32]
   \   00000324   1C209DE5           LDR      R2,[SP, #+28]
   \   00000328   011080E0           ADD      R1,R0,R1
   \   0000032C   952121E0           MLA      R1,R5,R1,R2
   \   00000330   FF24A0E3           MOV      R2,#-16777216
   \   00000334   012187E7           STR      R2,[R7, +R1, LSL #+2]
   \                     ??FillScreenBuffer_27:
   \   00000338   010080E2           ADD      R0,R0,#+1
   \   0000033C   060050E3           CMP      R0,#+6
   \   00000340   EFFFFFBA           BLT      ??FillScreenBuffer_26
    245            //drawcircle(scr_buf,width, height, 0,0, 32, 0xFF000000);
    246            //drawline(scr_buf,width, height, 0, 0, width-1, height-1, 0xFF000000);
    247          }
   \   00000344   34D08DE2           ADD      SP,SP,#+52       ;; stack cleaning
   \   00000348   F08FBDE8           POP      {R4-R11,PC}      ;; return
   \                     ??FillScreenBuffer_28:
   \   0000034C   903194E5           LDR      R3,[R4, #+400]
   \   00000350   10209DE5           LDR      R2,[SP, #+16]
   \   00000354   2C3093E5           LDR      R3,[R3, #+44]
   \   00000358   2C109DE5           LDR      R1,[SP, #+44]
   \   0000035C   022193E7           LDR      R2,[R3, +R2, LSL #+2]
   \   00000360   011082E0           ADD      R1,R2,R1
   \   00000364   2C108DE5           STR      R1,[SP, #+44]
   \   00000368   10109DE5           LDR      R1,[SP, #+16]
   \   0000036C   011081E2           ADD      R1,R1,#+1
   \   00000370   10108DE5           STR      R1,[SP, #+16]
   \                     ??FillScreenBuffer_22:
   \   00000374   04009DE5           LDR      R0,[SP, #+4]
   \   00000378   10109DE5           LDR      R1,[SP, #+16]
   \   0000037C   010050E1           CMP      R0,R1
   \   00000380   CDFFFFBA           BLT      ??FillScreenBuffer_23
   \   00000384   0100A0E1           MOV      R0,R1
   \   00000388   18109DE5           LDR      R1,[SP, #+24]
   \   0000038C   010050E1           CMP      R0,R1
   \   00000390   EDFFFFBA           BLT      ??FillScreenBuffer_28
   \   00000394   0010A0E3           MOV      R1,#+0
   \   00000398   30108DE5           STR      R1,[SP, #+48]
   \   0000039C   00009DE5           LDR      R0,[SP, #+0]
   \   000003A0   0080A0E3           MOV      R8,#+0
   \   000003A4   000050E3           CMP      R0,#+0
   \   000003A8   0700005A           BPL      ??FillScreenBuffer_29
   \   000003AC   E6FFFFEA           B        ??FillScreenBuffer_28
   \                     ??FillScreenBuffer_30:
   \   000003B0   902194E5           LDR      R2,[R4, #+400]
   \   000003B4   30109DE5           LDR      R1,[SP, #+48]
   \   000003B8   282092E5           LDR      R2,[R2, #+40]
   \   000003BC   082192E7           LDR      R2,[R2, +R8, LSL #+2]
   \   000003C0   018088E2           ADD      R8,R8,#+1
   \   000003C4   011082E0           ADD      R1,R2,R1
   \   000003C8   30108DE5           STR      R1,[SP, #+48]
   \                     ??FillScreenBuffer_29:
   \   000003CC   00009DE5           LDR      R0,[SP, #+0]
   \   000003D0   080050E1           CMP      R0,R8
   \   000003D4   DCFFFFBA           BLT      ??FillScreenBuffer_28
   \   000003D8   14009DE5           LDR      R0,[SP, #+20]
   \   000003DC   000058E1           CMP      R8,R0
   \   000003E0   F2FFFFBA           BLT      ??FillScreenBuffer_30
   \   000003E4   EC209FE5           LDR      R2,??FillScreenBuffer_20  ;; ??PngCmpProc
   \   000003E8   24808DE5           STR      R8,[SP, #+36]
   \   000003EC   10109DE5           LDR      R1,[SP, #+16]
   \   000003F0   28108DE5           STR      R1,[SP, #+40]
   \   000003F4   980194E5           LDR      R0,[R4, #+408]
   \   000003F8   24108DE2           ADD      R1,SP,#+36
   \   000003FC   AC0100EF           SWI      +428
   \   00000400   FF10A0E3           MOV      R1,#+255
   \   00000404   FF1C81E3           ORR      R1,R1,#0xFF00
   \   00000408   010050E1           CMP      R0,R1
   \   0000040C   E7FFFF0A           BEQ      ??FillScreenBuffer_30
   \   00000410   0010A0E1           MOV      R1,R0
   \   00000414   980194E5           LDR      R0,[R4, #+408]
   \   00000418   AD0100EF           SWI      +429
   \   0000041C   30109DE5           LDR      R1,[SP, #+48]
   \   00000420   08209DE5           LDR      R2,[SP, #+8]
   \   00000424   0C309DE5           LDR      R3,[SP, #+12]
   \   00000428   021041E0           SUB      R1,R1,R2
   \   0000042C   2C209DE5           LDR      R2,[SP, #+44]
   \   00000430   010056E3           CMP      R6,#+1
   \   00000434   032042E0           SUB      R2,R2,R3
   \   00000438   0030A0E3           MOV      R3,#+0
   \   0000043C   190000AA           BGE      ??FillScreenBuffer_31
   \   00000440   DAFFFFEA           B        ??FillScreenBuffer_30
   \                     ??FillScreenBuffer_32:
   \   00000444   010059E1           CMP      R9,R1
   \   00000448   120000BA           BLT      ??FillScreenBuffer_33
   \   0000044C   08C090E5           LDR      R12,[R0, #+8]
   \   00000450   01C08CE0           ADD      R12,R12,R1
   \   00000454   0C0059E1           CMP      R9,R12
   \   00000458   0E0000AA           BGE      ??FillScreenBuffer_33
   \   0000045C   08E090E5           LDR      LR,[R0, #+8]
   \   00000460   02C043E0           SUB      R12,R3,R2
   \   00000464   9E9C2CE0           MLA      R12,LR,R12,R9
   \   00000468   10E090E5           LDR      LR,[R0, #+16]
   \   0000046C   01C04CE0           SUB      R12,R12,R1
   \   00000470   0EC0DCE7           LDRB     R12,[R12, +LR]
   \   00000474   95932EE0           MLA      LR,R5,R3,R9
   \   00000478   FFA0A0E3           MOV      R10,#+255
   \   0000047C   0CA30AE0           AND      R10,R10,R12, LSL #+6
   \   00000480   1CB00CE2           AND      R11,R12,#0x1C
   \   00000484   8BA58AE1           ORR      R10,R10,R11, LSL #+11
   \   00000488   E0B00CE2           AND      R11,R12,#0xE0
   \   0000048C   0BA88AE1           ORR      R10,R10,R11, LSL #+16
   \   00000490   FFA48AE3           ORR      R10,R10,#0xFF000000
   \   00000494   0EA187E7           STR      R10,[R7, +LR, LSL #+2]
   \                     ??FillScreenBuffer_33:
   \   00000498   019089E2           ADD      R9,R9,#+1
   \                     ??FillScreenBuffer_34:
   \   0000049C   050059E1           CMP      R9,R5
   \   000004A0   E7FFFFBA           BLT      ??FillScreenBuffer_32
   \                     ??FillScreenBuffer_35:
   \   000004A4   013083E2           ADD      R3,R3,#+1
   \                     ??FillScreenBuffer_31:
   \   000004A8   060053E1           CMP      R3,R6
   \   000004AC   BFFFFFAA           BGE      ??FillScreenBuffer_30
   \   000004B0   020053E1           CMP      R3,R2
   \   000004B4   FAFFFFBA           BLT      ??FillScreenBuffer_35
   \   000004B8   0C9090E5           LDR      R9,[R0, #+12]
   \   000004BC   029089E0           ADD      R9,R9,R2
   \   000004C0   090053E1           CMP      R3,R9
   \   000004C4   F6FFFFAA           BGE      ??FillScreenBuffer_35
   \   000004C8   0090A0E3           MOV      R9,#+0
   \   000004CC   010055E3           CMP      R5,#+1
   \   000004D0   F1FFFFAA           BGE      ??FillScreenBuffer_34
   \   000004D4   F2FFFFEA           B        ??FillScreenBuffer_35
   \                     ??FillScreenBuffer_20:
   \   000004D8   ........           DC32     ??PngCmpProc
    248          

   \                                 In segment DATA_C, align 4, align-sorted
    249          static const char MapGuiName[]="Gui_GpsMAP";
   \                     MapGuiName:
   \   00000000   4775695F4770       DC8 "Gui_GpsMAP"
   \              734D415000  
   \   0000000B   00                 DC8 0
    250          

   \                                 In segment DATA_I, align 4, align-sorted
    251          int str_id=EMPTY_TEXTID;
   \                     str_id:
   \   00000000                      DS8 4
   \   00000004                      REQUIRE `?<Initializer for str_id>`

   \                                 In segment CODE, align 4, keep-with-next
    252          int MapGuiOnCreate(DISP_OBJ_MAP *db)
    253          {
   \                     ??MapGuiOnCreate:
   \   00000000   70402DE9           PUSH     {R4-R6,LR}
   \   00000004   0040A0E1           MOV      R4,R0
    254            TOWN *town;
    255            db->scr_buf=new int[(db->disp_y=Display_GetHeight(0))*(db->disp_x=Display_GetWidth(0))];
   \   00000008   0000A0E3           MOV      R0,#+0
   \   0000000C   580200EF           SWI      +600
   \   00000010   0050A0E1           MOV      R5,R0
   \   00000014   805184E5           STR      R5,[R4, #+384]
   \   00000018   0000A0E3           MOV      R0,#+0
   \   0000001C   590200EF           SWI      +601
   \   00000020   900501E0           MUL      R1,R0,R5
   \   00000024   7C0184E5           STR      R0,[R4, #+380]
   \   00000028   0101A0E1           LSL      R0,R1,#+2
   \   0000002C   ........           _BLF     `??operator new[]`,`??operator new[]??rA`
   \   00000030   940184E5           STR      R0,[R4, #+404]
    256            db->total_x_pos=db->total_y_pos=0;
   \   00000034   0000A0E3           MOV      R0,#+0
   \   00000038   880184E5           STR      R0,[R4, #+392]
   \   0000003C   840184E5           STR      R0,[R4, #+388]
    257            db->x1=db->y1=db->x2=db->y2=0;
   \   00000040   780184E5           STR      R0,[R4, #+376]
   \   00000044   700184E5           STR      R0,[R4, #+368]
   \   00000048   740184E5           STR      R0,[R4, #+372]
   \   0000004C   6C0184E5           STR      R0,[R4, #+364]
    258            MainIniInit(&db->ini);
   \   00000050   635FA0E3           MOV      R5,#+396
   \   00000054   040085E0           ADD      R0,R5,R4
   \   00000058   ........           _BLF     ??MainIniInit,??MainIniInit??rA
    259            town=FindTownByCiLac(&db->ini,GetCid_ByCh(0),GetLac_ByCh(0));
   \   0000005C   0000A0E3           MOV      R0,#+0
   \   00000060   ........           BL       ??GetLac_ByCh
   \   00000064   0060A0E1           MOV      R6,R0
   \   00000068   0000A0E3           MOV      R0,#+0
   \   0000006C   ........           BL       ??GetCid_ByCh
   \   00000070   0010A0E1           MOV      R1,R0
   \   00000074   0620A0E1           MOV      R2,R6
   \   00000078   040085E0           ADD      R0,R5,R4
   \   0000007C   ........           _BLF     ??FindTownByCiLac,??FindTownByCiLac??rA
    260            if (!town) town=(TOWN *)List_Get(db->ini.towns,0);
   \   00000080   000050E3           CMP      R0,#+0
   \   00000084   0200001A           BNE      ??MapGuiOnCreate_1
   \   00000088   8C0194E5           LDR      R0,[R4, #+396]
   \   0000008C   0010A0E3           MOV      R1,#+0
   \   00000090   AD0100EF           SWI      +429
    261            db->ini.cur_town=town;  
   \                     ??MapGuiOnCreate_1:
   \   00000094   900184E5           STR      R0,[R4, #+400]
    262            InitDirPng(town);
   \   00000098   ........           BL       ??InitDirPng
    263            db->png_cache=List_Create();
   \   0000009C   690100EF           SWI      +361
   \   000000A0   980184E5           STR      R0,[R4, #+408]
    264            return (1);
   \   000000A4   0100A0E3           MOV      R0,#+1
   \   000000A8   7080BDE8           POP      {R4-R6,PC}       ;; return
    265          }
    266          

   \                                 In segment CODE, align 4, keep-with-next
    267          void MapGuiOnClose(DISP_OBJ_MAP *db)
    268          {
   \                     ??MapGuiOnClose:
   \   00000000   10402DE9           PUSH     {R4,LR}
   \   00000004   0040A0E1           MOV      R4,R0
    269            mfree(db->scr_buf);
   \   00000008   940194E5           LDR      R0,[R4, #+404]
   \   0000000C   040100EF           SWI      +260
    270            DeInitDirPng(db->ini.cur_town);
   \   00000010   900194E5           LDR      R0,[R4, #+400]
   \   00000014   ........           BL       ??DeInitDirPng
   \   00000018   980194E5           LDR      R0,[R4, #+408]
   \   0000001C   B200D0E1           LDRH     R0,[R0, #+2]
   \   00000020   000050E3           CMP      R0,#+0
   \   00000024   0700000A           BEQ      ??MapGuiOnClose_1
    271            while(db->png_cache->FirstFree)
    272            {
    273              PNG_LIST *png=(PNG_LIST *)List_RemoveAt(db->png_cache,0);
   \                     ??MapGuiOnClose_2:
   \   00000028   980194E5           LDR      R0,[R4, #+408]
   \   0000002C   0010A0E3           MOV      R1,#+0
   \   00000030   790100EF           SWI      +377
    274              RemovePngListElement(png);    
   \   00000034   ........           _BLF     ??RemovePngListElement,??RemovePngListElement??rA
    275            }
   \   00000038   980194E5           LDR      R0,[R4, #+408]
   \   0000003C   B200D0E1           LDRH     R0,[R0, #+2]
   \   00000040   000050E3           CMP      R0,#+0
   \   00000044   F7FFFF1A           BNE      ??MapGuiOnClose_2
    276            List_Destroy(db->png_cache);
   \                     ??MapGuiOnClose_1:
   \   00000048   980194E5           LDR      R0,[R4, #+408]
   \   0000004C   6A0100EF           SWI      +362
    277            MainIniDeInit(&db->ini);
   \   00000050   630F84E2           ADD      R0,R4,#+396
   \   00000054   1040BDE8           POP      {R4,LR}          ;; Pop
   \   00000058   ........           _BF      ??MainIniDeInit,??MainIniDeInit??rA  ;; tailcall
    278          }
    279          
    280          

   \                                 In segment CODE, align 4, keep-with-next
    281          void MapGuiOnRedraw(DISP_OBJ_MAP *db,int ,int,int)
    282          {
   \                     ??MapGuiOnRedraw:
   \   00000000   F0402DE9           PUSH     {R4-R7,LR}
   \   00000004   88D04DE2           SUB      SP,SP,#+136
   \   00000008   0040A0E1           MOV      R4,R0
    283            RECT rc_old;
    284            int font, gc_xx;
    285            GC *gc=get_DisplayGC();
   \   0000000C   E50100EF           SWI      +485
   \   00000010   0050A0E1           MOV      R5,R0
    286            GC_GetRect(gc, &rc_old);
   \   00000014   0D10A0E1           MOV      R1,SP
   \   00000018   E70100EF           SWI      +487
    287            if (db->x1!=rc_old.x1 || db->x2!=rc_old.x2 || db->y1!=rc_old.y1 || db->y2!=rc_old.y2)
   \   0000001C   B010DDE1           LDRH     R1,[SP, #+0]
   \   00000020   6C0194E5           LDR      R0,[R4, #+364]
   \   00000024   010050E1           CMP      R0,R1
   \   00000028   0B00001A           BNE      ??MapGuiOnRedraw_1
   \   0000002C   B210DDE1           LDRH     R1,[SP, #+2]
   \   00000030   700194E5           LDR      R0,[R4, #+368]
   \   00000034   010050E1           CMP      R0,R1
   \   00000038   0700001A           BNE      ??MapGuiOnRedraw_1
   \   0000003C   B410DDE1           LDRH     R1,[SP, #+4]
   \   00000040   740194E5           LDR      R0,[R4, #+372]
   \   00000044   010050E1           CMP      R0,R1
   \   00000048   0300001A           BNE      ??MapGuiOnRedraw_1
   \   0000004C   B610DDE1           LDRH     R1,[SP, #+6]
   \   00000050   780194E5           LDR      R0,[R4, #+376]
   \   00000054   010050E1           CMP      R0,R1
   \   00000058   0900000A           BEQ      ??MapGuiOnRedraw_2
    288            {
    289              db->x1=rc_old.x1;
   \                     ??MapGuiOnRedraw_1:
   \   0000005C   B000DDE1           LDRH     R0,[SP, #+0]
   \   00000060   6C0184E5           STR      R0,[R4, #+364]
    290              db->y1=rc_old.y1;
   \   00000064   B400DDE1           LDRH     R0,[SP, #+4]
   \   00000068   740184E5           STR      R0,[R4, #+372]
    291              db->x2=rc_old.x2;
   \   0000006C   B200DDE1           LDRH     R0,[SP, #+2]
   \   00000070   700184E5           STR      R0,[R4, #+368]
    292              db->y2=rc_old.y2;
   \   00000074   B600DDE1           LDRH     R0,[SP, #+6]
   \   00000078   780184E5           STR      R0,[R4, #+376]
    293              FillScreenBuffer(db);
   \   0000007C   0400A0E1           MOV      R0,R4
   \   00000080   ........           BL       ??FillScreenBuffer
    294            }
    295            gc_xx=GC_GetXX(gc);
   \                     ??MapGuiOnRedraw_2:
   \   00000084   0500A0E1           MOV      R0,R5
   \   00000088   E80100EF           SWI      +488
   \   0000008C   0060A0E1           MOV      R6,R0
    296            GC_SetXX(gc,1);
   \   00000090   0110A0E3           MOV      R1,#+1
   \   00000094   0500A0E1           MOV      R0,R5
   \   00000098   E90100EF           SWI      +489
    297            DrawRect(db->x1,db->y1,db->x2,db->y2,clWhite,clWhite);
   \   0000009C   0000E0E3           MVN      R0,#+0
   \   000000A0   01002DE9           PUSH     {R0}
   \   000000A4   01002DE9           PUSH     {R0}
   \   000000A8   783194E5           LDR      R3,[R4, #+376]
   \   000000AC   702194E5           LDR      R2,[R4, #+368]
   \   000000B0   741194E5           LDR      R1,[R4, #+372]
   \   000000B4   6C0194E5           LDR      R0,[R4, #+364]
   \   000000B8   EC0100EF           SWI      +492
    298            
    299            if (db->scr_buf)
   \   000000BC   940194E5           LDR      R0,[R4, #+404]
   \   000000C0   08D08DE2           ADD      SP,SP,#+8
   \   000000C4   000050E3           CMP      R0,#+0
   \   000000C8   0800000A           BEQ      ??MapGuiOnRedraw_3
    300            {
    301              GC_WritePixels(gc,db->x1,db->y1,db->x2,db->y2,db->scr_buf);
   \   000000CC   01002DE9           PUSH     {R0}
   \   000000D0   780194E5           LDR      R0,[R4, #+376]
   \   000000D4   01002DE9           PUSH     {R0}
   \   000000D8   703194E5           LDR      R3,[R4, #+368]
   \   000000DC   742194E5           LDR      R2,[R4, #+372]
   \   000000E0   6C1194E5           LDR      R1,[R4, #+364]
   \   000000E4   0500A0E1           MOV      R0,R5
   \   000000E8   640200EF           SWI      +612
   \   000000EC   08D08DE2           ADD      SP,SP,#+8
    302            }
    303            SetFont(FONT_E_20R);
   \                     ??MapGuiOnRedraw_3:
   \   000000F0   D4009FE5           LDR      R0,??MapGuiOnRedraw_4  ;; FONT_E_20R
   \   000000F4   000090E5           LDR      R0,[R0, #+0]
   \   000000F8   F10100EF           SWI      +497
    304            wchar_t buf[64];
    305            snwprintf(buf,63,L"%f,%f",db->Xres, db->Yres);
   \   000000FC   A00194E5           LDR      R0,[R4, #+416]
   \   00000100   ........           _BLF     __floatToDouble,??__floatToDouble??rA
   \   00000104   03002DE9           PUSH     {R0,R1}
   \   00000108   9C0194E5           LDR      R0,[R4, #+412]
   \   0000010C   ........           _BLF     __floatToDouble,??__floatToDouble??rA
   \   00000110   B8209FE5           LDR      R2,??MapGuiOnRedraw_4+0x4  ;; `?<Constant L"\\x25\\x66\\x2c\\x25\\x66">`
   \   00000114   03002DE9           PUSH     {R0,R1}
   \   00000118   3F10A0E3           MOV      R1,#+63
   \   0000011C   18008DE2           ADD      R0,SP,#+24
   \   00000120   0800BDE8           POP      {R3}
   \   00000124   150100EF           SWI      +277
    306            if (str_id!=EMPTY_TEXTID) TextID_Destroy(str_id);
   \   00000128   A4009FE5           LDR      R0,??MapGuiOnRedraw_4+0x8  ;; str_id
   \   0000012C   9014E0E3           MVN      R1,#-1879048192
   \   00000130   000090E5           LDR      R0,[R0, #+0]
   \   00000134   0CD08DE2           ADD      SP,SP,#+12
   \   00000138   010050E1           CMP      R0,R1
   \   0000013C   0200000A           BEQ      ??MapGuiOnRedraw_5
   \   00000140   8C009FE5           LDR      R0,??MapGuiOnRedraw_4+0x8  ;; str_id
   \   00000144   000090E5           LDR      R0,[R0, #+0]
   \   00000148   610100EF           SWI      +353
    307            str_id=TextID_Create(buf,ENC_UCS2,TEXTID_ANY_LEN);
   \                     ??MapGuiOnRedraw_5:
   \   0000014C   80709FE5           LDR      R7,??MapGuiOnRedraw_4+0x8  ;; str_id
   \   00000150   FF20A0E3           MOV      R2,#+255
   \   00000154   FF2C82E3           ORR      R2,R2,#0xFF00
   \   00000158   0010A0E3           MOV      R1,#+0
   \   0000015C   08008DE2           ADD      R0,SP,#+8
   \   00000160   5D0100EF           SWI      +349
   \   00000164   000087E5           STR      R0,[R7, #+0]
    308            DrawString(str_id, 2, db->x1+2,db->y1+2,db->x2-2,db->y1+2+80,20,0,clBlack,0x00000000);
   \   00000168   740194E5           LDR      R0,[R4, #+372]
   \   0000016C   0010A0E3           MOV      R1,#+0
   \   00000170   02002DE9           PUSH     {R1}
   \   00000174   023080E2           ADD      R3,R0,#+2
   \   00000178   FF14A0E3           MOV      R1,#-16777216
   \   0000017C   02002DE9           PUSH     {R1}
   \   00000180   0010A0E3           MOV      R1,#+0
   \   00000184   02002DE9           PUSH     {R1}
   \   00000188   1410A0E3           MOV      R1,#+20
   \   0000018C   02002DE9           PUSH     {R1}
   \   00000190   521080E2           ADD      R1,R0,#+82
   \   00000194   02002DE9           PUSH     {R1}
   \   00000198   701194E5           LDR      R1,[R4, #+368]
   \   0000019C   021041E2           SUB      R1,R1,#+2
   \   000001A0   02002DE9           PUSH     {R1}
   \   000001A4   6C0194E5           LDR      R0,[R4, #+364]
   \   000001A8   0210A0E3           MOV      R1,#+2
   \   000001AC   022080E2           ADD      R2,R0,#+2
   \   000001B0   000097E5           LDR      R0,[R7, #+0]
   \   000001B4   ED0100EF           SWI      +493
    309            GC_SetXX(gc,gc_xx);
   \   000001B8   0610A0E1           MOV      R1,R6
   \   000001BC   0500A0E1           MOV      R0,R5
   \   000001C0   E90100EF           SWI      +489
    310          }
   \   000001C4   A0D08DE2           ADD      SP,SP,#+160
   \   000001C8   F080BDE8           POP      {R4-R7,PC}       ;; return
   \                     ??MapGuiOnRedraw_4:
   \   000001CC   ........           DC32     FONT_E_20R
   \   000001D0   ........           DC32     `?<Constant L"\\x25\\x66\\x2c\\x25\\x66">`
   \   000001D4   ........           DC32     str_id
    311          

   \                                 In segment CODE, align 4, keep-with-next
    312          void MapGuiOnKey(DISP_OBJ_MAP *db,int key,int,int repeat,int type)
    313          {
   \                     ??MapGuiOnKey:
   \   00000000   30402DE9           PUSH     {R4,R5,LR}
   \   00000004   0150A0E1           MOV      R5,R1
    314            if (type==KBD_SHORT_RELEASE || type==KBD_REPEAT)
   \   00000008   6C119FE5           LDR      R1,??MapGuiOnKey_1  ;; KBD_SHORT_RELEASE
   \   0000000C   0040A0E1           MOV      R4,R0
   \   00000010   0C009DE5           LDR      R0,[SP, #+12]
   \   00000014   001091E5           LDR      R1,[R1, #+0]
   \   00000018   010050E1           CMP      R0,R1
   \   0000001C   0300000A           BEQ      ??MapGuiOnKey_2
   \   00000020   58119FE5           LDR      R1,??MapGuiOnKey_1+0x4  ;; KBD_REPEAT
   \   00000024   001091E5           LDR      R1,[R1, #+0]
   \   00000028   010050E1           CMP      R0,R1
   \   0000002C   4E00001A           BNE      ??MapGuiOnKey_3
    315            {
    316              if (key==KEY_UP || key==KEY_DOWN || key==KEY_LEFT || key==KEY_RIGHT)
   \                     ??MapGuiOnKey_2:
   \   00000030   4C019FE5           LDR      R0,??MapGuiOnKey_1+0x8  ;; KEY_UP
   \   00000034   000090E5           LDR      R0,[R0, #+0]
   \   00000038   000055E1           CMP      R5,R0
   \   0000003C   0B00000A           BEQ      ??MapGuiOnKey_4
   \   00000040   40019FE5           LDR      R0,??MapGuiOnKey_1+0xC  ;; KEY_DOWN
   \   00000044   000090E5           LDR      R0,[R0, #+0]
   \   00000048   000055E1           CMP      R5,R0
   \   0000004C   0700000A           BEQ      ??MapGuiOnKey_4
   \   00000050   34019FE5           LDR      R0,??MapGuiOnKey_1+0x10  ;; KEY_LEFT
   \   00000054   000090E5           LDR      R0,[R0, #+0]
   \   00000058   000055E1           CMP      R5,R0
   \   0000005C   0300000A           BEQ      ??MapGuiOnKey_4
   \   00000060   28019FE5           LDR      R0,??MapGuiOnKey_1+0x14  ;; KEY_RIGHT
   \   00000064   000090E5           LDR      R0,[R0, #+0]
   \   00000068   000055E1           CMP      R5,R0
   \   0000006C   3600001A           BNE      ??MapGuiOnKey_5
    317              {
    318                int per_key;
    319                int a;
    320                per_key=repeat*repeat;
    321                if (key==KEY_UP)
   \                     ??MapGuiOnKey_4:
   \   00000070   0C119FE5           LDR      R1,??MapGuiOnKey_1+0x8  ;; KEY_UP
   \   00000074   930300E0           MUL      R0,R3,R3
   \   00000078   001091E5           LDR      R1,[R1, #+0]
   \   0000007C   010055E1           CMP      R5,R1
   \   00000080   0700001A           BNE      ??MapGuiOnKey_6
    322                {
    323                  if ((a=db->total_y_pos-per_key)>0) db->total_y_pos=a;
   \   00000084   881194E5           LDR      R1,[R4, #+392]
   \   00000088   000041E0           SUB      R0,R1,R0
   \   0000008C   010050E3           CMP      R0,#+1
   \   00000090   010000BA           BLT      ??MapGuiOnKey_7
   \                     ??MapGuiOnKey_8:
   \   00000094   880184E5           STR      R0,[R4, #+392]
   \   00000098   290000EA           B        ??MapGuiOnKey_9
    324                  else db->total_y_pos=0;
   \                     ??MapGuiOnKey_7:
   \   0000009C   0000A0E3           MOV      R0,#+0
   \   000000A0   FBFFFFEA           B        ??MapGuiOnKey_8
    325                }
    326                else if (key==KEY_DOWN)
   \                     ??MapGuiOnKey_6:
   \   000000A4   DC109FE5           LDR      R1,??MapGuiOnKey_1+0xC  ;; KEY_DOWN
   \   000000A8   001091E5           LDR      R1,[R1, #+0]
   \   000000AC   010055E1           CMP      R5,R1
   \   000000B0   0B00001A           BNE      ??MapGuiOnKey_10
    327                {
    328                  if ((a=db->total_y_pos+per_key)<(db->ini.cur_town->map_height-1)) db->total_y_pos=a;
   \   000000B4   881194E5           LDR      R1,[R4, #+392]
   \   000000B8   010080E0           ADD      R0,R0,R1
   \   000000BC   901194E5           LDR      R1,[R4, #+400]
   \   000000C0   1C1091E5           LDR      R1,[R1, #+28]
   \   000000C4   011041E2           SUB      R1,R1,#+1
   \   000000C8   010050E1           CMP      R0,R1
   \   000000CC   880184B5           STRLT    R0,[R4, #+392]
   \   000000D0   1B0000BA           BLT      ??MapGuiOnKey_9
    329                  else db->total_y_pos=db->ini.cur_town->map_height-1;
   \   000000D4   900194E5           LDR      R0,[R4, #+400]
   \   000000D8   1C0090E5           LDR      R0,[R0, #+28]
   \   000000DC   010040E2           SUB      R0,R0,#+1
   \   000000E0   EBFFFFEA           B        ??MapGuiOnKey_8
    330                }
    331                else if (key==KEY_LEFT)
   \                     ??MapGuiOnKey_10:
   \   000000E4   A0109FE5           LDR      R1,??MapGuiOnKey_1+0x10  ;; KEY_LEFT
   \   000000E8   001091E5           LDR      R1,[R1, #+0]
   \   000000EC   010055E1           CMP      R5,R1
   \   000000F0   0500001A           BNE      ??MapGuiOnKey_11
    332                {
    333                  if ((a=db->total_x_pos-per_key)>0) db->total_x_pos=a;
   \   000000F4   841194E5           LDR      R1,[R4, #+388]
   \   000000F8   000041E0           SUB      R0,R1,R0
   \   000000FC   010050E3           CMP      R0,#+1
   \   00000100   0E0000AA           BGE      ??MapGuiOnKey_12
    334                  else db->total_x_pos=0;
   \   00000104   0000A0E3           MOV      R0,#+0
   \   00000108   0C0000EA           B        ??MapGuiOnKey_12
    335                }
    336                else if (key==KEY_RIGHT)
   \                     ??MapGuiOnKey_11:
   \   0000010C   7C109FE5           LDR      R1,??MapGuiOnKey_1+0x14  ;; KEY_RIGHT
   \   00000110   001091E5           LDR      R1,[R1, #+0]
   \   00000114   010055E1           CMP      R5,R1
   \   00000118   0900001A           BNE      ??MapGuiOnKey_9
    337                {
    338                  if ((a=db->total_x_pos+per_key)<(db->ini.cur_town->map_width-1)) db->total_x_pos=a;
   \   0000011C   841194E5           LDR      R1,[R4, #+388]
   \   00000120   010080E0           ADD      R0,R0,R1
   \   00000124   901194E5           LDR      R1,[R4, #+400]
   \   00000128   181091E5           LDR      R1,[R1, #+24]
   \   0000012C   011041E2           SUB      R1,R1,#+1
   \   00000130   010050E1           CMP      R0,R1
    339                  else db->total_x_pos=db->ini.cur_town->map_width-1;
   \   00000134   900194A5           LDRGE    R0,[R4, #+400]
   \   00000138   180090A5           LDRGE    R0,[R0, #+24]
   \   0000013C   010040A2           SUBGE    R0,R0,#+1
   \                     ??MapGuiOnKey_12:
   \   00000140   840184E5           STR      R0,[R4, #+388]
    340                }
    341                FillScreenBuffer(db);
   \                     ??MapGuiOnKey_9:
   \   00000144   0400A0E1           MOV      R0,R4
   \   00000148   ........           BL       ??FillScreenBuffer
    342              }
    343              if (key==KEY_DIGITAL_0+0)
   \                     ??MapGuiOnKey_5:
   \   0000014C   40009FE5           LDR      R0,??MapGuiOnKey_1+0x18  ;; KEY_DIGITAL_0
   \   00000150   000090E5           LDR      R0,[R0, #+0]
   \   00000154   000055E1           CMP      R5,R0
   \   00000158   0300001A           BNE      ??MapGuiOnKey_3
    344              {
    345                RecalkPos(db);
   \   0000015C   0400A0E1           MOV      R0,R4
   \   00000160   ........           BL       ??RecalkPos
    346                FillScreenBuffer(db);
   \   00000164   0400A0E1           MOV      R0,R4
   \   00000168   ........           BL       ??FillScreenBuffer
    347              }
    348            }
    349            DispObject_InvalidateRect(&db->dsp_obj,0);
   \                     ??MapGuiOnKey_3:
   \   0000016C   0010A0E3           MOV      R1,#+0
   \   00000170   0400A0E1           MOV      R0,R4
   \   00000174   EF0100EF           SWI      +495
    350          }
   \   00000178   3080BDE8           POP      {R4,R5,PC}       ;; return
   \                     ??MapGuiOnKey_1:
   \   0000017C   ........           DC32     KBD_SHORT_RELEASE
   \   00000180   ........           DC32     KBD_REPEAT
   \   00000184   ........           DC32     KEY_UP
   \   00000188   ........           DC32     KEY_DOWN
   \   0000018C   ........           DC32     KEY_LEFT
   \   00000190   ........           DC32     KEY_RIGHT
   \   00000194   ........           DC32     KEY_DIGITAL_0
    351          
    352          

   \                                 In segment CODE, align 4, keep-with-next
    353          void MapGui_constr(DISP_DESC *desc)
    354          {
    355            DISP_DESC_SetName(desc,MapGuiName);
   \                     ??MapGui_constr:
   \   00000000   48109FE5           LDR      R1,??MapGui_constr_1  ;; MapGuiName
   \   00000004   10402DE9           PUSH     {R4,LR}
   \   00000008   0040A0E1           MOV      R4,R0
   \   0000000C   200200EF           SWI      +544
    356            DISP_DESC_SetSize(desc,sizeof(DISP_OBJ_MAP));
   \   00000010   691FA0E3           MOV      R1,#+420
   \   00000014   0400A0E1           MOV      R0,R4
   \   00000018   220200EF           SWI      +546
    357            DISP_DESC_SetOnCreate(desc,(DISP_OBJ_ONCREATE_METHOD)MapGuiOnCreate);
   \   0000001C   30109FE5           LDR      R1,??MapGui_constr_1+0x4  ;; ??MapGuiOnCreate
   \   00000020   0400A0E1           MOV      R0,R4
   \   00000024   240200EF           SWI      +548
    358            DISP_DESC_SetOnClose(desc,(DISP_OBJ_ONCLOSE_METHOD)MapGuiOnClose);
   \   00000028   28109FE5           LDR      R1,??MapGui_constr_1+0x8  ;; ??MapGuiOnClose
   \   0000002C   0400A0E1           MOV      R0,R4
   \   00000030   260200EF           SWI      +550
    359            DISP_DESC_SetOnRedraw(desc,(DISP_OBJ_ONREDRAW_METHOD)MapGuiOnRedraw);
   \   00000034   20109FE5           LDR      R1,??MapGui_constr_1+0xC  ;; ??MapGuiOnRedraw
   \   00000038   0400A0E1           MOV      R0,R4
   \   0000003C   280200EF           SWI      +552
    360            DISP_DESC_SetOnKey(desc,(DISP_OBJ_ONKEY_METHOD)MapGuiOnKey);
   \   00000040   18109FE5           LDR      R1,??MapGui_constr_1+0x10  ;; ??MapGuiOnKey
   \   00000044   0400A0E1           MOV      R0,R4
   \   00000048   2A0200EF           SWI      +554
    361          }
   \   0000004C   1080BDE8           POP      {R4,PC}          ;; return
   \                     ??MapGui_constr_1:
   \   00000050   ........           DC32     MapGuiName
   \   00000054   ........           DC32     ??MapGuiOnCreate
   \   00000058   ........           DC32     ??MapGuiOnClose
   \   0000005C   ........           DC32     ??MapGuiOnRedraw
   \   00000060   ........           DC32     ??MapGuiOnKey
    362          

   \                                 In segment CODE, align 4, keep-with-next
    363          void MapGui_destr( GUI* )
    364          {
    365          }
   \                     ??MapGui_destr:
   \   00000000   1EFF2FE1           BX       LR               ;; return
    366          

   \                                 In segment CODE, align 4, keep-with-next
    367          GUI_MAP *CreateMapGUI(BOOK *bk)
    368          {
   \                     ??CreateMapGUI:
   \   00000000   30402DE9           PUSH     {R4,R5,LR}
   \   00000004   0040A0E1           MOV      R4,R0
    369            GUI_MAP *gui_map=new GUI_MAP;
   \   00000008   9000A0E3           MOV      R0,#+144
   \   0000000C   ........           _BLF     `??operator new`,`??operator new??rA`
    370            if (!GUIObject_Create( gui_map,MapGui_destr,MapGui_constr, bk,0,0,0))
   \   00000010   64209FE5           LDR      R2,??CreateMapGUI_1  ;; ??MapGui_constr
   \   00000014   64109FE5           LDR      R1,??CreateMapGUI_1+0x4  ;; ??MapGui_destr
   \   00000018   0050A0E1           MOV      R5,R0
   \   0000001C   0000A0E3           MOV      R0,#+0
   \   00000020   01002DE9           PUSH     {R0}
   \   00000024   01002DE9           PUSH     {R0}
   \   00000028   01002DE9           PUSH     {R0}
   \   0000002C   0430A0E1           MOV      R3,R4
   \   00000030   0500A0E1           MOV      R0,R5
   \   00000034   F00100EF           SWI      +496
   \   00000038   000050E3           CMP      R0,#+0
   \   0000003C   0CD08DE2           ADD      SP,SP,#+12
   \   00000040   0300001A           BNE      ??CreateMapGUI_2
    371            {
    372              delete gui_map;
   \   00000044   0500A0E1           MOV      R0,R5
   \   00000048   ........           _BLF     `??operator delete`,`??operator delete??rA`
    373              return 0;    
   \   0000004C   0000A0E3           MOV      R0,#+0
   \   00000050   3080BDE8           POP      {R4,R5,PC}
    374            }
    375            if (bk) BookObj_AddGUIObject(bk, gui_map);
   \                     ??CreateMapGUI_2:
   \   00000054   000054E3           CMP      R4,#+0
   \   00000058   0200000A           BEQ      ??CreateMapGUI_3
   \   0000005C   0510A0E1           MOV      R1,R5
   \   00000060   0400A0E1           MOV      R0,R4
   \   00000064   EB0100EF           SWI      +491
    376            GUIObject_SetStyle( gui_map,3);
   \                     ??CreateMapGUI_3:
   \   00000068   0310A0E3           MOV      R1,#+3
   \   0000006C   0500A0E1           MOV      R0,R5
   \   00000070   360100EF           SWI      +310
    377            return gui_map;
   \   00000074   0500A0E1           MOV      R0,R5
   \   00000078   3080BDE8           POP      {R4,R5,PC}       ;; return
   \                     ??CreateMapGUI_1:
   \   0000007C   ........           DC32     ??MapGui_constr
   \   00000080   ........           DC32     ??MapGui_destr
    378          }

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable3:
   \   00000000   ........           DC32     NetData + 4

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable4:
   \   00000000   ........           DC32     NetData

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable6:
   \   00000000   ........           DC32     `?<Constant L"\\x25\\x6c\\x73\\x2f\\x47\\x70\\x73\\x4d\\`

   \                                 In segment DATA_ID, align 4, align-sorted
   \                     `?<Initializer for x1_map_real>`:
   \   00000000   29211E42           DC32 421E2129H

   \                                 In segment DATA_ID, align 4, align-sorted
   \                     `?<Initializer for x2_map_real>`:
   \   00000000   7C811F42           DC32 421F817CH

   \                                 In segment DATA_ID, align 4, align-sorted
   \                     `?<Initializer for y1_map_real>`:
   \   00000000   4D553D42           DC32 423D554DH

   \                                 In segment DATA_ID, align 4, align-sorted
   \                     `?<Initializer for y2_map_real>`:
   \   00000000   C3443C42           DC32 423C44C3H

   \                                 In segment DATA_ID, align 4, align-sorted
   \                     `?<Initializer for NetData>`:
   \   00000000   10BA2E20           DC32 202EBA10H
   \                     `?<Initializer for CurNetData>`:
   \   00000004   E4EB1820           DC32 2018EBE4H

   \                                 In segment DATA_ID, align 4, align-sorted
   \                     `?<Initializer for str_id>`:
   \   00000000   FFFFFF6F           DC32 1879048191

   \                                 In segment DATA_C, align 4, align-sorted
   \                     `?<Constant L"\\x25\\x6c\\x73\\x2f\\x47\\x70\\x73\\x4d\\`:
   \   00000000   25006C007300       DC8 25H, 0, 6CH, 0, 73H, 0, 2FH, 0
   \              2F00        
   \   00000008   470070007300       DC8 47H, 0, 70H, 0, 73H, 0, 4DH, 0
   \              4D00        
   \   00000010   410050002F00       DC8 41H, 0, 50H, 0, 2FH, 0, 25H, 0
   \              2500        
   \   00000018   73000000           DC8 73H, 0, 0, 0
   \   0000001C   250073005F00       DC8 25H, 0, 73H, 0, 5FH, 0, 25H, 0
   \              2500        
   \   00000024   300032007500       DC8 30H, 0, 32H, 0, 75H, 0, 5FH, 0
   \              5F00        
   \   0000002C   250030003200       DC8 25H, 0, 30H, 0, 32H, 0, 75H, 0
   \              7500        
   \   00000034   2E0070006E00       DC8 2EH, 0, 70H, 0, 6EH, 0, 67H, 0
   \              6700        
   \   0000003C   0000               DC8 0, 0
   \   0000003E   0000               DC8 0, 0
   \   00000040   250073005F00       DC8 25H, 0, 73H, 0, 5FH, 0, 30H, 0
   \              3000        
   \   00000048   30005F002500       DC8 30H, 0, 5FH, 0, 25H, 0, 30H, 0
   \              3000        
   \   00000050   320075002E00       DC8 32H, 0, 75H, 0, 2EH, 0, 70H, 0
   \              7000        
   \   00000058   6E0067000000       DC8 6EH, 0, 67H, 0, 0, 0
   \   0000005E   0000               DC8 0, 0
   \   00000060   250073005F00       DC8 25H, 0, 73H, 0, 5FH, 0, 25H, 0
   \              2500        
   \   00000068   300032007500       DC8 30H, 0, 32H, 0, 75H, 0, 5FH, 0
   \              5F00        
   \   00000070   300030002E00       DC8 30H, 0, 30H, 0, 2EH, 0, 70H, 0
   \              7000        
   \   00000078   6E0067000000       DC8 6EH, 0, 67H, 0, 0, 0
   \   0000007E   0000               DC8 0, 0

   \                                 In segment DATA_C, align 4, align-sorted
   \                     `?<Constant L"\\x25\\x66\\x2c\\x25\\x66">`:
   \   00000000   250066002C00       DC8 25H, 0, 66H, 0, 2CH, 0, 25H, 0
   \              2500        
   \   00000008   66000000           DC8 66H, 0, 0, 0
    379          
    380          
    381          
    382          

   Maximum stack usage in bytes:

     Function                       CSTACK
     --------                       ------
     CreateMapGUI(BOOK *)              24
     DeInitDirPng(TOWN *)               8
     FillScreenBuffer(DISP_OBJ_MAP *)
                                       88
     GetCid_ByCh(int)                   0
     GetLac_ByCh(int)                   0
     GetRxLev_ByCh(int)                 0
     InitDirPng(TOWN *)               324
     MapGuiOnClose(DISP_OBJ_MAP *)      8
     MapGuiOnCreate(DISP_OBJ_MAP *)    16
     MapGuiOnKey(DISP_OBJ_MAP *, int, int, int, int)
                                       12
     MapGuiOnRedraw(DISP_OBJ_MAP *, int, int, int)
                                      180
     MapGui_constr(DISP_DESC *)         8
     MapGui_destr(GUI *)                0
     PngCmpProc(void *, void *)         0
     ReadPngFile(LIST *, char *, int, int)
                                      324
     RecalkPos(DISP_OBJ_MAP *)         40


   Segment part sizes:

     Function/Label                 Bytes
     --------------                 -----
     x1_map_real                       4
     x2_map_real                       4
     y1_map_real                       4
     y2_map_real                       4
     NetData                           8
     GetRxLev_ByCh(int)               48
     GetCid_ByCh(int)                 60
     GetLac_ByCh(int)                 60
     ReadPngFile(LIST *, char *, int, int)
                                     280
     InitDirPng(TOWN *)              476
     DeInitDirPng(TOWN *)             28
     PngCmpProc(void *, void *)       44
     RecalkPos(DISP_OBJ_MAP *)       432
     FillScreenBuffer(DISP_OBJ_MAP *)
                                    1244
     MapGuiName                       12
     str_id                            4
     MapGuiOnCreate(DISP_OBJ_MAP *)  172
     MapGuiOnClose(DISP_OBJ_MAP *)    92
     MapGuiOnRedraw(DISP_OBJ_MAP *, int, int, int)
                                     472
     MapGuiOnKey(DISP_OBJ_MAP *, int, int, int, int)
                                     408
     MapGui_constr(DISP_DESC *)      100
     MapGui_destr(GUI *)               4
     CreateMapGUI(BOOK *)            132
     ??DataTable3                      4
     ??DataTable4                      4
     ??DataTable6                      4
     ?<Initializer for x1_map_real>    4
     ?<Initializer for x2_map_real>    4
     ?<Initializer for y1_map_real>    4
     ?<Initializer for y2_map_real>    4
     ?<Initializer for NetData>        8
     ?<Initializer for str_id>         4
     ?<Constant L"\x25\x6c\x73\x2f\x47\x70\x73\x4d\
                                     128
     ?<Constant L"\x25\x66\x2c\x25\x66">
                                      12
      Others                         304

 
 4 356 bytes in segment CODE
   152 bytes in segment DATA_C
    28 bytes in segment DATA_I
    28 bytes in segment DATA_ID
    12 bytes in segment INITTAB
 
 4 064 bytes of CODE  memory (+ 304 bytes shared)
   180 bytes of CONST memory
    28 bytes of DATA  memory

Errors: none
Warnings: 2
