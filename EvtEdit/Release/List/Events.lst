##############################################################################
#                                                                            #
# IAR ARM ANSI C/C++ Compiler V4.42A/W32 EVALUATION    10/Jun/2013  22:54:55 #
# Copyright 1999-2005 IAR Systems. All rights reserved.                      #
#                                                                            #
#    Cpu mode        =  interwork                                            #
#    Endian          =  little                                               #
#    Stack alignment =  4                                                    #
#    Source file     =  Z:\home\perk11\www\perk11.info\svn\SE\EvtEdit\Events #
#                       .c                                                   #
#    Command line    =  Z:\home\perk11\www\perk11.info\svn\SE\EvtEdit\Events #
#                       .c -D NDEBUG -D OLDFUNCTIONS -lC                     #
#                       Z:\home\perk11\www\perk11.info\svn\SE\EvtEdit\Releas #
#                       e\List\ -lA Z:\home\perk11\www\perk11.info\svn\SE\Ev #
#                       tEdit\Release\List\ -o Z:\home\perk11\www\perk11.inf #
#                       o\svn\SE\EvtEdit\Release\Obj\ -s9 --cpu_mode arm     #
#                       --endian little --cpu ARM926EJ-S --stack_align 4     #
#                       --interwork -e --enable_multibytes --fpu None        #
#                       --eec++ --dlib_config Z:\home\perk11\IAR2\arm\LIB\dl #
#                       5tpainl8n.h -I Z:\home\perk11\IAR2\arm\INC\          #
#                       --inline_threshold=2                                 #
#    List file       =  Z:\home\perk11\www\perk11.info\svn\SE\EvtEdit\Releas #
#                       e\List\Events.lst                                    #
#    Object file     =  Z:\home\perk11\www\perk11.info\svn\SE\EvtEdit\Releas #
#                       e\Obj\Events.r79                                     #
#                                                                            #
#                                                                            #
##############################################################################

Z:\home\perk11\www\perk11.info\svn\SE\EvtEdit\Events.c
      1          #include "..\deleaker\mem2.h"
      2          #include "..\include\Lib_Clara.h" 
      3          #include "..\include\Dir.h" 
      4          #include "header\structs.h"
      5          #include "header\externals.h"
      6          #include "header\string.h"
      7          #include "header\lng.h"
      8          
      9          extern MyBOOK *myBook;
     10          extern wchar_t *defPath;
     11          extern wchar_t *defName;
     12          
     13          LIST *events=0;
     14          
     15          wchar_t *extFolder=0;
     16          wchar_t *intFolder=0;
     17          
     18          void InitializeFolders();
     19          

   \                                 In segment CODE, align 4, keep-with-next
     20          void InitializeFolders()
     21          {
   \                     ??InitializeFolders:
   \   00000000   70402DE9           PUSH     {R4-R6,LR}
     22            if (extFolder==0)
   \   00000004   AC409FE5           LDR      R4,??InitializeFolders_1  ;; `?<Constant L"\\x2f\\x45\\x76\\x65\\x6e\\x74\\x43\\x6f\\`
   \   00000008   ........           LDR      R5,??DataTable0  ;; events
   \   0000000C   040095E5           LDR      R0,[R5, #+4]
   \   00000010   000050E3           CMP      R0,#+0
   \   00000014   1100001A           BNE      ??InitializeFolders_2
     23            {
     24              int size=wstrlen(GetDir(MEM_EXTERNAL+DIR_ELFS_CONFIG))+wstrlen(L"/EventControl/");
   \   00000018   1400A0E3           MOV      R0,#+20
   \   0000001C   050100EF           SWI      +261
   \   00000020   570100EF           SWI      +343
   \   00000024   0060A0E1           MOV      R6,R0
   \   00000028   0400A0E1           MOV      R0,R4
   \   0000002C   570100EF           SWI      +343
   \   00000030   066080E0           ADD      R6,R0,R6
     25              extFolder = new wchar_t[size+1];
   \   00000034   010086E2           ADD      R0,R6,#+1
   \   00000038   8000A0E1           LSL      R0,R0,#+1
   \   0000003C   ........           _BLF     `??operator new[]`,`??operator new[]??rA`
   \   00000040   040085E5           STR      R0,[R5, #+4]
     26              snwprintf(extFolder,size,L"%ls/EventControl/",GetDir(MEM_EXTERNAL+DIR_ELFS_CONFIG));
   \   00000044   1400A0E3           MOV      R0,#+20
   \   00000048   050100EF           SWI      +261
   \   0000004C   0030A0E1           MOV      R3,R0
   \   00000050   040095E5           LDR      R0,[R5, #+4]
   \   00000054   202084E2           ADD      R2,R4,#+32
   \   00000058   0610A0E1           MOV      R1,R6
   \   0000005C   150100EF           SWI      +277
     27            }
     28            if (intFolder==0)
   \                     ??InitializeFolders_2:
   \   00000060   080095E5           LDR      R0,[R5, #+8]
   \   00000064   000050E3           CMP      R0,#+0
   \   00000068   7080BD18           POPNE    {R4-R6,PC}
     29            {
     30              int size=wstrlen(GetDir(MEM_INTERNAL+DIR_ELFS_CONFIG))+wstrlen(L"/EventControl/");
   \   0000006C   1500A0E3           MOV      R0,#+21
   \   00000070   050100EF           SWI      +261
   \   00000074   570100EF           SWI      +343
   \   00000078   0060A0E1           MOV      R6,R0
   \   0000007C   0400A0E1           MOV      R0,R4
   \   00000080   570100EF           SWI      +343
   \   00000084   066080E0           ADD      R6,R0,R6
     31              intFolder = new wchar_t[size+1];
   \   00000088   010086E2           ADD      R0,R6,#+1
   \   0000008C   8000A0E1           LSL      R0,R0,#+1
   \   00000090   ........           _BLF     `??operator new[]`,`??operator new[]??rA`
   \   00000094   080085E5           STR      R0,[R5, #+8]
     32              snwprintf(intFolder,size,L"%ls/EventControl/",GetDir(MEM_INTERNAL+DIR_ELFS_CONFIG));
   \   00000098   1500A0E3           MOV      R0,#+21
   \   0000009C   050100EF           SWI      +261
   \   000000A0   0030A0E1           MOV      R3,R0
   \   000000A4   080095E5           LDR      R0,[R5, #+8]
   \   000000A8   202084E2           ADD      R2,R4,#+32
   \   000000AC   0610A0E1           MOV      R1,R6
   \   000000B0   150100EF           SWI      +277
     33            }
     34          };
   \   000000B4   7080BDE8           POP      {R4-R6,PC}       ;; return
   \                     ??InitializeFolders_1:
   \   000000B8   ........           DC32     `?<Constant L"\\x2f\\x45\\x76\\x65\\x6e\\x74\\x43\\x6f\\`
     35          

   \                                 In segment CODE, align 4, keep-with-next
     36          int cmp(char *param1,char *param2)
     37          {
   \                     ??cmp:
   \   00000000   00402DE9           PUSH     {LR}
     38            if (strcmp(param1,param2)==0)
   \   00000004   590100EF           SWI      +345
   \   00000008   000050E3           CMP      R0,#+0
     39            {
     40              return 1;
   \   0000000C   0100A003           MOVEQ    R0,#+1
   \   00000010   0080BD08           POPEQ    {PC}
     41            }
     42            return 0;
   \   00000014   0000A0E3           MOV      R0,#+0
   \   00000018   0080BDE8           POP      {PC}             ;; return
     43          };
     44          

   \                                 In segment CODE, align 4, keep-with-next
     45          void SetDate(char *param, EVENT *ev, int type)
     46          {
   \                     ??SetDate:
   \   00000000   F0402DE9           PUSH     {R4-R7,LR}
   \   00000004   04D04DE2           SUB      SP,SP,#+4
   \   00000008   0050A0E1           MOV      R5,R0
   \   0000000C   0140A0E1           MOV      R4,R1
     47            if (type==0) //”казаны дни
   \   00000010   0160A0E3           MOV      R6,#+1
   \   00000014   000052E3           CMP      R2,#+0
   \   00000018   0A00001A           BNE      ??SetDate_1
     48            {
     49              int x=0;
     50              for (x=0;x<strlen(param);x++)
   \   0000001C   0070A0E3           MOV      R7,#+0
   \                     ??SetDate_2:
   \   00000020   0500A0E1           MOV      R0,R5
   \   00000024   5A0100EF           SWI      +346
   \   00000028   000057E1           CMP      R7,R0
   \   0000002C   F180BDA8           POPGE    {R0,R4-R7,PC}
     51              {
     52                ev->days[param[x]-0x30]=true;
   \   00000030   0500D7E7           LDRB     R0,[R7, +R5]
     53              }
   \   00000034   017087E2           ADD      R7,R7,#+1
   \   00000038   300040E2           SUB      R0,R0,#+48
   \   0000003C   040080E0           ADD      R0,R0,R4
   \   00000040   2060C0E5           STRB     R6,[R0, #+32]
   \   00000044   F5FFFFEA           B        ??SetDate_2
     54            }
     55            else if (type==1) //”казана даты начала и конца
   \                     ??SetDate_1:
   \   00000048   010052E3           CMP      R2,#+1
   \   0000004C   4E00001A           BNE      ??SetDate_3
     56            {
     57              int x=0;
   \   00000050   0010D5E5           LDRB     R1,[R5, #+0]
   \   00000054   0000A0E3           MOV      R0,#+0
   \   00000058   0A30A0E3           MOV      R3,#+10
   \   0000005C   2D0051E3           CMP      R1,#+45
   \   00000060   0500001A           BNE      ??SetDate_4
   \   00000064   070000EA           B        ??SetDate_5
     58              while (param[x]!='-')
     59              {
     60                ev->date.day=(ev->date.day*10)+(param[x]-0x30);
   \                     ??SetDate_6:
   \   00000068   1B20D4E5           LDRB     R2,[R4, #+27]
     61                x++;
   \   0000006C   010080E2           ADD      R0,R0,#+1
   \   00000070   931221E0           MLA      R1,R3,R2,R1
   \   00000074   D01081E2           ADD      R1,R1,#+208
   \   00000078   1B10C4E5           STRB     R1,[R4, #+27]
     62              }
   \                     ??SetDate_4:
   \   0000007C   0510D0E7           LDRB     R1,[R0, +R5]
   \   00000080   2D0051E3           CMP      R1,#+45
   \   00000084   F7FFFF1A           BNE      ??SetDate_6
     63              x++;
   \                     ??SetDate_5:
   \   00000088   010080E2           ADD      R0,R0,#+1
   \   0000008C   0510D0E7           LDRB     R1,[R0, +R5]
   \   00000090   2D0051E3           CMP      R1,#+45
   \   00000094   0800000A           BEQ      ??SetDate_7
     64              while (param[x]!='-')
     65              {
     66                ev->date.mon=(ev->date.mon*10)+(param[x]-0x30);
   \                     ??SetDate_8:
   \   00000098   1A20D4E5           LDRB     R2,[R4, #+26]
   \   0000009C   0510D0E7           LDRB     R1,[R0, +R5]
     67                x++;
   \   000000A0   010080E2           ADD      R0,R0,#+1
   \   000000A4   931221E0           MLA      R1,R3,R2,R1
   \   000000A8   D01081E2           ADD      R1,R1,#+208
   \   000000AC   1A10C4E5           STRB     R1,[R4, #+26]
     68              }
   \   000000B0   0510D0E7           LDRB     R1,[R0, +R5]
   \   000000B4   2D0051E3           CMP      R1,#+45
   \   000000B8   F6FFFF1A           BNE      ??SetDate_8
     69              x++;
   \                     ??SetDate_7:
   \   000000BC   011080E2           ADD      R1,R0,#+1
   \   000000C0   0520D1E7           LDRB     R2,[R1, +R5]
   \   000000C4   D000A0E3           MOV      R0,#+208
   \   000000C8   FF0C80E3           ORR      R0,R0,#0xFF00
   \   000000CC   2E0052E3           CMP      R2,#+46
   \   000000D0   0A60A0E3           MOV      R6,#+10
   \   000000D4   0800000A           BEQ      ??SetDate_9
     70              while (param[x]!='.')
     71              {
     72                ev->date.year=(ev->date.year*10)+(param[x]-0x30);
   \                     ??SetDate_10:
   \   000000D8   B831D4E1           LDRH     R3,[R4, #+24]
   \   000000DC   0520D1E7           LDRB     R2,[R1, +R5]
     73                x++;
   \   000000E0   011081E2           ADD      R1,R1,#+1
   \   000000E4   962322E0           MLA      R2,R6,R3,R2
   \   000000E8   022080E0           ADD      R2,R0,R2
   \   000000EC   B821C4E1           STRH     R2,[R4, #+24]
     74              }
   \   000000F0   0520D1E7           LDRB     R2,[R1, +R5]
   \   000000F4   2E0052E3           CMP      R2,#+46
   \   000000F8   F6FFFF1A           BNE      ??SetDate_10
     75              x++;
   \                     ??SetDate_9:
   \   000000FC   011081E2           ADD      R1,R1,#+1
   \   00000100   0520D1E7           LDRB     R2,[R1, +R5]
   \   00000104   2D0052E3           CMP      R2,#+45
   \   00000108   0800000A           BEQ      ??SetDate_11
     76              while (param[x]!='-')
     77              {
     78                ev->date2.day=(ev->date2.day*10)+(param[x]-0x30);
   \                     ??SetDate_12:
   \   0000010C   1F30D4E5           LDRB     R3,[R4, #+31]
   \   00000110   0520D1E7           LDRB     R2,[R1, +R5]
     79                x++;
   \   00000114   011081E2           ADD      R1,R1,#+1
   \   00000118   962322E0           MLA      R2,R6,R3,R2
   \   0000011C   D02082E2           ADD      R2,R2,#+208
   \   00000120   1F20C4E5           STRB     R2,[R4, #+31]
     80              }
   \   00000124   0520D1E7           LDRB     R2,[R1, +R5]
   \   00000128   2D0052E3           CMP      R2,#+45
   \   0000012C   F6FFFF1A           BNE      ??SetDate_12
     81              x++;
   \                     ??SetDate_11:
   \   00000130   011081E2           ADD      R1,R1,#+1
   \   00000134   0520D1E7           LDRB     R2,[R1, +R5]
   \   00000138   2D0052E3           CMP      R2,#+45
   \   0000013C   0800000A           BEQ      ??SetDate_13
     82              while (param[x]!='-')
     83              {
     84                ev->date2.mon=(ev->date2.mon*10)+(param[x]-0x30);
   \                     ??SetDate_14:
   \   00000140   1E30D4E5           LDRB     R3,[R4, #+30]
   \   00000144   0520D1E7           LDRB     R2,[R1, +R5]
     85                x++;
   \   00000148   011081E2           ADD      R1,R1,#+1
   \   0000014C   962322E0           MLA      R2,R6,R3,R2
   \   00000150   D02082E2           ADD      R2,R2,#+208
   \   00000154   1E20C4E5           STRB     R2,[R4, #+30]
     86              }
   \   00000158   0520D1E7           LDRB     R2,[R1, +R5]
   \   0000015C   2D0052E3           CMP      R2,#+45
   \   00000160   F6FFFF1A           BNE      ??SetDate_14
     87              x++;
   \                     ??SetDate_13:
   \   00000164   011081E2           ADD      R1,R1,#+1
     88              while (param[x]!=':' && param[x]!=0)
   \   00000168   0520D1E7           LDRB     R2,[R1, +R5]
   \   0000016C   3A0052E3           CMP      R2,#+58
   \   00000170   00005213           CMPNE    R2,#+0
   \   00000174   F180BD08           POPEQ    {R0,R4-R7,PC}
     89              {
     90                ev->date2.year=(ev->date2.year*10)+(param[x]-0x30);
   \   00000178   BC31D4E1           LDRH     R3,[R4, #+28]
   \   0000017C   962322E0           MLA      R2,R6,R3,R2
   \   00000180   022080E0           ADD      R2,R0,R2
   \   00000184   BC21C4E1           STRH     R2,[R4, #+28]
     91                x++;
   \   00000188   F5FFFFEA           B        ??SetDate_13
     92              }
     93              x++;
     94            }
     95            else   
     96            {
     97              int x=0;
   \                     ??SetDate_3:
   \   0000018C   0010A0E3           MOV      R1,#+0
   \   00000190   00108DE5           STR      R1,[SP, #+0]
     98              ev->gps=getchr(param,&x,'.');
   \   00000194   2E20A0E3           MOV      R2,#+46
   \   00000198   0D10A0E1           MOV      R1,SP
   \   0000019C   ........           _BLF     ??getchr,??getchr??rA
   \   000001A0   3C0084E5           STR      R0,[R4, #+60]
     99              char *par=getchr(param,&x,':');
   \   000001A4   3A20A0E3           MOV      R2,#+58
   \   000001A8   0D10A0E1           MOV      R1,SP
   \   000001AC   0500A0E1           MOV      R0,R5
   \   000001B0   ........           _BLF     ??getchr,??getchr??rA
   \   000001B4   0050B0E1           MOVS     R5,R0
    100              if (par)
   \   000001B8   0F00000A           BEQ      ??SetDate_15
    101              {
    102                for (x=0;x<strlen(par);x++)
   \   000001BC   0010A0E3           MOV      R1,#+0
   \   000001C0   050000EA           B        ??SetDate_16
    103                {
    104                  ev->days[par[x]-0x30]=true; 
   \                     ??SetDate_17:
   \   000001C4   0500D1E7           LDRB     R0,[R1, +R5]
   \   000001C8   300040E2           SUB      R0,R0,#+48
   \   000001CC   040080E0           ADD      R0,R0,R4
   \   000001D0   2060C0E5           STRB     R6,[R0, #+32]
    105                }
   \   000001D4   00109DE5           LDR      R1,[SP, #+0]
   \   000001D8   011081E2           ADD      R1,R1,#+1
   \                     ??SetDate_16:
   \   000001DC   00108DE5           STR      R1,[SP, #+0]
   \   000001E0   0500A0E1           MOV      R0,R5
   \   000001E4   5A0100EF           SWI      +346
   \   000001E8   00109DE5           LDR      R1,[SP, #+0]
   \   000001EC   000051E1           CMP      R1,R0
   \   000001F0   F3FFFFBA           BLT      ??SetDate_17
    106                delete(par);
   \   000001F4   0500A0E1           MOV      R0,R5
   \   000001F8   ........           _BLF     `??operator delete`,`??operator delete??rA`
    107              }
    108              ev->isGps=true;
   \                     ??SetDate_15:
   \   000001FC   1060C4E5           STRB     R6,[R4, #+16]
    109            }
    110          };
   \   00000200   F180BDE8           POP      {R0,R4-R7,PC}    ;; return
    111          

   \                                 In segment CODE, align 4, keep-with-next
    112          void SetTime(char *param, EVENT *ev, int type)
    113          {
   \                     ??SetTime:
   \   00000000   10002DE9           PUSH     {R4}
    114            if (type==0) //”казано врем€ без конечного
   \   00000004   000052E3           CMP      R2,#+0
   \   00000008   2400001A           BNE      ??SetTime_1
    115            {
    116              int x=0;
   \   0000000C   0030D0E5           LDRB     R3,[R0, #+0]
   \   00000010   0A40A0E3           MOV      R4,#+10
   \   00000014   2D0053E3           CMP      R3,#+45
   \   00000018   0500001A           BNE      ??SetTime_2
   \   0000001C   070000EA           B        ??SetTime_3
    117              while (param[x]!='-')
    118              {
    119                ev->time.hour=(ev->time.hour*10)+(param[x]-0x30);
   \                     ??SetTime_4:
   \   00000020   2CC0D1E5           LDRB     R12,[R1, #+44]
    120                x++;
   \   00000024   012082E2           ADD      R2,R2,#+1
   \   00000028   943C23E0           MLA      R3,R4,R12,R3
   \   0000002C   D03083E2           ADD      R3,R3,#+208
   \   00000030   2C30C1E5           STRB     R3,[R1, #+44]
    121              }
   \                     ??SetTime_2:
   \   00000034   0030D2E7           LDRB     R3,[R2, +R0]
   \   00000038   2D0053E3           CMP      R3,#+45
   \   0000003C   F7FFFF1A           BNE      ??SetTime_4
    122              x++;
   \                     ??SetTime_3:
   \   00000040   013082E2           ADD      R3,R2,#+1
   \   00000044   0AC0A0E3           MOV      R12,#+10
   \   00000048   050000EA           B        ??SetTime_5
    123              while (param[x]!='-' && param[x]!=0)
    124              {
    125                ev->time.min=(ev->time.min*10)+(param[x]-0x30);
   \                     ??SetTime_6:
   \   0000004C   0430A0E1           MOV      R3,R4
   \   00000050   2D40D1E5           LDRB     R4,[R1, #+45]
   \   00000054   9C3423E0           MLA      R3,R12,R4,R3
   \   00000058   D03083E2           ADD      R3,R3,#+208
   \   0000005C   2D30C1E5           STRB     R3,[R1, #+45]
    126                x++;
   \   00000060   0230A0E1           MOV      R3,R2
    127              }
   \                     ??SetTime_5:
   \   00000064   0040D3E7           LDRB     R4,[R3, +R0]
   \   00000068   012083E2           ADD      R2,R3,#+1
   \   0000006C   2D0054E3           CMP      R4,#+45
   \   00000070   00005413           CMPNE    R4,#+0
   \   00000074   F4FFFF1A           BNE      ??SetTime_6
    128              x++;
    129              while (param[x]!=':' && param[x]!=0)
   \                     ??SetTime_7:
   \   00000078   0030D2E7           LDRB     R3,[R2, +R0]
   \   0000007C   3A0053E3           CMP      R3,#+58
   \   00000080   00005313           CMPNE    R3,#+0
   \   00000084   5400000A           BEQ      ??SetTime_8
    130              {
    131                ev->time.sec=(ev->time.sec*10)+(param[x]-0x30);
   \   00000088   2E40D1E5           LDRB     R4,[R1, #+46]
    132                x++;
   \   0000008C   012082E2           ADD      R2,R2,#+1
   \   00000090   9C3423E0           MLA      R3,R12,R4,R3
   \   00000094   D03083E2           ADD      R3,R3,#+208
   \   00000098   2E30C1E5           STRB     R3,[R1, #+46]
   \   0000009C   F5FFFFEA           B        ??SetTime_7
    133              }
    134            }
    135            else if (type==1) //”казана даты начала и конца
   \                     ??SetTime_1:
   \   000000A0   010052E3           CMP      R2,#+1
   \   000000A4   4C00001A           BNE      ??SetTime_8
    136            {
    137              int x=0;
   \   000000A8   0030D0E5           LDRB     R3,[R0, #+0]
   \   000000AC   0020A0E3           MOV      R2,#+0
   \   000000B0   0AC0A0E3           MOV      R12,#+10
   \   000000B4   2D0053E3           CMP      R3,#+45
   \   000000B8   0500001A           BNE      ??SetTime_9
   \   000000BC   070000EA           B        ??SetTime_10
    138              while (param[x]!='-')
    139              {
    140                ev->time.hour=(ev->time.hour*10)+(param[x]-0x30);
   \                     ??SetTime_11:
   \   000000C0   2C40D1E5           LDRB     R4,[R1, #+44]
    141                x++;
   \   000000C4   012082E2           ADD      R2,R2,#+1
   \   000000C8   9C3423E0           MLA      R3,R12,R4,R3
   \   000000CC   D03083E2           ADD      R3,R3,#+208
   \   000000D0   2C30C1E5           STRB     R3,[R1, #+44]
    142              }
   \                     ??SetTime_9:
   \   000000D4   0030D2E7           LDRB     R3,[R2, +R0]
   \   000000D8   2D0053E3           CMP      R3,#+45
   \   000000DC   F7FFFF1A           BNE      ??SetTime_11
    143              x++;
   \                     ??SetTime_10:
   \   000000E0   012082E2           ADD      R2,R2,#+1
   \   000000E4   0030D2E7           LDRB     R3,[R2, +R0]
   \   000000E8   2D0053E3           CMP      R3,#+45
   \   000000EC   0800000A           BEQ      ??SetTime_12
    144              while (param[x]!='-')
    145              {
    146                ev->time.min=(ev->time.min*10)+(param[x]-0x30);
   \                     ??SetTime_13:
   \   000000F0   2D40D1E5           LDRB     R4,[R1, #+45]
   \   000000F4   0030D2E7           LDRB     R3,[R2, +R0]
    147                x++;
   \   000000F8   012082E2           ADD      R2,R2,#+1
   \   000000FC   9C3423E0           MLA      R3,R12,R4,R3
   \   00000100   D03083E2           ADD      R3,R3,#+208
   \   00000104   2D30C1E5           STRB     R3,[R1, #+45]
    148              }
   \   00000108   0030D2E7           LDRB     R3,[R2, +R0]
   \   0000010C   2D0053E3           CMP      R3,#+45
   \   00000110   F6FFFF1A           BNE      ??SetTime_13
    149              x++;
   \                     ??SetTime_12:
   \   00000114   012082E2           ADD      R2,R2,#+1
   \   00000118   0030D2E7           LDRB     R3,[R2, +R0]
   \   0000011C   2E0053E3           CMP      R3,#+46
   \   00000120   0800000A           BEQ      ??SetTime_14
    150              while (param[x]!='.')
    151              {
    152                ev->time.sec=(ev->time.sec*10)+(param[x]-0x30);
   \                     ??SetTime_15:
   \   00000124   2E40D1E5           LDRB     R4,[R1, #+46]
   \   00000128   0030D2E7           LDRB     R3,[R2, +R0]
    153                x++;
   \   0000012C   012082E2           ADD      R2,R2,#+1
   \   00000130   9C3423E0           MLA      R3,R12,R4,R3
   \   00000134   D03083E2           ADD      R3,R3,#+208
   \   00000138   2E30C1E5           STRB     R3,[R1, #+46]
    154              }
   \   0000013C   0030D2E7           LDRB     R3,[R2, +R0]
   \   00000140   2E0053E3           CMP      R3,#+46
   \   00000144   F6FFFF1A           BNE      ??SetTime_15
    155              x++;
   \                     ??SetTime_14:
   \   00000148   012082E2           ADD      R2,R2,#+1
   \   0000014C   0030D2E7           LDRB     R3,[R2, +R0]
   \   00000150   2D0053E3           CMP      R3,#+45
   \   00000154   0800000A           BEQ      ??SetTime_16
    156              while (param[x]!='-')
    157              {
    158                ev->time2.hour=(ev->time2.hour*10)+(param[x]-0x30);
   \                     ??SetTime_17:
   \   00000158   3040D1E5           LDRB     R4,[R1, #+48]
   \   0000015C   0030D2E7           LDRB     R3,[R2, +R0]
    159                x++;
   \   00000160   012082E2           ADD      R2,R2,#+1
   \   00000164   9C3423E0           MLA      R3,R12,R4,R3
   \   00000168   D03083E2           ADD      R3,R3,#+208
   \   0000016C   3030C1E5           STRB     R3,[R1, #+48]
    160              }
   \   00000170   0030D2E7           LDRB     R3,[R2, +R0]
   \   00000174   2D0053E3           CMP      R3,#+45
   \   00000178   F6FFFF1A           BNE      ??SetTime_17
    161              x++;
   \                     ??SetTime_16:
   \   0000017C   013082E2           ADD      R3,R2,#+1
   \   00000180   050000EA           B        ??SetTime_18
    162              while (param[x]!='-' && param[x]!=0)
    163              {
    164                ev->time2.min=(ev->time2.min*10)+(param[x]-0x30);
   \                     ??SetTime_19:
   \   00000184   0430A0E1           MOV      R3,R4
   \   00000188   3140D1E5           LDRB     R4,[R1, #+49]
   \   0000018C   9C3423E0           MLA      R3,R12,R4,R3
   \   00000190   D03083E2           ADD      R3,R3,#+208
   \   00000194   3130C1E5           STRB     R3,[R1, #+49]
    165                x++;
   \   00000198   0230A0E1           MOV      R3,R2
    166              }
   \                     ??SetTime_18:
   \   0000019C   0040D3E7           LDRB     R4,[R3, +R0]
   \   000001A0   012083E2           ADD      R2,R3,#+1
   \   000001A4   2D0054E3           CMP      R4,#+45
   \   000001A8   0700000A           BEQ      ??SetTime_20
   \   000001AC   000054E3           CMP      R4,#+0
   \   000001B0   F3FFFF1A           BNE      ??SetTime_19
    167              x++;
   \   000001B4   040000EA           B        ??SetTime_20
    168              while (param[x]!=':' && param[x]!=0)
    169              {
    170                ev->time2.sec=(ev->time2.sec*10)+(param[x]-0x30);
   \                     ??SetTime_21:
   \   000001B8   3240D1E5           LDRB     R4,[R1, #+50]
    171                x++;
   \   000001BC   012082E2           ADD      R2,R2,#+1
   \   000001C0   9C3423E0           MLA      R3,R12,R4,R3
   \   000001C4   D03083E2           ADD      R3,R3,#+208
   \   000001C8   3230C1E5           STRB     R3,[R1, #+50]
    172              }
   \                     ??SetTime_20:
   \   000001CC   0030D2E7           LDRB     R3,[R2, +R0]
   \   000001D0   3A0053E3           CMP      R3,#+58
   \   000001D4   00005313           CMPNE    R3,#+0
   \   000001D8   F6FFFF1A           BNE      ??SetTime_21
    173            }
    174          };
   \                     ??SetTime_8:
   \   000001DC   1000BDE8           POP      {R4}
   \   000001E0   1EFF2FE1           BX       LR               ;; return
    175          

   \                                 In segment CODE, align 4, keep-with-next
    176          void AddEvent2(char *line)
    177          {
   \                     ??AddEvent2:
   \   00000000   70402DE9           PUSH     {R4-R6,LR}
   \   00000004   04D04DE2           SUB      SP,SP,#+4
   \   00000008   0040A0E1           MOV      R4,R0
    178            EVENT *ev=new EVENT;
   \   0000000C   4400A0E3           MOV      R0,#+68
   \   00000010   ........           _BLF     `??operator new`,`??operator new??rA`
   \   00000014   0050A0E1           MOV      R5,R0
    179            memset(ev,0,sizeof(EVENT));
   \   00000018   4420A0E3           MOV      R2,#+68
   \   0000001C   0010A0E3           MOV      R1,#+0
   \   00000020   120100EF           SWI      +274
    180            int x=0;
   \   00000024   0010A0E3           MOV      R1,#+0
   \   00000028   00108DE5           STR      R1,[SP, #+0]
    181            ev->rem=getint(line,&x,':');
   \   0000002C   3A20A0E3           MOV      R2,#+58
   \   00000030   0D10A0E1           MOV      R1,SP
   \   00000034   0400A0E1           MOV      R0,R4
   \   00000038   ........           _BLF     ??getint,??getint??rA
   \   0000003C   400085E5           STR      R0,[R5, #+64]
    182            ev->AskBefore=getint(line,&x,':');
   \   00000040   3A20A0E3           MOV      R2,#+58
   \   00000044   0D10A0E1           MOV      R1,SP
   \   00000048   0400A0E1           MOV      R0,R4
   \   0000004C   ........           _BLF     ??getint,??getint??rA
    183            if (ev->AskBefore<0)
   \   00000050   0160A0E3           MOV      R6,#+1
   \   00000054   000050E3           CMP      R0,#+0
    184            {
    185              ev->isMinusInBefore=true;
   \   00000058   0860C545           STRBMI   R6,[R5, #+8]
    186              ev->AskBefore=-ev->AskBefore;
   \   0000005C   00006042           RSBMI    R0,R0,#+0
   \   00000060   040085E5           STR      R0,[R5, #+4]
    187            }
    188            ev->AskAfter=getint(line,&x,':');
   \   00000064   3A20A0E3           MOV      R2,#+58
   \   00000068   0D10A0E1           MOV      R1,SP
   \   0000006C   0400A0E1           MOV      R0,R4
   \   00000070   ........           _BLF     ??getint,??getint??rA
    189            if (ev->AskAfter<0)
   \   00000074   000050E3           CMP      R0,#+0
    190            {
    191              ev->isMinusInAfter=true;
   \   00000078   1160C545           STRBMI   R6,[R5, #+17]
    192              ev->AskAfter=-ev->AskAfter;
   \   0000007C   00006042           RSBMI    R0,R0,#+0
   \   00000080   0C0085E5           STR      R0,[R5, #+12]
    193            }
    194            ev->type=getint(line,&x,':');
   \   00000084   3A20A0E3           MOV      R2,#+58
   \   00000088   0D10A0E1           MOV      R1,SP
   \   0000008C   0400A0E1           MOV      R0,R4
   \   00000090   ........           _BLF     ??getint,??getint??rA
   \   00000094   000085E5           STR      R0,[R5, #+0]
    195            ev->dtype=getint(line,&x,':');
   \   00000098   3A20A0E3           MOV      R2,#+58
   \   0000009C   0D10A0E1           MOV      R1,SP
   \   000000A0   0400A0E1           MOV      R0,R4
   \   000000A4   ........           _BLF     ??getint,??getint??rA
   \   000000A8   140085E5           STR      R0,[R5, #+20]
    196            char *date=getchr(line,&x,':');
   \   000000AC   3A20A0E3           MOV      R2,#+58
   \   000000B0   0D10A0E1           MOV      R1,SP
   \   000000B4   0400A0E1           MOV      R0,R4
   \   000000B8   ........           _BLF     ??getchr,??getchr??rA
   \   000000BC   0060B0E1           MOVS     R6,R0
    197            if (date)
   \   000000C0   0400000A           BEQ      ??AddEvent2_1
    198            {
    199              SetDate(date,ev,ev->dtype);
   \   000000C4   142095E5           LDR      R2,[R5, #+20]
   \   000000C8   0510A0E1           MOV      R1,R5
   \   000000CC   ........           BL       ??SetDate
    200              delete(date);
   \   000000D0   0600A0E1           MOV      R0,R6
   \   000000D4   ........           _BLF     `??operator delete`,`??operator delete??rA`
    201            }
    202            ev->ttype=getint(line,&x,':');
   \                     ??AddEvent2_1:
   \   000000D8   3A20A0E3           MOV      R2,#+58
   \   000000DC   0D10A0E1           MOV      R1,SP
   \   000000E0   0400A0E1           MOV      R0,R4
   \   000000E4   ........           _BLF     ??getint,??getint??rA
   \   000000E8   280085E5           STR      R0,[R5, #+40]
    203            char *time=getchr(line,&x,':');
   \   000000EC   3A20A0E3           MOV      R2,#+58
   \   000000F0   0D10A0E1           MOV      R1,SP
   \   000000F4   0400A0E1           MOV      R0,R4
   \   000000F8   ........           _BLF     ??getchr,??getchr??rA
   \   000000FC   0060B0E1           MOVS     R6,R0
    204            if (time)
   \   00000100   0400000A           BEQ      ??AddEvent2_2
    205            {
    206              SetTime(time,ev,ev->ttype);
   \   00000104   282095E5           LDR      R2,[R5, #+40]
   \   00000108   0510A0E1           MOV      R1,R5
   \   0000010C   ........           BL       ??SetTime
    207              delete(time);
   \   00000110   0600A0E1           MOV      R0,R6
   \   00000114   ........           _BLF     `??operator delete`,`??operator delete??rA`
    208            }
    209            ev->txt=getwchr(line,&x,0xFE);
   \                     ??AddEvent2_2:
   \   00000118   FE20A0E3           MOV      R2,#+254
   \   0000011C   0D10A0E1           MOV      R1,SP
   \   00000120   0400A0E1           MOV      R0,R4
   \   00000124   ........           _BLF     ??getwchr,??getwchr??rA
   \   00000128   380085E5           STR      R0,[R5, #+56]
    210            ev->param=getwchr(line,&x,0xFF);
   \   0000012C   FF20A0E3           MOV      R2,#+255
   \   00000130   0D10A0E1           MOV      R1,SP
   \   00000134   0400A0E1           MOV      R0,R4
   \   00000138   ........           _BLF     ??getwchr,??getwchr??rA
   \   0000013C   340085E5           STR      R0,[R5, #+52]
    211            List_InsertLast(events, ev);
   \   00000140   ........           LDR      R0,??DataTable13  ;; events
   \   00000144   0510A0E1           MOV      R1,R5
   \   00000148   000090E5           LDR      R0,[R0, #+0]
   \   0000014C   B00100EF           SWI      +432
    212          }
   \   00000150   7180BDE8           POP      {R0,R4-R6,PC}    ;; return

   \                                 In segment CODE, align 4, keep-with-next
    213          void *memmem(const unsigned char *haystack, size_t haystacklen, const void *needle, size_t needlelen)
    214          {
   \                     ??memmem:
   \   00000000   F0402DE9           PUSH     {R4-R7,LR}
   \   00000004   0040A0E1           MOV      R4,R0
   \   00000008   0250A0E1           MOV      R5,R2
   \   0000000C   0360A0E1           MOV      R6,R3
    215            const unsigned char *cursor;
    216            const unsigned char *last_possible_needle_location = (unsigned char *)haystack + haystacklen - needlelen;
   \   00000010   0600A0E1           MOV      R0,R6
   \   00000014   000060E2           RSB      R0,R0,#+0
   \   00000018   042081E0           ADD      R2,R1,R4
   \   0000001C   027080E0           ADD      R7,R0,R2
    217            if (needlelen > haystacklen) return(NULL);
   \   00000020   060051E1           CMP      R1,R6
   \   00000024   0100002A           BCS      ??memmem_1
   \                     ??memmem_2:
   \   00000028   0000A0E3           MOV      R0,#+0
   \   0000002C   F080BDE8           POP      {R4-R7,PC}
    218            if (needle == NULL) return(NULL);
   \                     ??memmem_1:
   \   00000030   000055E3           CMP      R5,#+0
    219            if (haystack == NULL) return(NULL);
   \   00000034   00005413           CMPNE    R4,#+0
    220            if (needlelen == 0) return(NULL);
   \   00000038   00005613           CMPNE    R6,#+0
    221            if (haystacklen == 0) return(NULL);
   \   0000003C   00005113           CMPNE    R1,#+0
   \   00000040   F8FFFF0A           BEQ      ??memmem_2
    222            
    223            for (cursor = haystack; cursor <= last_possible_needle_location; cursor++) 
   \   00000044   000000EA           B        ??memmem_3
   \                     ??memmem_4:
   \   00000048   014084E2           ADD      R4,R4,#+1
   \                     ??memmem_3:
   \   0000004C   040057E1           CMP      R7,R4
   \   00000050   F4FFFF3A           BCC      ??memmem_2
    224            {
    225              if (memcmp(needle, cursor, needlelen) == 0) 
   \   00000054   0620A0E1           MOV      R2,R6
   \   00000058   0410A0E1           MOV      R1,R4
   \   0000005C   0500A0E1           MOV      R0,R5
   \   00000060   7D0200EF           SWI      +637
   \   00000064   000050E3           CMP      R0,#+0
   \   00000068   F6FFFF1A           BNE      ??memmem_4
    226              {
    227                return((void *) cursor);
   \   0000006C   0400A0E1           MOV      R0,R4
   \   00000070   F080BDE8           POP      {R4-R7,PC}       ;; return
    228              }
    229            }
    230            return(NULL);
    231          };
    232          

   \                                 In segment CODE, align 4, keep-with-next
    233          char *getparam(char *buf, char *mask, char end, int fsize)
    234          {
   \                     ??getparam:
   \   00000000   F0402DE9           PUSH     {R4-R7,LR}
   \   00000004   0050A0E1           MOV      R5,R0
   \   00000008   0160A0E1           MOV      R6,R1
   \   0000000C   0240A0E1           MOV      R4,R2
   \   00000010   0370A0E1           MOV      R7,R3
    235            char *str=0;
    236            if (str=(char*)memmem((unsigned char const*)buf,fsize,mask,strlen(mask)))
   \   00000014   0600A0E1           MOV      R0,R6
   \   00000018   5A0100EF           SWI      +346
   \   0000001C   0030A0E1           MOV      R3,R0
   \   00000020   0620A0E1           MOV      R2,R6
   \   00000024   0710A0E1           MOV      R1,R7
   \   00000028   0500A0E1           MOV      R0,R5
   \   0000002C   ........           BL       ??memmem
   \   00000030   0050B0E1           MOVS     R5,R0
   \   00000034   1900000A           BEQ      ??getparam_1
    237            {
    238              char *ret=0;;
    239              int addr=(int)str;
    240              str=(char*)(addr+strlen(mask)+2);
   \   00000038   0600A0E1           MOV      R0,R6
   \   0000003C   5A0100EF           SWI      +346
   \   00000040   050080E0           ADD      R0,R0,R5
   \   00000044   025080E2           ADD      R5,R0,#+2
    241              int x=0;
    242              int len=0;
   \   00000048   0010D5E5           LDRB     R1,[R5, #+0]
   \   0000004C   0000A0E3           MOV      R0,#+0
   \   00000050   040051E1           CMP      R1,R4
   \   00000054   0100001A           BNE      ??getparam_2
   \   00000058   030000EA           B        ??getparam_3
    243              while (str[x]!=end)
    244              {
    245                x++;
   \                     ??getparam_4:
   \   0000005C   010080E2           ADD      R0,R0,#+1
    246              }
   \                     ??getparam_2:
   \   00000060   0510D0E7           LDRB     R1,[R0, +R5]
   \   00000064   040051E1           CMP      R1,R4
   \   00000068   FBFFFF1A           BNE      ??getparam_4
    247              len=x+1;
   \                     ??getparam_3:
   \   0000006C   014080E2           ADD      R4,R0,#+1
    248              if (len>1)
   \   00000070   020054E3           CMP      R4,#+2
   \   00000074   090000BA           BLT      ??getparam_1
    249              {
    250                ret=new char[len+1];
   \   00000078   010084E2           ADD      R0,R4,#+1
   \   0000007C   ........           _BLF     `??operator new[]`,`??operator new[]??rA`
   \   00000080   0060A0E1           MOV      R6,R0
    251                memcpy(ret,str,len);
   \   00000084   0420A0E1           MOV      R2,R4
   \   00000088   0510A0E1           MOV      R1,R5
   \   0000008C   130100EF           SWI      +275
    252                ret[len]='\0';
   \   00000090   0000A0E3           MOV      R0,#+0
   \   00000094   0600C4E7           STRB     R0,[R4, +R6]
    253                return ret;
   \   00000098   0600A0E1           MOV      R0,R6
   \   0000009C   F080BDE8           POP      {R4-R7,PC}
    254              }
    255              return 0;
    256            }
    257            return 0;
   \                     ??getparam_1:
   \   000000A0   0000A0E3           MOV      R0,#+0
   \   000000A4   F080BDE8           POP      {R4-R7,PC}       ;; return
    258          };
    259          

   \                                 In segment CODE, align 4, keep-with-next
    260          int readConfig(BOOK *myBook, wchar_t *myFolder, wchar_t *name)
    261          {
   \                     ??readConfig:
   \   00000000   F04F2DE9           PUSH     {R4-R11,LR}
   \   00000004   A0D04DE2           SUB      SP,SP,#+160
   \   00000008   0080A0E1           MOV      R8,R0
   \   0000000C   0150A0E1           MOV      R5,R1
   \   00000010   0260A0E1           MOV      R6,R2
    262            char endline=0xFF;
    263            int result=-1; //файл не найден
   \   00000014   0070E0E3           MVN      R7,#+0
    264            int file;
    265            FSTAT fst;
    266            if (fstat(myFolder,name,&fst)==0)
   \   00000018   04208DE2           ADD      R2,SP,#+4
   \   0000001C   0610A0E1           MOV      R1,R6
   \   00000020   0500A0E1           MOV      R0,R5
   \   00000024   1C0100EF           SWI      +284
   \   00000028   000050E3           CMP      R0,#+0
   \   0000002C   7700001A           BNE      ??readConfig_1
    267            {
    268              if ((file=_fopen(myFolder,name,FSX_O_RDONLY,FSX_S_IREAD|FSX_S_IWRITE,0))>=0)
   \   00000030   01002DE9           PUSH     {R0}
   \   00000034   603FA0E3           MOV      R3,#+384
   \   00000038   0120A0E3           MOV      R2,#+1
   \   0000003C   0610A0E1           MOV      R1,R6
   \   00000040   0500A0E1           MOV      R0,R5
   \   00000044   160100EF           SWI      +278
   \   00000048   0040B0E1           MOVS     R4,R0
   \   0000004C   04D08DE2           ADD      SP,SP,#+4
   \   00000050   6C00004A           BMI      ??readConfig_2
    269              {
    270                char * buf;
    271                char * param;
    272                
    273                buf=new char[fst.fsize+1];
   \   00000054   0C009DE5           LDR      R0,[SP, #+12]
    274                fread(file,buf,fst.fsize);
    275                int x=0;
   \   00000058   00A0A0E3           MOV      R10,#+0
   \   0000005C   010080E2           ADD      R0,R0,#+1
   \   00000060   ........           _BLF     `??operator new[]`,`??operator new[]??rA`
   \   00000064   0C209DE5           LDR      R2,[SP, #+12]
   \   00000068   0070A0E1           MOV      R7,R0
   \   0000006C   0710A0E1           MOV      R1,R7
   \   00000070   0400A0E1           MOV      R0,R4
   \   00000074   180100EF           SWI      +280
   \   00000078   679F8FE2           ADR      R9,??readConfig_3  ;; "%d)"
   \   0000007C   030000EA           B        ??readConfig_4
    276                while (1)
    277                {
    278                  char pattern[128];
    279                  sprintf(pattern,"%d)",x);
    280                  if (param=getparam(buf,pattern,endline, fst.fsize))
    281                  {
    282                    AddEvent2(param);
   \                     ??readConfig_5:
   \   00000080   ........           BL       ??AddEvent2
    283                    mfree(param);
   \   00000084   0B00A0E1           MOV      R0,R11
   \   00000088   040100EF           SWI      +260
    284                  }
    285                  else
    286                  {
    287                    break;
    288                  }
    289                  param=0;
    290                  x++;
   \   0000008C   01A08AE2           ADD      R10,R10,#+1
   \                     ??readConfig_4:
   \   00000090   0A20A0E1           MOV      R2,R10
   \   00000094   0910A0E1           MOV      R1,R9
   \   00000098   20008DE2           ADD      R0,SP,#+32
   \   0000009C   140100EF           SWI      +276
   \   000000A0   0C309DE5           LDR      R3,[SP, #+12]
   \   000000A4   FF20A0E3           MOV      R2,#+255
   \   000000A8   20108DE2           ADD      R1,SP,#+32
   \   000000AC   0700A0E1           MOV      R0,R7
   \   000000B0   ........           BL       ??getparam
   \   000000B4   00B0B0E1           MOVS     R11,R0
   \   000000B8   F0FFFF1A           BNE      ??readConfig_5
    291                }
    292                if (param=getparam(buf,"ind_item)", endline, fst.fsize))
   \   000000BC   5C919FE5           LDR      R9,??readConfig_3+0x4  ;; `?<Constant "ind_item)">`
   \   000000C0   0C309DE5           LDR      R3,[SP, #+12]
   \   000000C4   FF20A0E3           MOV      R2,#+255
   \   000000C8   0910A0E1           MOV      R1,R9
   \   000000CC   0700A0E1           MOV      R0,R7
   \   000000D0   ........           BL       ??getparam
   \   000000D4   00A0B0E1           MOVS     R10,R0
   \   000000D8   0700000A           BEQ      ??readConfig_6
    293                {
    294                  MyBOOK *mbk=(MyBOOK*)myBook;
    295                  int x2=0;
   \   000000DC   0010A0E3           MOV      R1,#+0
   \   000000E0   00108DE5           STR      R1,[SP, #+0]
    296                  mbk->rem_types=getint(param,&x2,0xFF);
   \   000000E4   FF20A0E3           MOV      R2,#+255
   \   000000E8   0D10A0E1           MOV      R1,SP
   \   000000EC   ........           _BLF     ??getint,??getint??rA
   \   000000F0   BC0088E5           STR      R0,[R8, #+188]
    297                  mfree(param);
   \   000000F4   0A00A0E1           MOV      R0,R10
   \   000000F8   040100EF           SWI      +260
    298                }
    299                MyBOOK *mbk=(MyBOOK*)myBook;
    300                if (mbk->indpath)
   \                     ??readConfig_6:
   \   000000FC   C00098E5           LDR      R0,[R8, #+192]
   \   00000100   000050E3           CMP      R0,#+0
   \   00000104   0000000A           BEQ      ??readConfig_7
    301                  delete(mbk->indpath);
   \   00000108   ........           _BLF     `??operator delete`,`??operator delete??rA`
    302                if (param=getparam(buf,"ind_path)", endline, fst.fsize))
   \                     ??readConfig_7:
   \   0000010C   0C309DE5           LDR      R3,[SP, #+12]
   \   00000110   FF20A0E3           MOV      R2,#+255
   \   00000114   0C1089E2           ADD      R1,R9,#+12
   \   00000118   0700A0E1           MOV      R0,R7
   \   0000011C   ........           BL       ??getparam
   \   00000120   00A0B0E1           MOVS     R10,R0
   \   00000124   0700000A           BEQ      ??readConfig_8
    303                {
    304                  int x2=0;
   \   00000128   0010A0E3           MOV      R1,#+0
   \   0000012C   00108DE5           STR      R1,[SP, #+0]
    305                  mbk->indpath=getwchr(param,&x2,0xFF);
   \   00000130   FF20A0E3           MOV      R2,#+255
   \   00000134   0D10A0E1           MOV      R1,SP
   \   00000138   ........           _BLF     ??getwchr,??getwchr??rA
   \   0000013C   C00088E5           STR      R0,[R8, #+192]
    306                  mfree(param);
   \   00000140   0A00A0E1           MOV      R0,R10
   \   00000144   040100EF           SWI      +260
    307                }
    308                if (mbk->indname)
   \                     ??readConfig_8:
   \   00000148   C40098E5           LDR      R0,[R8, #+196]
   \   0000014C   000050E3           CMP      R0,#+0
   \   00000150   0000000A           BEQ      ??readConfig_9
    309                  delete(mbk->indname);
   \   00000154   ........           _BLF     `??operator delete`,`??operator delete??rA`
    310                if (param=getparam(buf,"ind_name)", endline, fst.fsize))
   \                     ??readConfig_9:
   \   00000158   0C309DE5           LDR      R3,[SP, #+12]
   \   0000015C   FF20A0E3           MOV      R2,#+255
   \   00000160   181089E2           ADD      R1,R9,#+24
   \   00000164   0700A0E1           MOV      R0,R7
   \   00000168   ........           BL       ??getparam
   \   0000016C   0090B0E1           MOVS     R9,R0
   \   00000170   0700000A           BEQ      ??readConfig_10
    311                {
    312                  int x2=0;
   \   00000174   0010A0E3           MOV      R1,#+0
   \   00000178   00108DE5           STR      R1,[SP, #+0]
    313                  mbk->indname=getwchr(param,&x2,0xFF);
   \   0000017C   FF20A0E3           MOV      R2,#+255
   \   00000180   0D10A0E1           MOV      R1,SP
   \   00000184   ........           _BLF     ??getwchr,??getwchr??rA
   \   00000188   C40088E5           STR      R0,[R8, #+196]
    314                  mfree(param);
   \   0000018C   0900A0E1           MOV      R0,R9
   \   00000190   040100EF           SWI      +260
    315                }
    316                if (defPath)delete(defPath);
   \                     ??readConfig_10:
   \   00000194   ........           LDR      R8,??DataTable14  ;; defPath
   \   00000198   000098E5           LDR      R0,[R8, #+0]
   \   0000019C   000050E3           CMP      R0,#+0
   \   000001A0   0000000A           BEQ      ??readConfig_11
   \   000001A4   ........           _BLF     `??operator delete`,`??operator delete??rA`
    317                if (defName)delete(defName);
   \                     ??readConfig_11:
   \   000001A8   ........           LDR      R9,??DataTable15  ;; defName
   \   000001AC   000099E5           LDR      R0,[R9, #+0]
   \   000001B0   000050E3           CMP      R0,#+0
   \   000001B4   0000000A           BEQ      ??readConfig_12
   \   000001B8   ........           _BLF     `??operator delete`,`??operator delete??rA`
    318                defPath=new wchar_t[wstrlen(myFolder)+1];
   \                     ??readConfig_12:
   \   000001BC   0500A0E1           MOV      R0,R5
   \   000001C0   570100EF           SWI      +343
   \   000001C4   010080E2           ADD      R0,R0,#+1
   \   000001C8   8000A0E1           LSL      R0,R0,#+1
   \   000001CC   ........           _BLF     `??operator new[]`,`??operator new[]??rA`
   \   000001D0   000088E5           STR      R0,[R8, #+0]
    319                wstrcpy(defPath,myFolder);
   \   000001D4   0510A0E1           MOV      R1,R5
   \   000001D8   520100EF           SWI      +338
    320                defName=new wchar_t[wstrlen(name)+1];
   \   000001DC   0600A0E1           MOV      R0,R6
   \   000001E0   570100EF           SWI      +343
   \   000001E4   010080E2           ADD      R0,R0,#+1
   \   000001E8   8000A0E1           LSL      R0,R0,#+1
   \   000001EC   ........           _BLF     `??operator new[]`,`??operator new[]??rA`
   \   000001F0   000089E5           STR      R0,[R9, #+0]
    321                wstrcpy(defName,name);
   \   000001F4   0610A0E1           MOV      R1,R6
   \   000001F8   520100EF           SWI      +338
    322                delete(buf);
   \   000001FC   0700A0E1           MOV      R0,R7
   \   00000200   ........           _BLF     `??operator delete`,`??operator delete??rA`
    323                result=0; //”спешно прочитали, занесли данные в лист
   \   00000204   0070A0E3           MOV      R7,#+0
    324              }
    325              fclose(file);
   \                     ??readConfig_2:
   \   00000208   0400A0E1           MOV      R0,R4
   \   0000020C   170100EF           SWI      +279
    326            }
    327            return result;
   \                     ??readConfig_1:
   \   00000210   0700A0E1           MOV      R0,R7
   \   00000214   A0D08DE2           ADD      SP,SP,#+160
   \   00000218   F08FBDE8           POP      {R4-R11,PC}      ;; return
   \                     ??readConfig_3:
   \   0000021C   25642900           DC8      "%d)"
   \   00000220   ........           DC32     `?<Constant "ind_item)">`
    328          };
    329          

   \                                 In segment CODE, align 4, keep-with-next
    330          int InitializeEvents(BOOK *myBook, wchar_t *path, wchar_t *fname)
    331          {
   \                     ??InitializeEvents:
   \   00000000   F0402DE9           PUSH     {R4-R7,LR}
    332            events=List_Create();
   \   00000004   ........           LDR      R7,??DataTable13  ;; events
   \   00000008   0040A0E1           MOV      R4,R0
   \   0000000C   0150A0E1           MOV      R5,R1
   \   00000010   0260A0E1           MOV      R6,R2
   \   00000014   690100EF           SWI      +361
   \   00000018   000087E5           STR      R0,[R7, #+0]
    333            if (path && fname)
   \   0000001C   000055E3           CMP      R5,#+0
   \   00000020   00005613           CMPNE    R6,#+0
   \   00000024   0500000A           BEQ      ??InitializeEvents_1
    334            {
    335              readConfig(myBook, path, fname);
   \   00000028   0620A0E1           MOV      R2,R6
   \   0000002C   0510A0E1           MOV      R1,R5
   \   00000030   0400A0E1           MOV      R0,R4
   \   00000034   ........           BL       ??readConfig
    336            }
    337            else
    338            {
    339              if (readConfig(myBook, extFolder, L"Events.evt")<0)
    340              {
    341                if (readConfig(myBook, intFolder, L"Events.evt")<0)
    342                {
    343                  return 0;
    344                }
    345              }
    346            }
    347            return 1;
   \                     ??InitializeEvents_2:
   \   00000038   0100A0E3           MOV      R0,#+1
   \   0000003C   F080BDE8           POP      {R4-R7,PC}       ;; return
   \                     ??InitializeEvents_1:
   \   00000040   ........           LDR      R5,??DataTable8  ;; `?<Constant L"\\x45\\x76\\x65\\x6e\\x74\\x73\\x2e\\x65\\`
   \   00000044   041097E5           LDR      R1,[R7, #+4]
   \   00000048   0520A0E1           MOV      R2,R5
   \   0000004C   0400A0E1           MOV      R0,R4
   \   00000050   ........           BL       ??readConfig
   \   00000054   000050E3           CMP      R0,#+0
   \   00000058   F6FFFF5A           BPL      ??InitializeEvents_2
   \   0000005C   081097E5           LDR      R1,[R7, #+8]
   \   00000060   0520A0E1           MOV      R2,R5
   \   00000064   0400A0E1           MOV      R0,R4
   \   00000068   ........           BL       ??readConfig
   \   0000006C   000050E3           CMP      R0,#+0
   \   00000070   F0FFFF5A           BPL      ??InitializeEvents_2
   \   00000074   0000A0E3           MOV      R0,#+0
   \   00000078   F080BDE8           POP      {R4-R7,PC}
    348          };
    349          

   \                                 In segment CODE, align 4, keep-with-next
    350          char* getevents_days(EVENT *ev)
    351          {
   \                     ??getevents_days:
   \   00000000   F0402DE9           PUSH     {R4-R7,LR}
   \   00000004   04D04DE2           SUB      SP,SP,#+4
   \   00000008   0040A0E1           MOV      R4,R0
    352            char *ret=new char[10];
   \   0000000C   0A00A0E3           MOV      R0,#+10
   \   00000010   ........           _BLF     `??operator new[]`,`??operator new[]??rA`
   \   00000014   0050A0E1           MOV      R5,R0
    353            ret[0]='\0';
   \   00000018   0060A0E3           MOV      R6,#+0
   \   0000001C   0060C5E5           STRB     R6,[R5, #+0]
    354            int x;
    355            for (x=0;x<10;x++)
   \   00000020   0070A0E3           MOV      R7,#+0
    356            {
    357              if (ev->days[x])
   \                     ??getevents_days_1:
   \   00000024   040087E0           ADD      R0,R7,R4
   \   00000028   2000D0E5           LDRB     R0,[R0, #+32]
   \   0000002C   000050E3           CMP      R0,#+0
   \   00000030   0500000A           BEQ      ??getevents_days_2
    358              {
    359                char hz[2];
    360                hz[0]=x+0x30;
   \   00000034   301087E2           ADD      R1,R7,#+48
   \   00000038   0010CDE5           STRB     R1,[SP, #+0]
    361                hz[1]='\0';
   \   0000003C   0160CDE5           STRB     R6,[SP, #+1]
    362                strcat(ret,hz);
   \   00000040   0D10A0E1           MOV      R1,SP
   \   00000044   0500A0E1           MOV      R0,R5
   \   00000048   800200EF           SWI      +640
    363              }
    364            }
   \                     ??getevents_days_2:
   \   0000004C   017087E2           ADD      R7,R7,#+1
   \   00000050   0A0057E3           CMP      R7,#+10
   \   00000054   F2FFFFBA           BLT      ??getevents_days_1
    365            return ret;
   \   00000058   0500A0E1           MOV      R0,R5
   \   0000005C   F280BDE8           POP      {R1,R4-R7,PC}    ;; return
    366          };
    367          

   \                                 In segment CODE, align 4, keep-with-next
    368          void saveevents(wchar_t *folder, wchar_t *name)
    369          {
   \                     ??saveevents:
   \   00000000   F0432DE9           PUSH     {R4-R9,LR}
   \   00000004   58D04DE2           SUB      SP,SP,#+88
   \   00000008   40DE4DE2           SUB      SP,SP,#+1024
   \   0000000C   0050A0E1           MOV      R5,R0
   \   00000010   0160A0E1           MOV      R6,R1
    370              int file;
    371              FSTAT fst;
    372              //перевод на новую строку:
    373              char cr=0x0D;
   \   00000014   0D10A0E3           MOV      R1,#+13
   \   00000018   0010CDE5           STRB     R1,[SP, #+0]
    374              char lf=0x0A;
   \   0000001C   0A10A0E3           MOV      R1,#+10
   \   00000020   0110CDE5           STRB     R1,[SP, #+1]
    375              char endline=0xFF;
   \   00000024   FF10A0E3           MOV      R1,#+255
   \   00000028   0210CDE5           STRB     R1,[SP, #+2]
    376              char endstr=0xFE;
   \   0000002C   FE10A0E3           MOV      R1,#+254
   \   00000030   0310CDE5           STRB     R1,[SP, #+3]
    377              char idle2=':';
   \   00000034   3A10A0E3           MOV      R1,#+58
   \   00000038   0410CDE5           STRB     R1,[SP, #+4]
    378              if ((file=_fopen(folder,name,FSX_O_RDWR|FSX_O_TRUNC,FSX_S_IREAD|FSX_S_IWRITE,0))>=0)
   \   0000003C   0000A0E3           MOV      R0,#+0
   \   00000040   01002DE9           PUSH     {R0}
   \   00000044   603FA0E3           MOV      R3,#+384
   \   00000048   812FA0E3           MOV      R2,#+516
   \   0000004C   0610A0E1           MOV      R1,R6
   \   00000050   0500A0E1           MOV      R0,R5
   \   00000054   160100EF           SWI      +278
   \   00000058   0040B0E1           MOVS     R4,R0
   \   0000005C   04D08DE2           ADD      SP,SP,#+4
   \   00000060   7000004A           BMI      ??saveevents_1
    379              {
    380                if (fstat(folder,name,&fst)==0)
   \   00000064   3C208DE2           ADD      R2,SP,#+60
   \   00000068   402E82E2           ADD      R2,R2,#+1024
   \   0000006C   0610A0E1           MOV      R1,R6
   \   00000070   0500A0E1           MOV      R0,R5
   \   00000074   1C0100EF           SWI      +284
   \   00000078   000050E3           CMP      R0,#+0
   \   0000007C   6900001A           BNE      ??saveevents_1
    381                {
    382                  int x=0;
    383                  for (x=0;x<events->FirstFree;x++)
   \   00000080   ........           LDR      R6,??DataTable13  ;; events
   \   00000084   80549FE5           LDR      R5,??saveevents_2+0x4  ;; `?<Constant "%d): %d:%d:%d:%d:%d:">`
   \   00000088   000096E5           LDR      R0,[R6, #+0]
   \   0000008C   0070A0E3           MOV      R7,#+0
   \   00000090   B200D0E1           LDRH     R0,[R0, #+2]
   \   00000094   000050E3           CMP      R0,#+0
   \   00000098   9C00001A           BNE      ??saveevents_3
    384                  {
    385                    //«апишем в файл объекты в юникодной кодировке
    386                    EVENT *ev=(EVENT*)List_Get(events,x);
    387                    char pattern[1024];
    388                    if (ev->isMinusInBefore==true)
    389                    {
    390                      ev->AskBefore=-ev->AskBefore;
    391                    }
    392                    if (ev->isMinusInAfter==true)
    393                    {
    394                      ev->AskAfter=-ev->AskAfter;
    395                    }
    396                    if (ev->isGps)
    397                    {
    398                      ev->dtype=2;
    399                    }
    400                    sprintf(pattern, "%d): %d:%d:%d:%d:%d:", x, ev->rem, ev->AskBefore,ev->AskAfter,ev->type,ev->dtype);
    401                    fwrite(file,pattern,strlen(pattern));
    402                    if (ev->dtype==0)
    403                    {
    404                      char *t=getevents_days(ev);
    405                      fwrite(file,t,strlen(t));
    406                      fwrite(file,&idle2,1);
    407                      delete(t);
    408                    }
    409                    else if (ev->dtype==1)
    410                    {
    411                      sprintf(pattern,"%02d-%02d-%02d.%02d-%02d-%02d:", ev->date.day, ev->date.mon,ev->date.year, ev->date2.day, ev->date2.mon, ev->date2.year);
    412                      fwrite(file,pattern,strlen(pattern));
    413                    }
    414                    else
    415                    {
    416                      char *t=getevents_days(ev);
    417                      sprintf(pattern,"%s.%s:", ev->gps,t);
    418                      delete(t);
    419                      fwrite(file,pattern,strlen(pattern));
    420                    }
    421                    sprintf(pattern,"%d:",ev->ttype);
    422                    fwrite(file,pattern,strlen(pattern));
    423                    if (ev->ttype==0)
    424                    {
    425                      sprintf(pattern,"%02d-%02d-%02d:", ev->time.hour, ev->time.min, ev->time.sec);
    426                      fwrite(file,pattern,strlen(pattern));
    427                    }
    428                    else
    429                    {
    430                      sprintf(pattern,"%02d-%02d-%02d.%02d-%02d-%02d:", ev->time.hour, ev->time.min, ev->time.sec, ev->time2.hour, ev->time2.min, ev->time2.sec);
    431                      fwrite(file,pattern,strlen(pattern));
    432                    }
    433                    if (ev->txt)
    434                    {
    435                      fwrite(file,ev->txt,wstrlen(ev->txt)*2);
    436                    }
    437                    fwrite(file,&endstr,1);
    438                    if (ev->param)
    439                    {
    440                      fwrite(file,ev->param,wstrlen(ev->param)*2);
    441                    }
    442                    fwrite(file,&endline,1);
    443                    fwrite(file,&cr,1);
    444                    fwrite(file,&lf,1);
    445                  }
    446                  fwrite(file,&cr,1);
    447                  fwrite(file,&lf,1);
    448                  char str[50];
    449                  sprintf(str,"ind_item): %d",myBook->rem_types);
   \                     ??saveevents_4:
   \   0000009C   6C649FE5           LDR      R6,??saveevents_2+0x8  ;; myBook
   \   000000A0   0120A0E3           MOV      R2,#+1
   \   000000A4   0D10A0E1           MOV      R1,SP
   \   000000A8   0400A0E1           MOV      R0,R4
   \   000000AC   190100EF           SWI      +281
   \   000000B0   0120A0E3           MOV      R2,#+1
   \   000000B4   01108DE2           ADD      R1,SP,#+1
   \   000000B8   0400A0E1           MOV      R0,R4
   \   000000BC   190100EF           SWI      +281
   \   000000C0   000096E5           LDR      R0,[R6, #+0]
   \   000000C4   501085E2           ADD      R1,R5,#+80
   \   000000C8   BC2090E5           LDR      R2,[R0, #+188]
   \   000000CC   08008DE2           ADD      R0,SP,#+8
   \   000000D0   400E80E2           ADD      R0,R0,#+1024
   \   000000D4   140100EF           SWI      +276
    450                  fwrite(file,str,strlen(str));
   \   000000D8   08008DE2           ADD      R0,SP,#+8
   \   000000DC   400E80E2           ADD      R0,R0,#+1024
   \   000000E0   5A0100EF           SWI      +346
   \   000000E4   0020A0E1           MOV      R2,R0
   \   000000E8   08108DE2           ADD      R1,SP,#+8
   \   000000EC   401E81E2           ADD      R1,R1,#+1024
   \   000000F0   0400A0E1           MOV      R0,R4
   \   000000F4   190100EF           SWI      +281
    451                  fwrite(file,&endline,1);
   \   000000F8   0120A0E3           MOV      R2,#+1
   \   000000FC   02108DE2           ADD      R1,SP,#+2
   \   00000100   0400A0E1           MOV      R0,R4
   \   00000104   190100EF           SWI      +281
    452                  fwrite(file,&cr,1);
   \   00000108   0120A0E3           MOV      R2,#+1
   \   0000010C   0D10A0E1           MOV      R1,SP
   \   00000110   0400A0E1           MOV      R0,R4
   \   00000114   190100EF           SWI      +281
    453                  fwrite(file,&lf,1);
   \   00000118   0120A0E3           MOV      R2,#+1
   \   0000011C   01108DE2           ADD      R1,SP,#+1
   \   00000120   0400A0E1           MOV      R0,R4
   \   00000124   190100EF           SWI      +281
   \   00000128   000096E5           LDR      R0,[R6, #+0]
   \   0000012C   C00090E5           LDR      R0,[R0, #+192]
   \   00000130   000050E3           CMP      R0,#+0
    454                  if (myBook->indpath)
    455                  {
    456                    if (myBook->indpath[0])
   \   00000134   B000D011           LDRHNE   R0,[R0, #+0]
   \   00000138   00005013           CMPNE    R0,#+0
   \   0000013C   1900000A           BEQ      ??saveevents_5
    457                    {
    458                      fwrite(file,"ind_path): ",strlen("ind_path): "));
   \   00000140   600085E2           ADD      R0,R5,#+96
   \   00000144   5A0100EF           SWI      +346
   \   00000148   0020A0E1           MOV      R2,R0
   \   0000014C   601085E2           ADD      R1,R5,#+96
   \   00000150   0400A0E1           MOV      R0,R4
   \   00000154   190100EF           SWI      +281
    459                      fwrite(file,myBook->indpath,wstrlen(myBook->indpath)*2);
   \   00000158   000096E5           LDR      R0,[R6, #+0]
   \   0000015C   C00090E5           LDR      R0,[R0, #+192]
   \   00000160   570100EF           SWI      +343
   \   00000164   8020A0E1           LSL      R2,R0,#+1
   \   00000168   000096E5           LDR      R0,[R6, #+0]
   \   0000016C   C01090E5           LDR      R1,[R0, #+192]
   \   00000170   0400A0E1           MOV      R0,R4
   \   00000174   190100EF           SWI      +281
    460                      fwrite(file,&endline,1);
   \   00000178   0120A0E3           MOV      R2,#+1
   \   0000017C   02108DE2           ADD      R1,SP,#+2
   \   00000180   0400A0E1           MOV      R0,R4
   \   00000184   190100EF           SWI      +281
    461                      fwrite(file,&cr,1);
   \   00000188   0120A0E3           MOV      R2,#+1
   \   0000018C   0D10A0E1           MOV      R1,SP
   \   00000190   0400A0E1           MOV      R0,R4
   \   00000194   190100EF           SWI      +281
    462                      fwrite(file,&lf,1);
   \   00000198   0120A0E3           MOV      R2,#+1
   \   0000019C   01108DE2           ADD      R1,SP,#+1
   \   000001A0   0400A0E1           MOV      R0,R4
   \   000001A4   190100EF           SWI      +281
   \                     ??saveevents_5:
   \   000001A8   000096E5           LDR      R0,[R6, #+0]
   \   000001AC   C40090E5           LDR      R0,[R0, #+196]
   \   000001B0   000050E3           CMP      R0,#+0
    463                    }
    464                  }
    465                  if (myBook->indname)
    466                  {
    467                    if (myBook->indname[0])
   \   000001B4   B000D011           LDRHNE   R0,[R0, #+0]
   \   000001B8   00005013           CMPNE    R0,#+0
   \   000001BC   1900000A           BEQ      ??saveevents_1
    468                    {
    469                      fwrite(file,"ind_name): ",strlen("ind_name): "));
   \   000001C0   6C0085E2           ADD      R0,R5,#+108
   \   000001C4   5A0100EF           SWI      +346
   \   000001C8   0020A0E1           MOV      R2,R0
   \   000001CC   6C1085E2           ADD      R1,R5,#+108
   \   000001D0   0400A0E1           MOV      R0,R4
   \   000001D4   190100EF           SWI      +281
    470                      fwrite(file,myBook->indname,wstrlen(myBook->indname)*2);
   \   000001D8   000096E5           LDR      R0,[R6, #+0]
   \   000001DC   C40090E5           LDR      R0,[R0, #+196]
   \   000001E0   570100EF           SWI      +343
   \   000001E4   8020A0E1           LSL      R2,R0,#+1
   \   000001E8   000096E5           LDR      R0,[R6, #+0]
   \   000001EC   C41090E5           LDR      R1,[R0, #+196]
   \   000001F0   0400A0E1           MOV      R0,R4
   \   000001F4   190100EF           SWI      +281
    471                      fwrite(file,&endline,1);
   \   000001F8   0120A0E3           MOV      R2,#+1
   \   000001FC   02108DE2           ADD      R1,SP,#+2
   \   00000200   0400A0E1           MOV      R0,R4
   \   00000204   190100EF           SWI      +281
    472                      fwrite(file,&cr,1);
   \   00000208   0120A0E3           MOV      R2,#+1
   \   0000020C   0D10A0E1           MOV      R1,SP
   \   00000210   0400A0E1           MOV      R0,R4
   \   00000214   190100EF           SWI      +281
    473                      fwrite(file,&lf,1);
   \   00000218   0120A0E3           MOV      R2,#+1
   \   0000021C   01108DE2           ADD      R1,SP,#+1
   \   00000220   0400A0E1           MOV      R0,R4
   \   00000224   190100EF           SWI      +281
    474                    }
    475                  }
    476                }
    477              }
    478              fclose(file);
   \                     ??saveevents_1:
   \   00000228   0400A0E1           MOV      R0,R4
   \   0000022C   170100EF           SWI      +279
    479          };
   \   00000230   58D08DE2           ADD      SP,SP,#+88
   \   00000234   40DE8DE2           ADD      SP,SP,#+1024
   \   00000238   F083BDE8           POP      {R4-R9,PC}       ;; return
   \                     ??saveevents_6:
   \   0000023C   3200D8E5           LDRB     R0,[R8, #+50]
   \   00000240   181085E2           ADD      R1,R5,#+24
   \   00000244   01002DE9           PUSH     {R0}
   \   00000248   3100D8E5           LDRB     R0,[R8, #+49]
   \   0000024C   01002DE9           PUSH     {R0}
   \   00000250   3000D8E5           LDRB     R0,[R8, #+48]
   \   00000254   01002DE9           PUSH     {R0}
   \   00000258   2E00D8E5           LDRB     R0,[R8, #+46]
   \   0000025C   01002DE9           PUSH     {R0}
   \   00000260   2C20D8E5           LDRB     R2,[R8, #+44]
   \   00000264   2D30D8E5           LDRB     R3,[R8, #+45]
   \   00000268   18008DE2           ADD      R0,SP,#+24
   \   0000026C   140100EF           SWI      +276
   \   00000270   18008DE2           ADD      R0,SP,#+24
   \   00000274   5A0100EF           SWI      +346
   \   00000278   0020A0E1           MOV      R2,R0
   \   0000027C   18108DE2           ADD      R1,SP,#+24
   \   00000280   0400A0E1           MOV      R0,R4
   \   00000284   190100EF           SWI      +281
   \   00000288   10D08DE2           ADD      SP,SP,#+16
   \                     ??saveevents_7:
   \   0000028C   380098E5           LDR      R0,[R8, #+56]
   \   00000290   000050E3           CMP      R0,#+0
   \   00000294   0400000A           BEQ      ??saveevents_8
   \   00000298   570100EF           SWI      +343
   \   0000029C   381098E5           LDR      R1,[R8, #+56]
   \   000002A0   8020A0E1           LSL      R2,R0,#+1
   \   000002A4   0400A0E1           MOV      R0,R4
   \   000002A8   190100EF           SWI      +281
   \                     ??saveevents_8:
   \   000002AC   0120A0E3           MOV      R2,#+1
   \   000002B0   03108DE2           ADD      R1,SP,#+3
   \   000002B4   0400A0E1           MOV      R0,R4
   \   000002B8   190100EF           SWI      +281
   \   000002BC   340098E5           LDR      R0,[R8, #+52]
   \   000002C0   000050E3           CMP      R0,#+0
   \   000002C4   0400000A           BEQ      ??saveevents_9
   \   000002C8   570100EF           SWI      +343
   \   000002CC   341098E5           LDR      R1,[R8, #+52]
   \   000002D0   8020A0E1           LSL      R2,R0,#+1
   \   000002D4   0400A0E1           MOV      R0,R4
   \   000002D8   190100EF           SWI      +281
   \                     ??saveevents_9:
   \   000002DC   0120A0E3           MOV      R2,#+1
   \   000002E0   02108DE2           ADD      R1,SP,#+2
   \   000002E4   0400A0E1           MOV      R0,R4
   \   000002E8   190100EF           SWI      +281
   \   000002EC   0120A0E3           MOV      R2,#+1
   \   000002F0   0D10A0E1           MOV      R1,SP
   \   000002F4   0400A0E1           MOV      R0,R4
   \   000002F8   190100EF           SWI      +281
   \   000002FC   0120A0E3           MOV      R2,#+1
   \   00000300   01108DE2           ADD      R1,SP,#+1
   \   00000304   0400A0E1           MOV      R0,R4
   \   00000308   190100EF           SWI      +281
   \   0000030C   017087E2           ADD      R7,R7,#+1
   \                     ??saveevents_3:
   \   00000310   000096E5           LDR      R0,[R6, #+0]
   \   00000314   B210D0E1           LDRH     R1,[R0, #+2]
   \   00000318   010057E1           CMP      R7,R1
   \   0000031C   5EFFFFAA           BGE      ??saveevents_4
   \   00000320   0710A0E1           MOV      R1,R7
   \   00000324   AD0100EF           SWI      +429
   \   00000328   0080A0E1           MOV      R8,R0
   \   0000032C   0800D8E5           LDRB     R0,[R8, #+8]
   \   00000330   0720A0E1           MOV      R2,R7
   \   00000334   0510A0E1           MOV      R1,R5
   \   00000338   000050E3           CMP      R0,#+0
   \   0000033C   04009815           LDRNE    R0,[R8, #+4]
   \   00000340   00006012           RSBNE    R0,R0,#+0
   \   00000344   04008815           STRNE    R0,[R8, #+4]
   \   00000348   1100D8E5           LDRB     R0,[R8, #+17]
   \   0000034C   000050E3           CMP      R0,#+0
   \   00000350   0C009815           LDRNE    R0,[R8, #+12]
   \   00000354   00006012           RSBNE    R0,R0,#+0
   \   00000358   0C008815           STRNE    R0,[R8, #+12]
   \   0000035C   1000D8E5           LDRB     R0,[R8, #+16]
   \   00000360   000050E3           CMP      R0,#+0
   \   00000364   0200A013           MOVNE    R0,#+2
   \   00000368   14008815           STRNE    R0,[R8, #+20]
   \   0000036C   140098E5           LDR      R0,[R8, #+20]
   \   00000370   01002DE9           PUSH     {R0}
   \   00000374   000098E5           LDR      R0,[R8, #+0]
   \   00000378   01002DE9           PUSH     {R0}
   \   0000037C   0C0098E5           LDR      R0,[R8, #+12]
   \   00000380   01002DE9           PUSH     {R0}
   \   00000384   040098E5           LDR      R0,[R8, #+4]
   \   00000388   01002DE9           PUSH     {R0}
   \   0000038C   403098E5           LDR      R3,[R8, #+64]
   \   00000390   18008DE2           ADD      R0,SP,#+24
   \   00000394   140100EF           SWI      +276
   \   00000398   18008DE2           ADD      R0,SP,#+24
   \   0000039C   5A0100EF           SWI      +346
   \   000003A0   0020A0E1           MOV      R2,R0
   \   000003A4   18108DE2           ADD      R1,SP,#+24
   \   000003A8   0400A0E1           MOV      R0,R4
   \   000003AC   190100EF           SWI      +281
   \   000003B0   140098E5           LDR      R0,[R8, #+20]
   \   000003B4   10D08DE2           ADD      SP,SP,#+16
   \   000003B8   000050E3           CMP      R0,#+0
   \   000003BC   0E00001A           BNE      ??saveevents_10
   \   000003C0   0800A0E1           MOV      R0,R8
   \   000003C4   ........           BL       ??getevents_days
   \   000003C8   0090A0E1           MOV      R9,R0
   \   000003CC   5A0100EF           SWI      +346
   \   000003D0   0020A0E1           MOV      R2,R0
   \   000003D4   0910A0E1           MOV      R1,R9
   \   000003D8   0400A0E1           MOV      R0,R4
   \   000003DC   190100EF           SWI      +281
   \   000003E0   0120A0E3           MOV      R2,#+1
   \   000003E4   04108DE2           ADD      R1,SP,#+4
   \   000003E8   0400A0E1           MOV      R0,R4
   \   000003EC   190100EF           SWI      +281
   \   000003F0   0900A0E1           MOV      R0,R9
   \   000003F4   ........           _BLF     `??operator delete`,`??operator delete??rA`
   \   000003F8   260000EA           B        ??saveevents_11
   \                     ??saveevents_10:
   \   000003FC   010050E3           CMP      R0,#+1
   \   00000400   1400001A           BNE      ??saveevents_12
   \   00000404   BC01D8E1           LDRH     R0,[R8, #+28]
   \   00000408   181085E2           ADD      R1,R5,#+24
   \   0000040C   01002DE9           PUSH     {R0}
   \   00000410   1E00D8E5           LDRB     R0,[R8, #+30]
   \   00000414   01002DE9           PUSH     {R0}
   \   00000418   1F00D8E5           LDRB     R0,[R8, #+31]
   \   0000041C   01002DE9           PUSH     {R0}
   \   00000420   B801D8E1           LDRH     R0,[R8, #+24]
   \   00000424   01002DE9           PUSH     {R0}
   \   00000428   1B20D8E5           LDRB     R2,[R8, #+27]
   \   0000042C   1A30D8E5           LDRB     R3,[R8, #+26]
   \   00000430   18008DE2           ADD      R0,SP,#+24
   \   00000434   140100EF           SWI      +276
   \   00000438   18008DE2           ADD      R0,SP,#+24
   \   0000043C   5A0100EF           SWI      +346
   \   00000440   0020A0E1           MOV      R2,R0
   \   00000444   18108DE2           ADD      R1,SP,#+24
   \   00000448   0400A0E1           MOV      R0,R4
   \   0000044C   190100EF           SWI      +281
   \   00000450   10D08DE2           ADD      SP,SP,#+16
   \   00000454   0F0000EA           B        ??saveevents_11
   \                     ??saveevents_12:
   \   00000458   0800A0E1           MOV      R0,R8
   \   0000045C   ........           BL       ??getevents_days
   \   00000460   3C2098E5           LDR      R2,[R8, #+60]
   \   00000464   0090A0E1           MOV      R9,R0
   \   00000468   0930A0E1           MOV      R3,R9
   \   0000046C   381085E2           ADD      R1,R5,#+56
   \   00000470   08008DE2           ADD      R0,SP,#+8
   \   00000474   140100EF           SWI      +276
   \   00000478   0900A0E1           MOV      R0,R9
   \   0000047C   ........           _BLF     `??operator delete`,`??operator delete??rA`
   \   00000480   08008DE2           ADD      R0,SP,#+8
   \   00000484   5A0100EF           SWI      +346
   \   00000488   0020A0E1           MOV      R2,R0
   \   0000048C   08108DE2           ADD      R1,SP,#+8
   \   00000490   0400A0E1           MOV      R0,R4
   \   00000494   190100EF           SWI      +281
   \                     ??saveevents_11:
   \   00000498   282098E5           LDR      R2,[R8, #+40]
   \   0000049C   191F8FE2           ADR      R1,??saveevents_2  ;; "%d:"
   \   000004A0   08008DE2           ADD      R0,SP,#+8
   \   000004A4   140100EF           SWI      +276
   \   000004A8   08008DE2           ADD      R0,SP,#+8
   \   000004AC   5A0100EF           SWI      +346
   \   000004B0   0020A0E1           MOV      R2,R0
   \   000004B4   08108DE2           ADD      R1,SP,#+8
   \   000004B8   0400A0E1           MOV      R0,R4
   \   000004BC   190100EF           SWI      +281
   \   000004C0   280098E5           LDR      R0,[R8, #+40]
   \   000004C4   000050E3           CMP      R0,#+0
   \   000004C8   5BFFFF1A           BNE      ??saveevents_6
   \   000004CC   2E00D8E5           LDRB     R0,[R8, #+46]
   \   000004D0   401085E2           ADD      R1,R5,#+64
   \   000004D4   01002DE9           PUSH     {R0}
   \   000004D8   2C20D8E5           LDRB     R2,[R8, #+44]
   \   000004DC   2D30D8E5           LDRB     R3,[R8, #+45]
   \   000004E0   0C008DE2           ADD      R0,SP,#+12
   \   000004E4   140100EF           SWI      +276
   \   000004E8   0C008DE2           ADD      R0,SP,#+12
   \   000004EC   5A0100EF           SWI      +346
   \   000004F0   0020A0E1           MOV      R2,R0
   \   000004F4   0C108DE2           ADD      R1,SP,#+12
   \   000004F8   0400A0E1           MOV      R0,R4
   \   000004FC   190100EF           SWI      +281
   \   00000500   04D08DE2           ADD      SP,SP,#+4
   \   00000504   60FFFFEA           B        ??saveevents_7
   \                     ??saveevents_2:
   \   00000508   25643A00           DC8      "%d:"
   \   0000050C   ........           DC32     `?<Constant "%d): %d:%d:%d:%d:%d:">`
   \   00000510   ........           DC32     myBook

   \                                 In segment DATA_Z, align 4, align-sorted
   \                     events:
   \   00000000                      DS8 4
   \                     extFolder:
   \   00000004                      DS8 4
   \                     intFolder:
   \   00000008                      DS8 4
    480          
    481          GUI_LIST *g=0;
   \                     g:
   \   0000000C                      DS8 4
    482          int isEvtControl(BOOK *bk);
    483          typedef void (*UPDATE_METHOD)(wchar_t *path, wchar_t *name);
    484          
    485          typedef struct
    486          {
    487            BOOK bk;
    488            UPDATE_METHOD update;
    489          }EVTBOOK;
    490          

   \                                 In segment CODE, align 4, keep-with-next
    491          void Saver_OnSelect(BOOK*bk, GUI* )
    492          {
   \                     ??Saver_OnSelect:
   \   00000000   F0402DE9           PUSH     {R4-R7,LR}
    493            MyBOOK *mbk=(MyBOOK*)bk;
    494            int item=ListMenu_GetSelectedItem(g);
    495            if (item==0)
   \   00000004   ........           LDR      R5,??DataTable13  ;; events
   \   00000008   ........           LDR      R6,??DataTable8  ;; `?<Constant L"\\x45\\x76\\x65\\x6e\\x74\\x73\\x2e\\x65\\`
   \   0000000C   0040A0E1           MOV      R4,R0
   \   00000010   0C0095E5           LDR      R0,[R5, #+12]
   \   00000014   3E0100EF           SWI      +318
   \   00000018   000050E3           CMP      R0,#+0
    496              saveevents(extFolder, L"Events.evt");
   \   0000001C   04009505           LDREQ    R0,[R5, #+4]
   \   00000020   0610A0E1           MOV      R1,R6
    497            else
    498              saveevents(intFolder, L"Events.evt");
   \   00000024   08009515           LDRNE    R0,[R5, #+8]
   \   00000028   ........           BL       ??saveevents
    499            EVTBOOK *ek=(EVTBOOK*)FindBook(isEvtControl);
   \   0000002C   B4009FE5           LDR      R0,??Saver_OnSelect_1  ;; ??isEvtControl
   \   00000030   300100EF           SWI      +304
   \   00000034   0020B0E1           MOVS     R2,R0
    500            if (ek)
   \   00000038   0500000A           BEQ      ??Saver_OnSelect_2
    501            {
    502              ek->update(defPath,defName);
   \   0000003C   ........           LDR      R0,??DataTable15  ;; defName
   \   00000040   182092E5           LDR      R2,[R2, #+24]
   \   00000044   001090E5           LDR      R1,[R0, #+0]
   \   00000048   ........           LDR      R0,??DataTable14  ;; defPath
   \   0000004C   000090E5           LDR      R0,[R0, #+0]
   \   00000050   32FF2FE1           BLX      R2
    503            }
    504            FREE_GUI(mbk->lst);
   \                     ??Saver_OnSelect_2:
   \   00000054   200094E5           LDR      R0,[R4, #+32]
   \   00000058   000050E3           CMP      R0,#+0
   \   0000005C   0100000A           BEQ      ??Saver_OnSelect_3
   \   00000060   CE0100EF           SWI      +462
   \   00000064   200084E5           STR      R0,[R4, #+32]
    505            if (events)
   \                     ??Saver_OnSelect_3:
   \   00000068   000095E5           LDR      R0,[R5, #+0]
   \   0000006C   000050E3           CMP      R0,#+0
   \   00000070   1900000A           BEQ      ??Saver_OnSelect_4
   \   00000074   0070A0E3           MOV      R7,#+0
   \   00000078   110000EA           B        ??Saver_OnSelect_5
    506            {
    507              while (events->FirstFree)
    508              {
    509                EVENT* event=(EVENT*)List_RemoveAt(events,0);
   \                     ??Saver_OnSelect_6:
   \   0000007C   0010A0E3           MOV      R1,#+0
   \   00000080   790100EF           SWI      +377
   \   00000084   0060B0E1           MOVS     R6,R0
    510                if (event)
   \   00000088   0D00000A           BEQ      ??Saver_OnSelect_5
    511                {
    512                  DELETE(event->txt);
   \   0000008C   380096E5           LDR      R0,[R6, #+56]
   \   00000090   000050E3           CMP      R0,#+0
   \   00000094   0100000A           BEQ      ??Saver_OnSelect_7
   \   00000098   ........           _BLF     `??operator delete`,`??operator delete??rA`
   \   0000009C   387086E5           STR      R7,[R6, #+56]
    513                  DELETE(event->param);
   \                     ??Saver_OnSelect_7:
   \   000000A0   340096E5           LDR      R0,[R6, #+52]
   \   000000A4   000050E3           CMP      R0,#+0
   \   000000A8   0100000A           BEQ      ??Saver_OnSelect_8
   \   000000AC   ........           _BLF     `??operator delete`,`??operator delete??rA`
   \   000000B0   347086E5           STR      R7,[R6, #+52]
    514                  DELETE(event);
   \                     ??Saver_OnSelect_8:
   \   000000B4   0600A0E1           MOV      R0,R6
   \   000000B8   ........           _BLF     `??operator delete`,`??operator delete??rA`
    515                  delete(event);
   \   000000BC   0000A0E3           MOV      R0,#+0
   \   000000C0   ........           _BLF     `??operator delete`,`??operator delete??rA`
    516                }
    517              }
   \                     ??Saver_OnSelect_5:
   \   000000C4   000095E5           LDR      R0,[R5, #+0]
   \   000000C8   B210D0E1           LDRH     R1,[R0, #+2]
   \   000000CC   000051E3           CMP      R1,#+0
   \   000000D0   E9FFFF1A           BNE      ??Saver_OnSelect_6
    518              List_Destroy(events);
   \   000000D4   6A0100EF           SWI      +362
    519              events=0;
   \   000000D8   007085E5           STR      R7,[R5, #+0]
    520            }
    521            FreeBook(bk);
   \                     ??Saver_OnSelect_4:
   \   000000DC   0400A0E1           MOV      R0,R4
   \   000000E0   2F0100EF           SWI      +303
    522          };
   \   000000E4   F080BDE8           POP      {R4-R7,PC}       ;; return
   \                     ??Saver_OnSelect_1:
   \   000000E8   ........           DC32     ??isEvtControl

   \                                 In segment CODE, align 4, keep-with-next
    523          void Saver_OnBack(BOOK *bk, GUI* )
    524          {
    525            GUIObject_Destroy(g);
   \                     ??Saver_OnBack:
   \   00000000   0C009FE5           LDR      R0,??Saver_OnBack_1  ;; events + 12
   \   00000004   00402DE9           PUSH     {LR}
   \   00000008   000090E5           LDR      R0,[R0, #+0]
   \   0000000C   CE0100EF           SWI      +462
    526          };
   \   00000010   0080BDE8           POP      {PC}             ;; return
   \                     ??Saver_OnBack_1:
   \   00000014   ........           DC32     events + 12
    527          //wchar_t *str[]={L"Ќа карту",L"Ќа телефон"};

   \                                 In segment CODE, align 4, keep-with-next
    528          int Saver_onLBMessage(GUI_MESSAGE * msg)
    529          {
   \                     ??Saver_onLBMessage:
   \   00000000   30402DE9           PUSH     {R4,R5,LR}
   \   00000004   0040A0E1           MOV      R4,R0
    530            switch( GUIonMessage_GetMsg(msg) )
   \   00000008   740300EF           SWI      +884
   \   0000000C   010050E3           CMP      R0,#+1
   \   00000010   1000001A           BNE      ??Saver_onLBMessage_1
    531            {
    532            case 1:
    533              int item=GUIonMessage_GetCreatedItemIndex(msg);
   \   00000014   0400A0E1           MOV      R0,R4
   \   00000018   370100EF           SWI      +311
   \   0000001C   0050A0E1           MOV      R5,R0
    534              EVENT* evt=(EVENT *)List_Get(events,item);
   \   00000020   ........           LDR      R0,??DataTable13  ;; events
   \   00000024   0510A0E1           MOV      R1,R5
   \   00000028   000090E5           LDR      R0,[R0, #+0]
   \   0000002C   AD0100EF           SWI      +429
    535              GUIonMessage_SetMenuItemText(msg,TextID_Create(lng[LNG_ONCARD+item],ENC_UCS2,TEXTID_ANY_LEN));
   \   00000030   28009FE5           LDR      R0,??Saver_onLBMessage_2  ;; lng
   \   00000034   FF20A0E3           MOV      R2,#+255
   \   00000038   050180E0           ADD      R0,R0,R5, LSL #+2
   \   0000003C   200190E5           LDR      R0,[R0, #+288]
   \   00000040   FF2C82E3           ORR      R2,R2,#0xFF00
   \   00000044   0010A0E3           MOV      R1,#+0
   \   00000048   5D0100EF           SWI      +349
   \   0000004C   0010A0E1           MOV      R1,R0
   \   00000050   0400A0E1           MOV      R0,R4
   \   00000054   380100EF           SWI      +312
    536              break;
    537            }
    538            return(1);
   \                     ??Saver_onLBMessage_1:
   \   00000058   0100A0E3           MOV      R0,#+1
   \   0000005C   3080BDE8           POP      {R4,R5,PC}       ;; return
   \                     ??Saver_onLBMessage_2:
   \   00000060   ........           DC32     lng
    539          };
    540          

   \                                 In segment CODE, align 4, keep-with-next
    541          GUI_LIST * CreateSaverList(BOOK * book)
    542          {
   \                     ??CreateSaverList:
   \   00000000   10402DE9           PUSH     {R4,LR}
    543            GUI_LIST * lo=0;
    544            if (lo=CreateListMenu(book,0))
   \   00000004   0010A0E3           MOV      R1,#+0
   \   00000008   C00100EF           SWI      +448
   \   0000000C   0040B0E1           MOVS     R4,R0
   \   00000010   2400000A           BEQ      ??CreateSaverList_1
    545            {
    546              ListMenu_SetItemCount(lo,2);
   \   00000014   0210A0E3           MOV      R1,#+2
   \   00000018   C10100EF           SWI      +449
    547              ListMenu_SetCursorToItem(lo,0);
   \   0000001C   0010A0E3           MOV      R1,#+0
   \   00000020   0400A0E1           MOV      R0,R4
   \   00000024   350100EF           SWI      +309
    548              ListMenu_SetOnMessage(lo,Saver_onLBMessage);
   \   00000028   80109FE5           LDR      R1,??CreateSaverList_2  ;; ??Saver_onLBMessage
   \   0000002C   0400A0E1           MOV      R0,R4
   \   00000030   740100EF           SWI      +372
    549              ListMenu_SetItemStyle(lo,0);
   \   00000034   0010A0E3           MOV      R1,#+0
   \   00000038   0400A0E1           MOV      R0,R4
   \   0000003C   3F0100EF           SWI      +319
    550              GUIObject_SetStyle(lo,9);
   \   00000040   0910A0E3           MOV      R1,#+9
   \   00000044   0400A0E1           MOV      R0,R4
   \   00000048   360100EF           SWI      +310
    551              GUIObject_SetTitleText(lo,TextID_Create(lng[LNG_SAVE],ENC_UCS2,TEXTID_ANY_LEN));
   \   0000004C   60009FE5           LDR      R0,??CreateSaverList_2+0x4  ;; lng + 284
   \   00000050   FF20A0E3           MOV      R2,#+255
   \   00000054   000090E5           LDR      R0,[R0, #+0]
   \   00000058   FF2C82E3           ORR      R2,R2,#0xFF00
   \   0000005C   0010A0E3           MOV      R1,#+0
   \   00000060   5D0100EF           SWI      +349
   \   00000064   0010A0E1           MOV      R1,R0
   \   00000068   0400A0E1           MOV      R0,R4
   \   0000006C   330100EF           SWI      +307
    552              GUIObject_SoftKeys_SetAction(lo,ACTION_BACK, Saver_OnBack);
   \   00000070   40009FE5           LDR      R0,??CreateSaverList_2+0x8  ;; ACTION_BACK
   \   00000074   40209FE5           LDR      R2,??CreateSaverList_2+0xC  ;; ??Saver_OnBack
   \   00000078   001090E5           LDR      R1,[R0, #+0]
   \   0000007C   0400A0E1           MOV      R0,R4
   \   00000080   0118A0E1           MOV      R1,R1, LSL #+16
   \   00000084   2118A0E1           MOV      R1,R1, LSR #+16
   \   00000088   4B0100EF           SWI      +331
    553              GUIObject_SoftKeys_SetAction(lo,ACTION_SELECT1,Saver_OnSelect);
   \   0000008C   2C009FE5           LDR      R0,??CreateSaverList_2+0x10  ;; ACTION_SELECT1
   \   00000090   2C209FE5           LDR      R2,??CreateSaverList_2+0x14  ;; ??Saver_OnSelect
   \   00000094   001090E5           LDR      R1,[R0, #+0]
   \   00000098   0400A0E1           MOV      R0,R4
   \   0000009C   0118A0E1           MOV      R1,R1, LSL #+16
   \   000000A0   2118A0E1           MOV      R1,R1, LSR #+16
   \   000000A4   4B0100EF           SWI      +331
    554            }
    555            return(lo);
   \                     ??CreateSaverList_1:
   \   000000A8   0400A0E1           MOV      R0,R4
   \   000000AC   1080BDE8           POP      {R4,PC}          ;; return
   \                     ??CreateSaverList_2:
   \   000000B0   ........           DC32     ??Saver_onLBMessage
   \   000000B4   ........           DC32     lng + 284
   \   000000B8   ........           DC32     ACTION_BACK
   \   000000BC   ........           DC32     ??Saver_OnBack
   \   000000C0   ........           DC32     ACTION_SELECT1
   \   000000C4   ........           DC32     ??Saver_OnSelect
    556          };
    557          

   \                                 In segment CODE, align 4, keep-with-next
    558          GUI_LIST *create_saver(BOOK *book)
    559          {
   \                     ??create_saver:
   \   00000000   10402DE9           PUSH     {R4,LR}
    560            g=(GUI_LIST*)CreateSaverList(book);
   \   00000004   ........           LDR      R4,??DataTable12  ;; events
   \   00000008   ........           BL       ??CreateSaverList
   \   0000000C   0C0084E5           STR      R0,[R4, #+12]
    561            GUIObject_Show(g);
   \   00000010   340100EF           SWI      +308
    562            return(g);
   \   00000014   0C0094E5           LDR      R0,[R4, #+12]
   \   00000018   1080BDE8           POP      {R4,PC}          ;; return
    563          };
    564          
    565          

   \                                 In segment CODE, align 4, keep-with-next
    566          int DestroyEvents(MyBOOK *mbk, bool save)
    567          {  
   \                     ??DestroyEvents:
   \   00000000   70402DE9           PUSH     {R4-R6,LR}
    568            if (events)
   \   00000004   ........           LDR      R4,??DataTable13  ;; events
   \   00000008   002094E5           LDR      R2,[R4, #+0]
   \   0000000C   000052E3           CMP      R2,#+0
   \   00000010   2800000A           BEQ      ??DestroyEvents_1
    569            {
    570              if (save)
   \   00000014   000051E3           CMP      R1,#+0
   \   00000018   1F00000A           BEQ      ??DestroyEvents_2
    571              {
    572                if (defPath && defName)
   \   0000001C   ........           LDR      R1,??DataTable14  ;; defPath
   \   00000020   002091E5           LDR      R2,[R1, #+0]
   \   00000024   000052E3           CMP      R2,#+0
   \   00000028   0600000A           BEQ      ??DestroyEvents_3
   \   0000002C   ........           LDR      R1,??DataTable15  ;; defName
   \   00000030   001091E5           LDR      R1,[R1, #+0]
   \   00000034   000051E3           CMP      R1,#+0
   \   00000038   0200000A           BEQ      ??DestroyEvents_3
    573                {
    574                  saveevents(defPath, defName);
   \   0000003C   0200A0E1           MOV      R0,R2
   \   00000040   ........           BL       ??saveevents
   \   00000044   140000EA           B        ??DestroyEvents_2
    575                }
    576                else
    577                {
    578                  create_saver(&mbk->book);
   \                     ??DestroyEvents_3:
   \   00000048   ........           BL       ??create_saver
    579                  return 1;
   \   0000004C   0100A0E3           MOV      R0,#+1
   \   00000050   7080BDE8           POP      {R4-R6,PC}
    580                }
    581              }
    582              while (events->FirstFree)
    583              {
    584                EVENT* event=(EVENT*)List_RemoveAt(events,0);
   \                     ??DestroyEvents_4:
   \   00000054   0010A0E3           MOV      R1,#+0
   \   00000058   790100EF           SWI      +377
   \   0000005C   0050B0E1           MOVS     R5,R0
    585                if (event)
   \   00000060   0D00000A           BEQ      ??DestroyEvents_2
    586                {
    587                  DELETE(event->txt);
   \   00000064   380095E5           LDR      R0,[R5, #+56]
   \   00000068   000050E3           CMP      R0,#+0
   \   0000006C   0100000A           BEQ      ??DestroyEvents_5
   \   00000070   ........           _BLF     `??operator delete`,`??operator delete??rA`
   \   00000074   386085E5           STR      R6,[R5, #+56]
    588                  DELETE(event->param);
   \                     ??DestroyEvents_5:
   \   00000078   340095E5           LDR      R0,[R5, #+52]
   \   0000007C   000050E3           CMP      R0,#+0
   \   00000080   0100000A           BEQ      ??DestroyEvents_6
   \   00000084   ........           _BLF     `??operator delete`,`??operator delete??rA`
   \   00000088   346085E5           STR      R6,[R5, #+52]
    589                  DELETE(event);
   \                     ??DestroyEvents_6:
   \   0000008C   0500A0E1           MOV      R0,R5
   \   00000090   ........           _BLF     `??operator delete`,`??operator delete??rA`
    590                  delete(event);
   \   00000094   0000A0E3           MOV      R0,#+0
   \   00000098   ........           _BLF     `??operator delete`,`??operator delete??rA`
    591                }
    592              }
   \                     ??DestroyEvents_2:
   \   0000009C   000094E5           LDR      R0,[R4, #+0]
   \   000000A0   0060A0E3           MOV      R6,#+0
   \   000000A4   B210D0E1           LDRH     R1,[R0, #+2]
   \   000000A8   000051E3           CMP      R1,#+0
   \   000000AC   E8FFFF1A           BNE      ??DestroyEvents_4
    593              List_Destroy(events);
   \   000000B0   6A0100EF           SWI      +362
    594              events=0;
   \   000000B4   006084E5           STR      R6,[R4, #+0]
    595            }
    596            return 0;
   \                     ??DestroyEvents_1:
   \   000000B8   0000A0E3           MOV      R0,#+0
   \   000000BC   7080BDE8           POP      {R4-R6,PC}       ;; return
    597          };

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable0:
   \   00000000   ........           DC32     events

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable8:
   \   00000000   ........           DC32     `?<Constant L"\\x45\\x76\\x65\\x6e\\x74\\x73\\x2e\\x65\\`

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable12:
   \   00000000   ........           DC32     events

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable13:
   \   00000000   ........           DC32     events

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable14:
   \   00000000   ........           DC32     defPath

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable15:
   \   00000000   ........           DC32     defName

   \                                 In segment DATA_C, align 4, align-sorted
   \                     `?<Constant L"\\x2f\\x45\\x76\\x65\\x6e\\x74\\x43\\x6f\\`:
   \   00000000   2F0045007600       DC8 2FH, 0, 45H, 0, 76H, 0, 65H, 0
   \              6500        
   \   00000008   6E0074004300       DC8 6EH, 0, 74H, 0, 43H, 0, 6FH, 0
   \              6F00        
   \   00000010   6E0074007200       DC8 6EH, 0, 74H, 0, 72H, 0, 6FH, 0
   \              6F00        
   \   00000018   6C002F000000       DC8 6CH, 0, 2FH, 0, 0, 0
   \   0000001E   0000               DC8 0, 0
   \   00000020   25006C007300       DC8 25H, 0, 6CH, 0, 73H, 0, 2FH, 0
   \              2F00        
   \   00000028   450076006500       DC8 45H, 0, 76H, 0, 65H, 0, 6EH, 0
   \              6E00        
   \   00000030   740043006F00       DC8 74H, 0, 43H, 0, 6FH, 0, 6EH, 0
   \              6E00        
   \   00000038   740072006F00       DC8 74H, 0, 72H, 0, 6FH, 0, 6CH, 0
   \              6C00        
   \   00000040   2F000000           DC8 2FH, 0, 0, 0

   \                                 In segment DATA_C, align 4, align-sorted
   \   00000000   25642900           DC8 "%d)"

   \                                 In segment DATA_C, align 4, align-sorted
   \                     `?<Constant "ind_item)">`:
   \   00000000   696E645F6974       DC8 "ind_item)"
   \              656D2900    
   \   0000000A   0000               DC8 0, 0
   \   0000000C   696E645F7061       DC8 "ind_path)"
   \              74682900    
   \   00000016   0000               DC8 0, 0
   \   00000018   696E645F6E61       DC8 "ind_name)"
   \              6D652900    
   \   00000022   0000               DC8 0, 0

   \                                 In segment DATA_C, align 4, align-sorted
   \                     `?<Constant L"\\x45\\x76\\x65\\x6e\\x74\\x73\\x2e\\x65\\`:
   \   00000000   450076006500       DC8 45H, 0, 76H, 0, 65H, 0, 6EH, 0
   \              6E00        
   \   00000008   740073002E00       DC8 74H, 0, 73H, 0, 2EH, 0, 65H, 0
   \              6500        
   \   00000010   760074000000       DC8 76H, 0, 74H, 0, 0, 0
   \   00000016   0000               DC8 0, 0

   \                                 In segment DATA_C, align 4, align-sorted
   \                     `?<Constant "%d): %d:%d:%d:%d:%d:">`:
   \   00000000   2564293A2025       DC8 "%d): %d:%d:%d:%d:%d:"
   \              643A25643A25
   \              643A25643A25
   \              643A00      
   \   00000015   000000             DC8 0, 0, 0
   \   00000018   253032642D25       DC8 "%02d-%02d-%02d.%02d-%02d-%02d:"
   \              3032642D2530
   \              32642E253032
   \              642D25303264
   \              2D253032643A
   \              00          
   \   00000037   00                 DC8 0
   \   00000038   25732E25733A       DC8 "%s.%s:"
   \              00          
   \   0000003F   00                 DC8 0
   \   00000040   253032642D25       DC8 "%02d-%02d-%02d:"
   \              3032642D2530
   \              32643A00    
   \   00000050   696E645F6974       DC8 "ind_item): %d"
   \              656D293A2025
   \              6400        
   \   0000005E   0000               DC8 0, 0
   \   00000060   696E645F7061       DC8 "ind_path): "
   \              7468293A2000
   \   0000006C   696E645F6E61       DC8 "ind_name): "
   \              6D65293A2000

   \                                 In segment DATA_C, align 4, align-sorted
   \   00000000   25643A00           DC8 "%d:"

   Maximum stack usage in bytes:

     Function                       CSTACK
     --------                       ------
     AddEvent2(char *)                 20
     CreateSaverList(BOOK *)            8
     DestroyEvents(MyBOOK *, bool)     16
     InitializeEvents(BOOK *, wchar_t *, wchar_t *)
                                       20
     InitializeFolders()               16
     Saver_OnBack(BOOK *, GUI *)        4
     Saver_OnSelect(BOOK *, GUI *)     20
     Saver_onLBMessage(GUI_MESSAGE *)
                                       12
     SetDate(char *, EVENT *, int)     24
     SetTime(char *, EVENT *, int)      4
     cmp(char *, char *)                4
     create_saver(BOOK *)               8
     getevents_days(EVENT *)           24
     getparam(char *, char *, char, int)
                                       20
     memmem(unsigned char const *, size_t, void const *, size_t)
                                       20
     readConfig(BOOK *, wchar_t *, wchar_t *)
                                      200
     saveevents(wchar_t *, wchar_t *)
                                     1156


   Segment part sizes:

     Function/Label                 Bytes
     --------------                 -----
     InitializeFolders()             188
     cmp(char *, char *)              28
     SetDate(char *, EVENT *, int)   516
     SetTime(char *, EVENT *, int)   484
     AddEvent2(char *)               340
     memmem(unsigned char const *, size_t, void const *, size_t)
                                     116
     getparam(char *, char *, char, int)
                                     168
     readConfig(BOOK *, wchar_t *, wchar_t *)
                                     548
     InitializeEvents(BOOK *, wchar_t *, wchar_t *)
                                     124
     getevents_days(EVENT *)          96
     saveevents(wchar_t *, wchar_t *)
                                    1300
     events                           16
     Saver_OnSelect(BOOK *, GUI *)   236
     Saver_OnBack(BOOK *, GUI *)      24
     Saver_onLBMessage(GUI_MESSAGE *)
                                     100
     CreateSaverList(BOOK *)         200
     create_saver(BOOK *)             28
     DestroyEvents(MyBOOK *, bool)   192
     ??DataTable0                      4
     ??DataTable8                      4
     ??DataTable12                     4
     ??DataTable13                     4
     ??DataTable14                     4
     ??DataTable15                     4
     ?<Constant L"\x2f\x45\x76\x65\x6e\x74\x43\x6f\
                                      68
     ?<Constant "%d)">                 4
     ?<Constant "ind_item)">          36
     ?<Constant L"\x45\x76\x65\x6e\x74\x73\x2e\x65\
                                      24
     ?<Constant "%d): %d:%d:%d:%d:%d:">
                                     120
     ?<Constant "%d:">                 4
      Others                         152

 
 4 852 bytes in segment CODE
   256 bytes in segment DATA_C
    16 bytes in segment DATA_Z
    12 bytes in segment INITTAB
 
 4 712 bytes of CODE  memory (+ 152 bytes shared)
   256 bytes of CONST memory
    16 bytes of DATA  memory

Errors: none
Warnings: none
