##############################################################################
#                                                                            #
# IAR ARM ANSI C/C++ Compiler V4.42A/W32 EVALUATION    10/Jun/2013  22:42:56 #
# Copyright 1999-2005 IAR Systems. All rights reserved.                      #
#                                                                            #
#    Cpu mode        =  interwork                                            #
#    Endian          =  little                                               #
#    Stack alignment =  4                                                    #
#    Source file     =  Z:\home\perk11\www\perk11.info\svn\SE\BcfgEdit\visua #
#                       l.cpp                                                #
#    Command line    =  Z:\home\perk11\www\perk11.info\svn\SE\BcfgEdit\visua #
#                       l.cpp -D NDEBUG -lCN Z:\home\perk11\www\perk11.info\ #
#                       svn\SE\BcfgEdit\Release\List\ -la                    #
#                       Z:\home\perk11\www\perk11.info\svn\SE\BcfgEdit\Relea #
#                       se\List\ -o Z:\home\perk11\www\perk11.info\svn\SE\Bc #
#                       fgEdit\Release\Obj\ -s9 --no_unroll                  #
#                       --no_code_motion --cpu_mode arm --endian little      #
#                       --cpu ARM926EJ-S --stack_align 4 --interwork -e      #
#                       --enable_multibytes --fpu None --eec++               #
#                       --dlib_config Z:\home\perk11\IAR2\arm\LIB\dl5tpainl8 #
#                       n.h -I Z:\home\perk11\IAR2\arm\INC\                  #
#                       --inline_threshold=2                                 #
#    List file       =  Z:\home\perk11\www\perk11.info\svn\SE\BcfgEdit\Relea #
#                       se\List\visual.lst                                   #
#    Object file     =  Z:\home\perk11\www\perk11.info\svn\SE\BcfgEdit\Relea #
#                       se\Obj\visual.r79                                    #
#                                                                            #
#                                                                            #
##############################################################################

Z:\home\perk11\www\perk11.info\svn\SE\BcfgEdit\visual.cpp
      1          #include "..\include\Lib_Clara.h"
      2          #include "..\include\Dir.h"
      3          #include "..\include\var_arg.h"
      4          
      5          #include "..\include\cfg_items.h"
      6          #include "main.h"
      7          #include "visual.h"
      8          
      9          void OnOkCoordinatesEdit( BOOK* bk, void* );
     10          void OnBackCoordinatesEdit( BOOK* bk, void* );
     11          void OnOrientationChangeCoordinatesEdit( BOOK* bk, void* );
     12          

   \                                 In segment DATA_C, align 4, align-sorted
     13          static const char EditColorGuiName[] = "Gui_EditColor";
   \                     EditColorGuiName:
   \   00000000   4775695F4564       DC8 "Gui_EditColor"
   \              6974436F6C6F
   \              7200        
   \   0000000E   0000               DC8 0, 0

   \                                 In segment DATA_I, align 4, align-sorted
     14          int colors[4] = { 0xFFFF0000, 0xFF00FF00, 0xFF0000FF, 0x80C6AAAF };
   \                     colors:
   \   00000000                      DS8 16
   \   00000010                      REQUIRE `?<Initializer for colors>`
     15          

   \                                 In segment DATA_Z, align 4, align-sorted
     16          int font_step;
   \                     font_step:
   \   00000000                      DS8 4
     17          
     18          #define MIN( a, b ) ( a < b ) ? a : b
     19          #define MAX( a, b ) ( a  >  b ) ? a : b
     20          

   \                                 In segment CODE, align 4, keep-with-next
     21          int ColorGuiOnCreate( DISP_OBJ_COLOR* db )
     22          {
     23          	db->str_id = EMPTY_TEXTID;
   \                     ??ColorGuiOnCreate:
   \   00000000   9014E0E3           MVN      R1,#-1879048192
   \   00000004   841180E5           STR      R1,[R0, #+388]
     24          	db->need_str = 1;
   \   00000008   0110A0E3           MOV      R1,#+1
   \   0000000C   881180E5           STR      R1,[R0, #+392]
     25          	db->current_column = 0;
   \   00000010   0020A0E3           MOV      R2,#+0
   \   00000014   802180E5           STR      R2,[R0, #+384]
     26          	db->cstep = 1;
   \   00000018   8C1180E5           STR      R1,[R0, #+396]
     27          	return 1;
   \   0000001C   0100A0E3           MOV      R0,#+1
   \   00000020   1EFF2FE1           BX       LR               ;; return
     28          }
     29          

   \                                 In segment CODE, align 4, keep-with-next
     30          void ColorGuiOnClose( DISP_OBJ_COLOR* db )
     31          {
   \                     ??ColorGuiOnClose:
   \   00000000   00402DE9           PUSH     {LR}
     32          	TextID_Destroy( db->str_id );
   \   00000004   840190E5           LDR      R0,[R0, #+388]
   \   00000008   610100EF           SWI      +353
     33          }
   \   0000000C   0080BDE8           POP      {PC}             ;; return
     34          
     35          

   \                                 In segment CODE, align 4, keep-with-next
     36          void ColorGuiOnRedraw( DISP_OBJ_COLOR* db, int, int, int )
     37          {
   \                     ??ColorGuiOnRedraw:
   \   00000000   F04F2DE9           PUSH     {R4-R11,LR}
   \   00000004   0040A0E1           MOV      R4,R0
     38          	RECT rc_old;
     39          	int font_old, gc_xx;
     40          	int font = FONT_E_20R, fsize = 20;
   \   00000008   ........           LDR      R0,??DataTable14  ;; FONT_E_20R
   \   0000000C   5CD04DE2           SUB      SP,SP,#+92
   \   00000010   009090E5           LDR      R9,[R0, #+0]
     41          	GC* gc = get_DisplayGC();
   \   00000014   E50100EF           SWI      +485
   \   00000018   0060A0E1           MOV      R6,R0
     42          	int column_height, column_width;
     43          	int start_column, y_line;
     44          	wchar_t ustr[32];
     45          	int scr_w, scr_h, x1, y1;
     46          	int testcolor;
     47          
     48          	GC_GetRect( gc, &rc_old );
   \   0000001C   0C108DE2           ADD      R1,SP,#+12
   \   00000020   E70100EF           SWI      +487
     49          	gc_xx = GC_GetXX( gc );
   \   00000024   0600A0E1           MOV      R0,R6
   \   00000028   E80100EF           SWI      +488
   \   0000002C   14008DE5           STR      R0,[SP, #+20]
     50          	GC_SetXX( gc, 1 );
   \   00000030   0110A0E3           MOV      R1,#+1
   \   00000034   0600A0E1           MOV      R0,R6
   \   00000038   E90100EF           SWI      +489
     51          	x1 = rc_old.x1;
   \   0000003C   BC70DDE1           LDRH     R7,[SP, #+12]
     52          	y1 = rc_old.y1;
     53          	scr_w = rc_old.x2 - x1;
   \   00000040   BE10DDE1           LDRH     R1,[SP, #+14]
   \   00000044   B081DDE1           LDRH     R8,[SP, #+16]
   \   00000048   071041E0           SUB      R1,R1,R7
   \   0000004C   04108DE5           STR      R1,[SP, #+4]
     54          	scr_h = rc_old.y2 - y1;
   \   00000050   B201DDE1           LDRH     R0,[SP, #+18]
   \   00000054   08B040E0           SUB      R11,R0,R8
     55          
     56          	font_old = SetFont( font );
   \   00000058   0900A0E1           MOV      R0,R9
   \   0000005C   F10100EF           SWI      +497
     57          	column_height = scr_h - fsize - fsize;
     58          	column_width = scr_w / 9;
   \   00000060   00239FE5           LDR      R2,??ColorGuiOnRedraw_1  ;; 0x38e38e39
   \   00000064   18008DE5           STR      R0,[SP, #+24]
   \   00000068   04109DE5           LDR      R1,[SP, #+4]
     59          	DrawRect( x1, y1, x1 + scr_w, y1 + scr_h, clWhite, clWhite );
   \   0000006C   0000E0E3           MVN      R0,#+0
   \   00000070   9231C9E0           SMULL    R3,R9,R2,R1
   \   00000074   08308BE0           ADD      R3,R11,R8
   \   00000078   C990A0E1           ASR      R9,R9,#+1
   \   0000007C   A11F89E0           ADD      R1,R9,R1, LSR #+31
   \   00000080   00108DE5           STR      R1,[SP, #+0]
   \   00000084   01002DE9           PUSH     {R0}
   \   00000088   01002DE9           PUSH     {R0}
   \   0000008C   0C009DE5           LDR      R0,[SP, #+12]
   \   00000090   0810A0E1           MOV      R1,R8
   \   00000094   072080E0           ADD      R2,R0,R7
   \   00000098   0700A0E1           MOV      R0,R7
   \   0000009C   EC0100EF           SWI      +492
     60          	if ( db->need_str )
   \   000000A0   880194E5           LDR      R0,[R4, #+392]
   \   000000A4   28A04BE2           SUB      R10,R11,#+40
   \   000000A8   000050E3           CMP      R0,#+0
   \   000000AC   08D08DE2           ADD      SP,SP,#+8
   \   000000B0   1500000A           BEQ      ??ColorGuiOnRedraw_2
     61          	{
     62          		snwprintf( ustr, MAXELEMS( ustr ) - 1, L"%02X, %02X, %02X, %02X", db->r, db->g, db->b, db->a );
   \   000000B4   780194E5           LDR      R0,[R4, #+376]
   \   000000B8   AC229FE5           LDR      R2,??ColorGuiOnRedraw_1+0x4  ;; `?<Constant L"\\x25\\x30\\x32\\x58\\x2c\\x20\\x25\\x30\\`
   \   000000BC   01002DE9           PUSH     {R0}
   \   000000C0   740194E5           LDR      R0,[R4, #+372]
   \   000000C4   1F10A0E3           MOV      R1,#+31
   \   000000C8   01002DE9           PUSH     {R0}
   \   000000CC   700194E5           LDR      R0,[R4, #+368]
   \   000000D0   01002DE9           PUSH     {R0}
   \   000000D4   6C3194E5           LDR      R3,[R4, #+364]
   \   000000D8   28008DE2           ADD      R0,SP,#+40
   \   000000DC   150100EF           SWI      +277
     63          		TextID_Destroy( db->str_id );
   \   000000E0   840194E5           LDR      R0,[R4, #+388]
   \   000000E4   610100EF           SWI      +353
     64          		db->str_id = TextID_Create( ustr, ENC_UCS2, TEXTID_ANY_LEN );
   \   000000E8   FF20A0E3           MOV      R2,#+255
   \   000000EC   FF2C82E3           ORR      R2,R2,#0xFF00
   \   000000F0   0010A0E3           MOV      R1,#+0
   \   000000F4   28008DE2           ADD      R0,SP,#+40
   \   000000F8   5D0100EF           SWI      +349
   \   000000FC   840184E5           STR      R0,[R4, #+388]
     65          		db->need_str = 0;
   \   00000100   0000A0E3           MOV      R0,#+0
   \   00000104   880184E5           STR      R0,[R4, #+392]
   \   00000108   0CD08DE2           ADD      SP,SP,#+12
     66          	}
     67          	DrawString( db->str_id, 0, x1 + 1, y1 + 1, x1 + scr_w - 30, y1 + 1 + fsize + 1, 0, 0, clBlack, 0x00000000 );
   \                     ??ColorGuiOnRedraw_2:
   \   0000010C   0000A0E3           MOV      R0,#+0
   \   00000110   01002DE9           PUSH     {R0}
   \   00000114   013088E2           ADD      R3,R8,#+1
   \   00000118   012087E2           ADD      R2,R7,#+1
   \   0000011C   0010A0E3           MOV      R1,#+0
   \   00000120   FF04A0E3           MOV      R0,#-16777216
   \   00000124   01002DE9           PUSH     {R0}
     68          	fsize += 3;
     69          
     70          	for ( int i = 0; i != 4; i++ )
   \   00000128   0090A0E3           MOV      R9,#+0
   \   0000012C   0000A0E3           MOV      R0,#+0
   \   00000130   01002DE9           PUSH     {R0}
   \   00000134   01002DE9           PUSH     {R0}
   \   00000138   160088E2           ADD      R0,R8,#+22
   \   0000013C   01002DE9           PUSH     {R0}
   \   00000140   18009DE5           LDR      R0,[SP, #+24]
   \   00000144   070080E0           ADD      R0,R0,R7
   \   00000148   1E0040E2           SUB      R0,R0,#+30
   \   0000014C   01002DE9           PUSH     {R0}
   \   00000150   840194E5           LDR      R0,[R4, #+388]
   \   00000154   ED0100EF           SWI      +493
   \   00000158   18D08DE2           ADD      SP,SP,#+24
     71          	{
     72          		start_column = column_width + 2 * i * column_width;
   \                     ??ColorGuiOnRedraw_3:
   \   0000015C   00109DE5           LDR      R1,[SP, #+0]
     73          		column_height++; // Какая то фигня с DrawRect, координаты не совпадают с DrawLine. Оно и понятно, DrawRect не GC_.
   \   00000160   01A08AE2           ADD      R10,R10,#+1
   \   00000164   0120A0E1           MOV      R2,R1
   \   00000168   920903E0           MUL      R3,R2,R9
   \   0000016C   831081E0           ADD      R1,R1,R3, LSL #+1
   \   00000170   08108DE5           STR      R1,[SP, #+8]
     74          
     75          		if ( db->current_column == i )
   \   00000174   800194E5           LDR      R0,[R4, #+384]
   \   00000178   090050E1           CMP      R0,R9
   \   0000017C   0C00001A           BNE      ??ColorGuiOnRedraw_4
     76          			DrawRect( x1 + start_column - 2, y1 + fsize - 2, x1 + start_column + column_width + 2, y1 + fsize + column_height + 2, clBlack, clWhite );
   \   00000180   070081E0           ADD      R0,R1,R7
   \   00000184   0010E0E3           MVN      R1,#+0
   \   00000188   02002DE9           PUSH     {R1}
   \   0000018C   FF14A0E3           MOV      R1,#-16777216
   \   00000190   02002DE9           PUSH     {R1}
   \   00000194   08108AE0           ADD      R1,R10,R8
   \   00000198   193081E2           ADD      R3,R1,#+25
   \   0000019C   001082E0           ADD      R1,R2,R0
   \   000001A0   022081E2           ADD      R2,R1,#+2
   \   000001A4   151088E2           ADD      R1,R8,#+21
   \   000001A8   020040E2           SUB      R0,R0,#+2
   \   000001AC   EC0100EF           SWI      +492
   \   000001B0   08D08DE2           ADD      SP,SP,#+8
     77          
     78          		DrawRect( x1 + start_column, y1 + fsize, x1 + start_column + column_width, y1 + fsize + column_height, clBlack, colors[i] );
   \                     ??ColorGuiOnRedraw_4:
   \   000001B4   B4119FE5           LDR      R1,??ColorGuiOnRedraw_1+0x8  ;; colors
   \   000001B8   08009DE5           LDR      R0,[SP, #+8]
   \   000001BC   091191E7           LDR      R1,[R1, +R9, LSL #+2]
   \   000001C0   070080E0           ADD      R0,R0,R7
   \   000001C4   02002DE9           PUSH     {R1}
   \   000001C8   FF14A0E3           MOV      R1,#-16777216
   \   000001CC   02002DE9           PUSH     {R1}
   \   000001D0   08108AE0           ADD      R1,R10,R8
   \   000001D4   173081E2           ADD      R3,R1,#+23
   \   000001D8   08109DE5           LDR      R1,[SP, #+8]
     79          		column_height--;
   \   000001DC   01A04AE2           SUB      R10,R10,#+1
   \   000001E0   002081E0           ADD      R2,R1,R0
   \   000001E4   171088E2           ADD      R1,R8,#+23
   \   000001E8   EC0100EF           SWI      +492
     80          
     81          		switch( i )
   \   000001EC   0900B0E1           MOVS     R0,R9
   \   000001F0   08D08DE2           ADD      SP,SP,#+8
   \   000001F4   0600000A           BEQ      ??ColorGuiOnRedraw_5
   \   000001F8   010059E2           SUBS     R0,R9,#+1
   \   000001FC   0E00000A           BEQ      ??ColorGuiOnRedraw_6
   \   00000200   010050E2           SUBS     R0,R0,#+1
   \   00000204   0E00000A           BEQ      ??ColorGuiOnRedraw_7
   \   00000208   010050E2           SUBS     R0,R0,#+1
   \   0000020C   1100000A           BEQ      ??ColorGuiOnRedraw_8
   \   00000210   190000EA           B        ??ColorGuiOnRedraw_9
     82          		{
     83          		case 0:
     84          			y_line = fsize + column_height - ( db->r * column_height ) / 0xFF;
   \                     ??ColorGuiOnRedraw_5:
   \   00000214   6C1194E5           LDR      R1,[R4, #+364]
   \                     ??ColorGuiOnRedraw_10:
   \   00000218   17008AE2           ADD      R0,R10,#+23
   \   0000021C   50219FE5           LDR      R2,??ColorGuiOnRedraw_1+0xC  ;; 0xffffffff80808081
   \   00000220   9A0101E0           MUL      R1,R10,R1
   \                     ??ColorGuiOnRedraw_11:
   \   00000224   9231C5E0           SMULL    R3,R5,R2,R1
   \   00000228   015085E0           ADD      R5,R5,R1
   \   0000022C   C553A0E1           ASR      R5,R5,#+7
   \   00000230   A11F85E0           ADD      R1,R5,R1, LSR #+31
   \   00000234   015040E0           SUB      R5,R0,R1
   \   00000238   0F0000EA           B        ??ColorGuiOnRedraw_9
     85          			break;
     86          		case 1:
     87          			y_line = fsize + column_height - ( db->g * column_height ) / 0xFF;
   \                     ??ColorGuiOnRedraw_6:
   \   0000023C   701194E5           LDR      R1,[R4, #+368]
   \   00000240   F4FFFFEA           B        ??ColorGuiOnRedraw_10
     88          			break;
     89          		case 2:
     90          			y_line = fsize + column_height - ( db->b * column_height ) / 0xFF;
   \                     ??ColorGuiOnRedraw_7:
   \   00000244   741194E5           LDR      R1,[R4, #+372]
   \   00000248   24219FE5           LDR      R2,??ColorGuiOnRedraw_1+0xC  ;; 0xffffffff80808081
   \   0000024C   9A0101E0           MUL      R1,R10,R1
   \   00000250   17008AE2           ADD      R0,R10,#+23
   \   00000254   F2FFFFEA           B        ??ColorGuiOnRedraw_11
     91          			break;
     92          		case 3:
     93          			y_line = fsize + column_height - ( db->a * column_height ) / ( db->type == 0 ? 0x64 : 0xFF );
   \                     ??ColorGuiOnRedraw_8:
   \   00000258   7C0194E5           LDR      R0,[R4, #+380]
   \   0000025C   17208AE2           ADD      R2,R10,#+23
   \   00000260   000050E3           CMP      R0,#+0
   \   00000264   780194E5           LDR      R0,[R4, #+376]
   \   00000268   6410A003           MOVEQ    R1,#+100
   \   0000026C   FF10A013           MOVNE    R1,#+255
   \   00000270   9A0000E0           MUL      R0,R10,R0
   \   00000274   ........           _BLF     ??div32_a,??rA??div32_a
   \   00000278   015042E0           SUB      R5,R2,R1
     94          			break;
     95          		}
     96          
     97          		int old_pen = GC_GetPenColor( gc );
   \                     ??ColorGuiOnRedraw_9:
   \   0000027C   0600A0E1           MOV      R0,R6
   \   00000280   5F0200EF           SWI      +607
   \   00000284   00B0A0E1           MOV      R11,R0
     98          		GC_SetPenColor( gc, clBlack );
   \   00000288   FF14A0E3           MOV      R1,#-16777216
   \   0000028C   0600A0E1           MOV      R0,R6
   \   00000290   600200EF           SWI      +608
     99          		GC_DrawLine( gc, x1 + start_column, y1 + y_line, x1 + start_column + column_width - 1, y1 + y_line );
   \   00000294   08009DE5           LDR      R0,[SP, #+8]
   \   00000298   082085E0           ADD      R2,R5,R8
   \   0000029C   0210A0E1           MOV      R1,R2
   \   000002A0   02002DE9           PUSH     {R1}
   \   000002A4   04109DE5           LDR      R1,[SP, #+4]
   \   000002A8   070080E0           ADD      R0,R0,R7
    100          		GC_SetPenColor( gc, old_pen );
    101          	}
   \   000002AC   019089E2           ADD      R9,R9,#+1
   \   000002B0   001081E0           ADD      R1,R1,R0
   \   000002B4   013041E2           SUB      R3,R1,#+1
   \   000002B8   0010A0E1           MOV      R1,R0
   \   000002BC   0600A0E1           MOV      R0,R6
   \   000002C0   620200EF           SWI      +610
   \   000002C4   0B10A0E1           MOV      R1,R11
   \   000002C8   0600A0E1           MOV      R0,R6
   \   000002CC   600200EF           SWI      +608
   \   000002D0   040059E3           CMP      R9,#+4
   \   000002D4   04D08DE2           ADD      SP,SP,#+4
   \   000002D8   9FFFFF1A           BNE      ??ColorGuiOnRedraw_3
    102          	testcolor = COLOR_RGBA( db->r, db->g, db->b, db->type == 0? ( db->a * 0xFF / 0x64 ) : ( db->a ) );
   \   000002DC   7C0194E5           LDR      R0,[R4, #+380]
   \   000002E0   000050E3           CMP      R0,#+0
   \   000002E4   780194E5           LDR      R0,[R4, #+376]
   \   000002E8   0500001A           BNE      ??ColorGuiOnRedraw_12
   \   000002EC   84109FE5           LDR      R1,??ColorGuiOnRedraw_1+0x10  ;; 0x51eb851f
   \   000002F0   000460E0           RSB      R0,R0,R0, LSL #+8
   \   000002F4   9120C3E0           SMULL    R2,R3,R1,R0
   \   000002F8   C332A0E1           ASR      R3,R3,#+5
   \   000002FC   A00F83E0           ADD      R0,R3,R0, LSR #+31
   \   00000300   000000EA           B        ??ColorGuiOnRedraw_13
   \                     ??ColorGuiOnRedraw_12:
   \   00000304   000CA0E1           LSL      R0,R0,#+24
   \                     ??ColorGuiOnRedraw_13:
   \   00000308   6C1194E5           LDR      R1,[R4, #+364]
   \   0000030C   702194E5           LDR      R2,[R4, #+368]
    103          	DrawRect( x1 + scr_w - fsize - 1, y1 + 1, x1 + scr_w - 1, y1 + fsize + 1, clBlack, testcolor );
   \   00000310   183088E2           ADD      R3,R8,#+24
   \   00000314   0224A0E1           LSL      R2,R2,#+8
   \   00000318   011882E1           ORR      R1,R2,R1, LSL #+16
   \   0000031C   742194E5           LDR      R2,[R4, #+372]
   \   00000320   011082E1           ORR      R1,R2,R1
   \   00000324   010080E1           ORR      R0,R0,R1
   \   00000328   04109DE5           LDR      R1,[SP, #+4]
   \   0000032C   01002DE9           PUSH     {R0}
   \   00000330   074081E0           ADD      R4,R1,R7
   \   00000334   012044E2           SUB      R2,R4,#+1
   \   00000338   011088E2           ADD      R1,R8,#+1
   \   0000033C   FF04A0E3           MOV      R0,#-16777216
   \   00000340   01002DE9           PUSH     {R0}
   \   00000344   180044E2           SUB      R0,R4,#+24
   \   00000348   EC0100EF           SWI      +492
    104          
    105          	SetFont( font_old );
   \   0000034C   20009DE5           LDR      R0,[SP, #+32]
   \   00000350   F10100EF           SWI      +497
    106          	GC_SetXX( gc, gc_xx );
   \   00000354   1C109DE5           LDR      R1,[SP, #+28]
   \   00000358   0600A0E1           MOV      R0,R6
   \   0000035C   E90100EF           SWI      +489
    107          }
   \   00000360   64D08DE2           ADD      SP,SP,#+100
   \   00000364   F08FBDE8           POP      {R4-R11,PC}      ;; return
   \                     ??ColorGuiOnRedraw_1:
   \   00000368   398EE338           DC32     0x38e38e39
   \   0000036C   ........           DC32     `?<Constant L"\\x25\\x30\\x32\\x58\\x2c\\x20\\x25\\x30\\`
   \   00000370   ........           DC32     colors
   \   00000374   81808080           DC32     0xffffffff80808081
   \   00000378   1F85EB51           DC32     0x51eb851f
    108          

   \                                 In segment CODE, align 4, keep-with-next
    109          void ColorGuiOnKey( DISP_OBJ_COLOR* db, int key, int, int repeat, int type )
    110          {
    111          	if ( type == KBD_SHORT_RELEASE || type == KBD_REPEAT )
   \                     ??ColorGuiOnKey:
   \   00000000   ........           LDR      R12,??DataTable17  ;; KBD_SHORT_RELEASE
   \   00000004   00402DE9           PUSH     {LR}
   \   00000008   04209DE5           LDR      R2,[SP, #+4]
   \   0000000C   00C09CE5           LDR      R12,[R12, #+0]
   \   00000010   0C0052E1           CMP      R2,R12
   \   00000014   2300000A           BEQ      ??ColorGuiOnKey_1
   \   00000018   ........           LDR      R12,??DataTable18  ;; KBD_REPEAT
   \   0000001C   00C09CE5           LDR      R12,[R12, #+0]
   \   00000020   0C0052E1           CMP      R2,R12
   \   00000024   9300001A           BNE      ??ColorGuiOnKey_2
    112          	{
    113          		if ( type == KBD_SHORT_RELEASE )
    114          			db->cstep = 1;
    115          		else
    116          			if ( type == KBD_REPEAT && repeat  >  10 )
   \   00000028   0B0053E3           CMP      R3,#+11
   \   0000002C   010000BA           BLT      ??ColorGuiOnKey_3
    117          				db->cstep = 8;
   \   00000030   0830A0E3           MOV      R3,#+8
   \                     ??ColorGuiOnKey_4:
   \   00000034   8C3180E5           STR      R3,[R0, #+396]
    118          
    119          		if ( key == KEY_UP || key == KEY_DIGITAL_0 + 2 )
   \                     ??ColorGuiOnKey_3:
   \   00000038   ........           LDR      R3,??DataTable21  ;; KEY_UP
   \   0000003C   003093E5           LDR      R3,[R3, #+0]
   \   00000040   030051E1           CMP      R1,R3
   \   00000044   0400000A           BEQ      ??ColorGuiOnKey_5
   \   00000048   ........           LDR      R3,??DataTable30  ;; KEY_DIGITAL_0
   \   0000004C   003093E5           LDR      R3,[R3, #+0]
   \   00000050   023083E2           ADD      R3,R3,#+2
   \   00000054   030051E1           CMP      R1,R3
   \   00000058   3500001A           BNE      ??ColorGuiOnKey_6
    120          		{
    121          			switch( db->current_column )
   \                     ??ColorGuiOnKey_5:
   \   0000005C   801190E5           LDR      R1,[R0, #+384]
   \   00000060   000051E3           CMP      R1,#+0
   \   00000064   0600000A           BEQ      ??ColorGuiOnKey_7
   \   00000068   011051E2           SUBS     R1,R1,#+1
   \   0000006C   0F00000A           BEQ      ??ColorGuiOnKey_8
   \   00000070   011051E2           SUBS     R1,R1,#+1
   \   00000074   1600000A           BEQ      ??ColorGuiOnKey_9
   \   00000078   011051E2           SUBS     R1,R1,#+1
   \   0000007C   1D00000A           BEQ      ??ColorGuiOnKey_10
   \   00000080   280000EA           B        ??ColorGuiOnKey_11
    122          			{
    123          			case 0:
    124          				if ( ( db->r += db->cstep ) >0xFF )
   \                     ??ColorGuiOnKey_7:
   \   00000084   6C1190E5           LDR      R1,[R0, #+364]
   \   00000088   8C3190E5           LDR      R3,[R0, #+396]
   \   0000008C   011083E0           ADD      R1,R3,R1
   \   00000090   6C1180E5           STR      R1,[R0, #+364]
   \   00000094   400F51E3           CMP      R1,#+256
   \   00000098   220000BA           BLT      ??ColorGuiOnKey_11
    125          					db->r = 0;
   \   0000009C   0010A0E3           MOV      R1,#+0
   \                     ??ColorGuiOnKey_12:
   \   000000A0   6C1180E5           STR      R1,[R0, #+364]
   \   000000A4   1F0000EA           B        ??ColorGuiOnKey_11
   \                     ??ColorGuiOnKey_1:
   \   000000A8   0130A0E3           MOV      R3,#+1
   \   000000AC   E0FFFFEA           B        ??ColorGuiOnKey_4
    126          				break;
    127          			case 1:
    128          				if ( ( db->g += db->cstep ) >0xFF )
   \                     ??ColorGuiOnKey_8:
   \   000000B0   701190E5           LDR      R1,[R0, #+368]
   \   000000B4   8C3190E5           LDR      R3,[R0, #+396]
   \   000000B8   011083E0           ADD      R1,R3,R1
   \   000000BC   701180E5           STR      R1,[R0, #+368]
   \   000000C0   400F51E3           CMP      R1,#+256
   \   000000C4   170000BA           BLT      ??ColorGuiOnKey_11
    129          					db->g = 0;
   \   000000C8   0010A0E3           MOV      R1,#+0
   \                     ??ColorGuiOnKey_13:
   \   000000CC   701180E5           STR      R1,[R0, #+368]
   \   000000D0   140000EA           B        ??ColorGuiOnKey_11
    130          				break;
    131          			case 2:
    132          				if ( ( db->b += db->cstep ) >0xFF )
   \                     ??ColorGuiOnKey_9:
   \   000000D4   741190E5           LDR      R1,[R0, #+372]
   \   000000D8   8C3190E5           LDR      R3,[R0, #+396]
   \   000000DC   011083E0           ADD      R1,R3,R1
   \   000000E0   741180E5           STR      R1,[R0, #+372]
   \   000000E4   400F51E3           CMP      R1,#+256
   \   000000E8   0E0000BA           BLT      ??ColorGuiOnKey_11
    133          					db->b = 0;
   \   000000EC   0010A0E3           MOV      R1,#+0
   \                     ??ColorGuiOnKey_14:
   \   000000F0   741180E5           STR      R1,[R0, #+372]
   \   000000F4   0B0000EA           B        ??ColorGuiOnKey_11
    134          				break;
    135          			case 3:
    136          				if ( ( db->a += db->cstep ) > ( db->type == 0 ? 0x64 : 0xFF ) )
   \                     ??ColorGuiOnKey_10:
   \   000000F8   7C1190E5           LDR      R1,[R0, #+380]
   \   000000FC   8C3190E5           LDR      R3,[R0, #+396]
   \   00000100   78C190E5           LDR      R12,[R0, #+376]
   \   00000104   000051E3           CMP      R1,#+0
   \   00000108   6410A003           MOVEQ    R1,#+100
   \   0000010C   FF10A013           MOVNE    R1,#+255
   \   00000110   0C3083E0           ADD      R3,R3,R12
   \   00000114   783180E5           STR      R3,[R0, #+376]
   \   00000118   030051E1           CMP      R1,R3
   \   0000011C   010000AA           BGE      ??ColorGuiOnKey_11
    137          					db->a = 0;
   \   00000120   0010A0E3           MOV      R1,#+0
   \                     ??ColorGuiOnKey_15:
   \   00000124   781180E5           STR      R1,[R0, #+376]
    138          				break;
    139          			}
    140          
    141          			db->need_str = 1;
   \                     ??ColorGuiOnKey_11:
   \   00000128   0110A0E3           MOV      R1,#+1
   \   0000012C   881180E5           STR      R1,[R0, #+392]
   \   00000130   500000EA           B        ??ColorGuiOnKey_2
    142          		}
    143          		else if ( key == KEY_DOWN || key == KEY_DIGITAL_0 + 8 )
   \                     ??ColorGuiOnKey_6:
   \   00000134   ........           LDR      R3,??DataTable29  ;; KEY_DOWN
   \   00000138   003093E5           LDR      R3,[R3, #+0]
   \   0000013C   030051E1           CMP      R1,R3
   \   00000140   0400000A           BEQ      ??ColorGuiOnKey_16
   \   00000144   ........           LDR      R3,??DataTable30  ;; KEY_DIGITAL_0
   \   00000148   003093E5           LDR      R3,[R3, #+0]
   \   0000014C   083083E2           ADD      R3,R3,#+8
   \   00000150   030051E1           CMP      R1,R3
   \   00000154   2800001A           BNE      ??ColorGuiOnKey_17
    144          		{
    145          			switch( db->current_column )
   \                     ??ColorGuiOnKey_16:
   \   00000158   801190E5           LDR      R1,[R0, #+384]
   \   0000015C   000051E3           CMP      R1,#+0
   \   00000160   0600000A           BEQ      ??ColorGuiOnKey_18
   \   00000164   011051E2           SUBS     R1,R1,#+1
   \   00000168   0B00000A           BEQ      ??ColorGuiOnKey_19
   \   0000016C   011051E2           SUBS     R1,R1,#+1
   \   00000170   1000000A           BEQ      ??ColorGuiOnKey_20
   \   00000174   011051E2           SUBS     R1,R1,#+1
   \   00000178   1500000A           BEQ      ??ColorGuiOnKey_21
   \   0000017C   E9FFFFEA           B        ??ColorGuiOnKey_11
    146          			{
    147          			case 0:
    148          				if ( ( db->r -= db->cstep ) < 0 )
   \                     ??ColorGuiOnKey_18:
   \   00000180   6C1190E5           LDR      R1,[R0, #+364]
   \   00000184   8C3190E5           LDR      R3,[R0, #+396]
   \   00000188   031051E0           SUBS     R1,R1,R3
   \   0000018C   6C1180E5           STR      R1,[R0, #+364]
   \   00000190   E4FFFF5A           BPL      ??ColorGuiOnKey_11
    149          					db->r = 0xFF;
   \   00000194   FF10A0E3           MOV      R1,#+255
   \   00000198   C0FFFFEA           B        ??ColorGuiOnKey_12
    150          				break;
    151          			case 1:
    152          				if ( ( db->g -= db->cstep ) < 0 )
   \                     ??ColorGuiOnKey_19:
   \   0000019C   701190E5           LDR      R1,[R0, #+368]
   \   000001A0   8C3190E5           LDR      R3,[R0, #+396]
   \   000001A4   031051E0           SUBS     R1,R1,R3
   \   000001A8   701180E5           STR      R1,[R0, #+368]
   \   000001AC   DDFFFF5A           BPL      ??ColorGuiOnKey_11
    153          					db->g = 0xFF;
   \   000001B0   FF10A0E3           MOV      R1,#+255
   \   000001B4   C4FFFFEA           B        ??ColorGuiOnKey_13
    154          				break;
    155          			case 2:
    156          				if ( ( db->b -= db->cstep ) < 0 )
   \                     ??ColorGuiOnKey_20:
   \   000001B8   741190E5           LDR      R1,[R0, #+372]
   \   000001BC   8C3190E5           LDR      R3,[R0, #+396]
   \   000001C0   031051E0           SUBS     R1,R1,R3
   \   000001C4   741180E5           STR      R1,[R0, #+372]
   \   000001C8   D6FFFF5A           BPL      ??ColorGuiOnKey_11
    157          					db->b = 0xFF;
   \   000001CC   FF10A0E3           MOV      R1,#+255
   \   000001D0   C6FFFFEA           B        ??ColorGuiOnKey_14
    158          				break;
    159          			case 3:
    160          				if ( ( db->a -= db->cstep ) < 0 )
   \                     ??ColorGuiOnKey_21:
   \   000001D4   8C3190E5           LDR      R3,[R0, #+396]
   \   000001D8   78C190E5           LDR      R12,[R0, #+376]
   \   000001DC   03105CE0           SUBS     R1,R12,R3
   \   000001E0   781180E5           STR      R1,[R0, #+376]
   \   000001E4   CFFFFF5A           BPL      ??ColorGuiOnKey_11
    161          					db->a = db->type == 0 ? 0x64 : 0xFF;
   \   000001E8   7C1190E5           LDR      R1,[R0, #+380]
   \   000001EC   000051E3           CMP      R1,#+0
   \   000001F0   FF10A013           MOVNE    R1,#+255
   \   000001F4   6410A003           MOVEQ    R1,#+100
   \   000001F8   C9FFFFEA           B        ??ColorGuiOnKey_15
    162          					break;
    163          			}
    164          
    165          			db->need_str = 1;
    166          		}
    167          		else if ( key == KEY_LEFT || key == KEY_DIGITAL_0 + 4 )
   \                     ??ColorGuiOnKey_17:
   \   000001FC   ........           LDR      R3,??DataTable24  ;; KEY_LEFT
   \   00000200   003093E5           LDR      R3,[R3, #+0]
   \   00000204   030051E1           CMP      R1,R3
   \   00000208   0400000A           BEQ      ??ColorGuiOnKey_22
   \   0000020C   ........           LDR      R3,??DataTable30  ;; KEY_DIGITAL_0
   \   00000210   003093E5           LDR      R3,[R3, #+0]
   \   00000214   043083E2           ADD      R3,R3,#+4
   \   00000218   030051E1           CMP      R1,R3
   \   0000021C   0500001A           BNE      ??ColorGuiOnKey_23
    168          		{
    169          			if ( --db->current_column < 0 )
   \                     ??ColorGuiOnKey_22:
   \   00000220   801190E5           LDR      R1,[R0, #+384]
   \   00000224   011051E2           SUBS     R1,R1,#+1
   \   00000228   801180E5           STR      R1,[R0, #+384]
   \   0000022C   1100005A           BPL      ??ColorGuiOnKey_2
    170          				db->current_column = 3;
   \   00000230   0310A0E3           MOV      R1,#+3
   \   00000234   0E0000EA           B        ??ColorGuiOnKey_24
    171          		}
    172          		else if ( key == KEY_RIGHT || key == KEY_DIGITAL_0 + 6 )
   \                     ??ColorGuiOnKey_23:
   \   00000238   ........           LDR      R3,??DataTable26  ;; KEY_RIGHT
   \   0000023C   003093E5           LDR      R3,[R3, #+0]
   \   00000240   030051E1           CMP      R1,R3
   \   00000244   0400000A           BEQ      ??ColorGuiOnKey_25
   \   00000248   ........           LDR      R3,??DataTable30  ;; KEY_DIGITAL_0
   \   0000024C   003093E5           LDR      R3,[R3, #+0]
   \   00000250   063083E2           ADD      R3,R3,#+6
   \   00000254   030051E1           CMP      R1,R3
   \   00000258   0600001A           BNE      ??ColorGuiOnKey_2
    173          		{
    174          			if ( ++db->current_column  >  3 )
   \                     ??ColorGuiOnKey_25:
   \   0000025C   801190E5           LDR      R1,[R0, #+384]
   \   00000260   011081E2           ADD      R1,R1,#+1
   \   00000264   801180E5           STR      R1,[R0, #+384]
   \   00000268   040051E3           CMP      R1,#+4
   \   0000026C   010000BA           BLT      ??ColorGuiOnKey_2
    175          				db->current_column = 0;
   \   00000270   0010A0E3           MOV      R1,#+0
   \                     ??ColorGuiOnKey_24:
   \   00000274   801180E5           STR      R1,[R0, #+384]
    176          		}
    177          	}
    178          
    179          	if ( type == KBD_LONG_RELEASE )
   \                     ??ColorGuiOnKey_2:
   \   00000278   ........           LDR      R1,??DataTable31  ;; KBD_LONG_RELEASE
   \   0000027C   001091E5           LDR      R1,[R1, #+0]
   \   00000280   010052E1           CMP      R2,R1
    180          		db->cstep = 1;
   \   00000284   0110A003           MOVEQ    R1,#+1
   \   00000288   8C118005           STREQ    R1,[R0, #+396]
    181          
    182          	DispObject_InvalidateRect( db, 0 );
   \   0000028C   0010A0E3           MOV      R1,#+0
   \   00000290   EF0100EF           SWI      +495
    183          }
   \   00000294   0080BDE8           POP      {PC}             ;; return
    184          
    185          
    186          

   \                                 In segment CODE, align 4, keep-with-next
    187          void EditColorGui_constr( DISP_DESC* desc )
    188          {
    189          	DISP_DESC_SetName( desc, EditColorGuiName );
   \                     ??EditColorGui_constr:
   \   00000000   48109FE5           LDR      R1,??EditColorGui_constr_1  ;; EditColorGuiName
   \   00000004   10402DE9           PUSH     {R4,LR}
   \   00000008   0040A0E1           MOV      R4,R0
   \   0000000C   200200EF           SWI      +544
    190          	DISP_DESC_SetSize( desc, sizeof( DISP_OBJ_COLOR ) );
   \   00000010   641FA0E3           MOV      R1,#+400
   \   00000014   0400A0E1           MOV      R0,R4
   \   00000018   220200EF           SWI      +546
    191          	DISP_DESC_SetOnCreate( desc, ( DISP_OBJ_ONCREATE_METHOD )ColorGuiOnCreate );
   \   0000001C   30109FE5           LDR      R1,??EditColorGui_constr_1+0x4  ;; ??ColorGuiOnCreate
   \   00000020   0400A0E1           MOV      R0,R4
   \   00000024   240200EF           SWI      +548
    192          	DISP_DESC_SetOnClose( desc, ( DISP_OBJ_ONCLOSE_METHOD )ColorGuiOnClose );
   \   00000028   28109FE5           LDR      R1,??EditColorGui_constr_1+0x8  ;; ??ColorGuiOnClose
   \   0000002C   0400A0E1           MOV      R0,R4
   \   00000030   260200EF           SWI      +550
    193          	DISP_DESC_SetOnRedraw( desc, ( DISP_OBJ_ONREDRAW_METHOD )ColorGuiOnRedraw );
   \   00000034   20109FE5           LDR      R1,??EditColorGui_constr_1+0xC  ;; ??ColorGuiOnRedraw
   \   00000038   0400A0E1           MOV      R0,R4
   \   0000003C   280200EF           SWI      +552
    194          	DISP_DESC_SetOnKey( desc, ( DISP_OBJ_ONKEY_METHOD )ColorGuiOnKey );
   \   00000040   18109FE5           LDR      R1,??EditColorGui_constr_1+0x10  ;; ??ColorGuiOnKey
   \   00000044   0400A0E1           MOV      R0,R4
   \   00000048   2A0200EF           SWI      +554
    195          }
   \   0000004C   1080BDE8           POP      {R4,PC}          ;; return
   \                     ??EditColorGui_constr_1:
   \   00000050   ........           DC32     EditColorGuiName
   \   00000054   ........           DC32     ??ColorGuiOnCreate
   \   00000058   ........           DC32     ??ColorGuiOnClose
   \   0000005C   ........           DC32     ??ColorGuiOnRedraw
   \   00000060   ........           DC32     ??ColorGuiOnKey
    196          

   \                                 In segment CODE, align 4, keep-with-next
    197          void EditColorGui_destr( GUI* gui )
    198          {
    199          }
   \                     ??EditColorGui_destr:
   \   00000000   1EFF2FE1           BX       LR               ;; return
    200          

   \                                 In segment CODE, align 4, keep-with-next
    201          void OnBackColorEdit( BOOK* bk, GUI* )
    202          {
   \                     ??OnBackColorEdit:
   \   00000000   10402DE9           PUSH     {R4,LR}
   \   00000004   0040A0E1           MOV      R4,R0
    203          	MyBOOK* myBook = (MyBOOK*) bk;
    204          	FREE_GUI( myBook->color );
   \   00000008   280094E5           LDR      R0,[R4, #+40]
   \   0000000C   000050E3           CMP      R0,#+0
   \   00000010   1080BD08           POPEQ    {R4,PC}
   \   00000014   CE0100EF           SWI      +462
   \   00000018   280084E5           STR      R0,[R4, #+40]
    205          }
   \   0000001C   1080BDE8           POP      {R4,PC}          ;; return
    206          

   \                                 In segment CODE, align 4, keep-with-next
    207          void OnOkColorEdit( BOOK* bk, GUI* )
    208          {
   \                     ??OnOkColorEdit:
   \   00000000   10402DE9           PUSH     {R4,LR}
   \   00000004   0040A0E1           MOV      R4,R0
    209          	MyBOOK* myBook = (MyBOOK*) bk;
    210          	DISP_OBJ_COLOR* disp_obj = (DISP_OBJ_COLOR*) GUIObject_GetDispObject( myBook->color );
   \   00000008   280094E5           LDR      R0,[R4, #+40]
   \   0000000C   680100EF           SWI      +360
    211          	if ( disp_obj->type == 0 )
   \   00000010   7C1190E5           LDR      R1,[R0, #+380]
   \   00000014   6C2190E5           LDR      R2,[R0, #+364]
   \   00000018   000051E3           CMP      R1,#+0
   \   0000001C   541094E5           LDR      R1,[R4, #+84]
   \   00000020   0A00001A           BNE      ??OnOkColorEdit_1
    212          	{
    213          		myBook->cur_hp.color->rgb[0] = disp_obj->r;
   \   00000024   2C20C1E5           STRB     R2,[R1, #+44]
    214          		myBook->cur_hp.color->rgb[1] = disp_obj->g;
   \   00000028   541094E5           LDR      R1,[R4, #+84]
   \   0000002C   702190E5           LDR      R2,[R0, #+368]
   \   00000030   2D20C1E5           STRB     R2,[R1, #+45]
    215          		myBook->cur_hp.color->rgb[2] = disp_obj->b;
   \   00000034   541094E5           LDR      R1,[R4, #+84]
   \   00000038   742190E5           LDR      R2,[R0, #+372]
   \   0000003C   2E20C1E5           STRB     R2,[R1, #+46]
    216          		myBook->cur_hp.color->rgb[3] = disp_obj->a;
   \   00000040   541094E5           LDR      R1,[R4, #+84]
   \   00000044   780190E5           LDR      R0,[R0, #+376]
   \   00000048   2F00C1E5           STRB     R0,[R1, #+47]
   \   0000004C   070000EA           B        ??OnOkColorEdit_2
    217          	}
    218          	else
    219          	{
    220          		myBook->cur_hp.color->color = COLOR_RGBA( disp_obj->r, disp_obj->g, disp_obj->b, disp_obj->a );
   \                     ??OnOkColorEdit_1:
   \   00000050   703190E5           LDR      R3,[R0, #+368]
   \   00000054   0334A0E1           LSL      R3,R3,#+8
   \   00000058   022883E1           ORR      R2,R3,R2, LSL #+16
   \   0000005C   743190E5           LDR      R3,[R0, #+372]
   \   00000060   780190E5           LDR      R0,[R0, #+376]
   \   00000064   022083E1           ORR      R2,R3,R2
   \   00000068   000C82E1           ORR      R0,R2,R0, LSL #+24
   \   0000006C   2C0081E5           STR      R0,[R1, #+44]
    221          	}
    222          	FREE_GUI( myBook->color );
   \                     ??OnOkColorEdit_2:
   \   00000070   280094E5           LDR      R0,[R4, #+40]
   \   00000074   000050E3           CMP      R0,#+0
   \   00000078   0100000A           BEQ      ??OnOkColorEdit_3
   \   0000007C   CE0100EF           SWI      +462
   \   00000080   280084E5           STR      R0,[R4, #+40]
    223          	RefreshEdList(bk);
   \                     ??OnOkColorEdit_3:
   \   00000084   0400A0E1           MOV      R0,R4
   \   00000088   ........           _BLF     ??RefreshEdList,??RefreshEdList??rA
    224          }
   \   0000008C   1080BDE8           POP      {R4,PC}          ;; return
    225          

   \                                 In segment CODE, align 4, keep-with-next
    226          GUI_COLOR* CreateEditColorGUI( MyBOOK* myBook, int type )
    227          {
   \                     ??CreateEditColorGUI:
   \   00000000   F0402DE9           PUSH     {R4-R7,LR}
   \   00000004   40D04DE2           SUB      SP,SP,#+64
   \   00000008   0040A0E1           MOV      R4,R0
   \   0000000C   0160A0E1           MOV      R6,R1
    228          	wchar_t ustr[32];
    229          	GUI_COLOR* gui_color = new GUI_COLOR;
   \   00000010   9000A0E3           MOV      R0,#+144
   \   00000014   ........           _BLF     `??operator new`,`??operator new??rA`
    230          	DISP_OBJ_COLOR* disp_obj;
    231          
    232          	if ( !GUIObject_Create( gui_color, EditColorGui_destr, EditColorGui_constr, myBook, 0, 0, 0 ) )
   \   00000018   84219FE5           LDR      R2,??CreateEditColorGUI_1  ;; ??EditColorGui_constr
   \   0000001C   84119FE5           LDR      R1,??CreateEditColorGUI_1+0x4  ;; ??EditColorGui_destr
   \   00000020   0050A0E1           MOV      R5,R0
   \   00000024   0000A0E3           MOV      R0,#+0
   \   00000028   01002DE9           PUSH     {R0}
   \   0000002C   01002DE9           PUSH     {R0}
   \   00000030   01002DE9           PUSH     {R0}
   \   00000034   0430A0E1           MOV      R3,R4
   \   00000038   0500A0E1           MOV      R0,R5
   \   0000003C   F00100EF           SWI      +496
   \   00000040   000050E3           CMP      R0,#+0
   \   00000044   0CD08DE2           ADD      SP,SP,#+12
   \   00000048   0600001A           BNE      ??CreateEditColorGUI_2
    233          	{
    234          		myBook->color = NULL;
   \   0000004C   0000A0E3           MOV      R0,#+0
   \   00000050   280084E5           STR      R0,[R4, #+40]
    235          		delete gui_color;
   \   00000054   0500A0E1           MOV      R0,R5
   \   00000058   ........           _BLF     `??operator delete`,`??operator delete??rA`
    236          		return 0;
   \   0000005C   0000A0E3           MOV      R0,#+0
   \   00000060   40D08DE2           ADD      SP,SP,#+64
   \   00000064   F080BDE8           POP      {R4-R7,PC}
    237          	}
    238          
    239          	disp_obj = (DISP_OBJ_COLOR*) GUIObject_GetDispObject( gui_color );
   \                     ??CreateEditColorGUI_2:
   \   00000068   0500A0E1           MOV      R0,R5
   \   0000006C   680100EF           SWI      +360
    240          
    241          	if ( type == 0 )
   \   00000070   541094E5           LDR      R1,[R4, #+84]
   \   00000074   000056E3           CMP      R6,#+0
   \   00000078   0A00001A           BNE      ??CreateEditColorGUI_3
    242          	{
    243          		disp_obj->r = myBook->cur_hp.color->rgb[0];
   \   0000007C   2C10D1E5           LDRB     R1,[R1, #+44]
   \   00000080   6C1180E5           STR      R1,[R0, #+364]
    244          		disp_obj->g = myBook->cur_hp.color->rgb[1];
   \   00000084   541094E5           LDR      R1,[R4, #+84]
   \   00000088   2D10D1E5           LDRB     R1,[R1, #+45]
   \   0000008C   701180E5           STR      R1,[R0, #+368]
    245          		disp_obj->b = myBook->cur_hp.color->rgb[2];
   \   00000090   541094E5           LDR      R1,[R4, #+84]
   \   00000094   2E10D1E5           LDRB     R1,[R1, #+46]
   \   00000098   741180E5           STR      R1,[R0, #+372]
    246          		disp_obj->a = myBook->cur_hp.color->rgb[3];
   \   0000009C   541094E5           LDR      R1,[R4, #+84]
   \   000000A0   2F10D1E5           LDRB     R1,[R1, #+47]
   \   000000A4   090000EA           B        ??CreateEditColorGUI_4
    247          	}
    248          	else
    249          	{
    250          		unsigned int color = myBook->cur_hp.color->color;
   \                     ??CreateEditColorGUI_3:
   \   000000A8   2C1091E5           LDR      R1,[R1, #+44]
    251          		disp_obj->r = COLOR_GET_R( color );
   \   000000AC   FF20A0E3           MOV      R2,#+255
   \   000000B0   212802E0           AND      R2,R2,R1, LSR #+16
   \   000000B4   6C2180E5           STR      R2,[R0, #+364]
    252          		disp_obj->g = COLOR_GET_G( color );
   \   000000B8   FF20A0E3           MOV      R2,#+255
   \   000000BC   212402E0           AND      R2,R2,R1, LSR #+8
   \   000000C0   702180E5           STR      R2,[R0, #+368]
    253          		disp_obj->b = COLOR_GET_B( color );
   \   000000C4   FF2001E2           AND      R2,R1,#0xFF
   \   000000C8   742180E5           STR      R2,[R0, #+372]
    254          		disp_obj->a = COLOR_GET_A( color );
   \   000000CC   211CA0E1           LSR      R1,R1,#+24
    255          	}
    256          
    257          	disp_obj->type = type;
    258          
    259          	myBook->color = gui_color;
    260          
    261          	if ( myBook )
   \                     ??CreateEditColorGUI_4:
   \   000000D0   000054E3           CMP      R4,#+0
   \   000000D4   781180E5           STR      R1,[R0, #+376]
   \   000000D8   7C6180E5           STR      R6,[R0, #+380]
   \   000000DC   285084E5           STR      R5,[R4, #+40]
   \   000000E0   0200000A           BEQ      ??CreateEditColorGUI_5
    262          		BookObj_AddGUIObject( myBook, gui_color );
   \   000000E4   0510A0E1           MOV      R1,R5
   \   000000E8   0400A0E1           MOV      R0,R4
   \   000000EC   EB0100EF           SWI      +491
    263          
    264          	// GUIObject_SetStyle( myBook->color, 4 );
    265          	win12512unicode( ustr, myBook->cur_hp.color->name, MAXELEMS( ustr ) - 1 );
   \                     ??CreateEditColorGUI_5:
   \   000000F0   540094E5           LDR      R0,[R4, #+84]
   \   000000F4   1F20A0E3           MOV      R2,#+31
   \   000000F8   041080E2           ADD      R1,R0,#+4
   \   000000FC   0D00A0E1           MOV      R0,SP
   \   00000100   ........           _BLF     ??win12512unicode,??win12512unicode??rA
    266          	GUIObject_SetTitleText( myBook->color, TextID_Create( ustr, ENC_UCS2, TEXTID_ANY_LEN ) );
   \   00000104   FF60A0E3           MOV      R6,#+255
   \   00000108   FF6C86E3           ORR      R6,R6,#0xFF00
   \   0000010C   0620A0E1           MOV      R2,R6
   \   00000110   0010A0E3           MOV      R1,#+0
   \   00000114   0D00A0E1           MOV      R0,SP
   \   00000118   5D0100EF           SWI      +349
   \   0000011C   0010A0E1           MOV      R1,R0
   \   00000120   280094E5           LDR      R0,[R4, #+40]
   \   00000124   330100EF           SWI      +307
    267          	GUIObject_SetTitleType( myBook->color, 3 );
   \   00000128   280094E5           LDR      R0,[R4, #+40]
   \   0000012C   0310A0E3           MOV      R1,#+3
   \   00000130   810200EF           SWI      +641
    268          	// GUIObject_SoftKeys_Hide( myBook->color );
    269          	GUIObject_SoftKeys_SetAction( myBook->color, ACTION_BACK, OnBackColorEdit );
   \   00000134   ........           LDR      R0,??DataTable12  ;; ACTION_BACK
   \   00000138   6C209FE5           LDR      R2,??CreateEditColorGUI_1+0x8  ;; ??OnBackColorEdit
   \   0000013C   001090E5           LDR      R1,[R0, #+0]
   \   00000140   280094E5           LDR      R0,[R4, #+40]
   \   00000144   0118A0E1           MOV      R1,R1, LSL #+16
   \   00000148   2118A0E1           MOV      R1,R1, LSR #+16
   \   0000014C   4B0100EF           SWI      +331
    270          	GUIObject_SoftKeys_SetAction( myBook->color, ACTION_SELECT1, OnOkColorEdit );
   \   00000150   ........           LDR      R0,??DataTable13  ;; ACTION_SELECT1
   \   00000154   54209FE5           LDR      R2,??CreateEditColorGUI_1+0xC  ;; ??OnOkColorEdit
   \   00000158   007090E5           LDR      R7,[R0, #+0]
   \   0000015C   280094E5           LDR      R0,[R4, #+40]
   \   00000160   0718A0E1           MOV      R1,R7, LSL #+16
   \   00000164   2118A0E1           MOV      R1,R1, LSR #+16
   \   00000168   4B0100EF           SWI      +331
    271          	GUIObject_SoftKeys_SetText( myBook->color, ACTION_SELECT1, STR( "OK" ) );
   \   0000016C   40009FE5           LDR      R0,??CreateEditColorGUI_1+0x10  ;; `?<Constant L"\\x4f\\x4b">`
   \   00000170   0620A0E1           MOV      R2,R6
   \   00000174   0010A0E3           MOV      R1,#+0
   \   00000178   5D0100EF           SWI      +349
   \   0000017C   0020A0E1           MOV      R2,R0
   \   00000180   280094E5           LDR      R0,[R4, #+40]
   \   00000184   0718A0E1           MOV      R1,R7, LSL #+16
   \   00000188   2118A0E1           MOV      R1,R1, LSR #+16
   \   0000018C   4C0100EF           SWI      +332
    272          	GUIObject_Show( myBook->color );
   \   00000190   280094E5           LDR      R0,[R4, #+40]
   \   00000194   340100EF           SWI      +308
    273          	return gui_color;
   \   00000198   0500A0E1           MOV      R0,R5
   \   0000019C   40D08DE2           ADD      SP,SP,#+64
   \   000001A0   F080BDE8           POP      {R4-R7,PC}       ;; return
   \                     ??CreateEditColorGUI_1:
   \   000001A4   ........           DC32     ??EditColorGui_constr
   \   000001A8   ........           DC32     ??EditColorGui_destr
   \   000001AC   ........           DC32     ??OnBackColorEdit
   \   000001B0   ........           DC32     ??OnOkColorEdit
   \   000001B4   ........           DC32     `?<Constant L"\\x4f\\x4b">`
    274          }
    275          
    276          // --------------------------------------------------------------------------------------------------------------------------------

   \                                 In segment DATA_C, align 4, align-sorted
    277          static const char CooordinatesGuiName[] = "Gui_Coordinates";
   \                     CooordinatesGuiName:
   \   00000000   4775695F436F       DC8 "Gui_Coordinates"
   \              6F7264696E61
   \              74657300    
    278          

   \                                 In segment CODE, align 4, keep-with-next
    279          int CoordinatesGuiOnCreate( DISP_OBJ_COORD* db )
    280          {
    281          	db->str_id = EMPTY_TEXTID;
   \                     ??CoordinatesGuiOnCreate:
   \   00000000   9014E0E3           MVN      R1,#-1879048192
   \   00000004   8C1180E5           STR      R1,[R0, #+396]
    282          	db->need_str = 1;
   \   00000008   0110A0E3           MOV      R1,#+1
   \   0000000C   901180E5           STR      R1,[R0, #+400]
    283          	db->is_first_set = 0;
   \   00000010   0020A0E3           MOV      R2,#+0
   \   00000014   802180E5           STR      R2,[R0, #+384]
    284          	db->cstep = 1;
   \   00000018   941180E5           STR      R1,[R0, #+404]
    285          	return 1;
   \   0000001C   0100A0E3           MOV      R0,#+1
   \   00000020   1EFF2FE1           BX       LR               ;; return
    286          }
    287          

   \                                 In segment CODE, align 4, keep-with-next
    288          void CoordinatesGuiOnClose( DISP_OBJ_COORD* db )
    289          {
   \                     ??CoordinatesGuiOnClose:
   \   00000000   00402DE9           PUSH     {LR}
    290          	TextID_Destroy( db->str_id );
   \   00000004   8C0190E5           LDR      R0,[R0, #+396]
   \   00000008   610100EF           SWI      +353
    291          }
   \   0000000C   0080BDE8           POP      {PC}             ;; return
    292          

   \                                 In segment CODE, align 4, keep-with-next
    293          void DrawOwnRect( int _x1, int _y1, int _x2, int _y2, int pen_color, int brush_color )
    294          {
   \                     ??DrawOwnRect:
   \   00000000   F0472DE9           PUSH     {R4-R10,LR}
   \   00000004   20609DE5           LDR      R6,[SP, #+32]
   \   00000008   24709DE5           LDR      R7,[SP, #+36]
   \   0000000C   0040A0E1           MOV      R4,R0
   \   00000010   0150A0E1           MOV      R5,R1
    295          	int x1, x2, y1, y2;
    296          
    297          	x1 = MIN( _x1, _x2 );
   \   00000014   020054E1           CMP      R4,R2
   \   00000018   180000AA           BGE      ??DrawOwnRect_1
   \   0000001C   0480A0E1           MOV      R8,R4
   \                     ??DrawOwnRect_2:
   \   00000020   0240A0E1           MOV      R4,R2
    298          	x2 = MAX( _x1, _x2 );
    299          	y1 = MIN( _y1, _y2 );
   \                     ??DrawOwnRect_3:
   \   00000024   030055E1           CMP      R5,R3
   \   00000028   180000AA           BGE      ??DrawOwnRect_4
   \   0000002C   0590A0E1           MOV      R9,R5
   \                     ??DrawOwnRect_5:
   \   00000030   0350A0E1           MOV      R5,R3
    300          	y2 = MAX( _y1, _y2 );
    301          
    302          	if ( y1 == y2 || x1 == x2 )
   \   00000034   050059E1           CMP      R9,R5
   \   00000038   0100000A           BEQ      ??DrawOwnRect_6
   \                     ??DrawOwnRect_7:
   \   0000003C   040058E1           CMP      R8,R4
   \   00000040   1600001A           BNE      ??DrawOwnRect_8
    303          	{
    304          		GC* gc = get_DisplayGC();
   \                     ??DrawOwnRect_6:
   \   00000044   E50100EF           SWI      +485
   \   00000048   00A0A0E1           MOV      R10,R0
    305          		GC_SetPenColor( gc, pen_color );
   \   0000004C   0610A0E1           MOV      R1,R6
   \   00000050   600200EF           SWI      +608
    306          		GC_SetBrushColor( gc, brush_color );
   \   00000054   0710A0E1           MOV      R1,R7
   \   00000058   0A00A0E1           MOV      R0,R10
   \   0000005C   BE0200EF           SWI      +702
    307          		GC_DrawLine( gc, x1, y1, x2, y2 );
   \   00000060   20002DE9           PUSH     {R5}
   \   00000064   0430A0E1           MOV      R3,R4
   \   00000068   0920A0E1           MOV      R2,R9
   \   0000006C   0810A0E1           MOV      R1,R8
   \   00000070   0A00A0E1           MOV      R0,R10
   \   00000074   620200EF           SWI      +610
   \   00000078   04D08DE2           ADD      SP,SP,#+4
   \   0000007C   F087BDE8           POP      {R4-R10,PC}
    308          	}
   \                     ??DrawOwnRect_1:
   \   00000080   0280A0E1           MOV      R8,R2
   \   00000084   040052E1           CMP      R2,R4
   \   00000088   E4FFFFAA           BGE      ??DrawOwnRect_2
   \   0000008C   E4FFFFEA           B        ??DrawOwnRect_3
   \                     ??DrawOwnRect_4:
   \   00000090   0390A0E1           MOV      R9,R3
   \   00000094   050053E1           CMP      R3,R5
   \   00000098   E4FFFFAA           BGE      ??DrawOwnRect_5
   \   0000009C   E6FFFFEA           B        ??DrawOwnRect_7
    309          	else
    310          		DrawRect( x1, y1, x2, y2, pen_color, brush_color );
   \                     ??DrawOwnRect_8:
   \   000000A0   80002DE9           PUSH     {R7}
   \   000000A4   40002DE9           PUSH     {R6}
   \   000000A8   0530A0E1           MOV      R3,R5
   \   000000AC   0420A0E1           MOV      R2,R4
   \   000000B0   0910A0E1           MOV      R1,R9
   \   000000B4   0800A0E1           MOV      R0,R8
   \   000000B8   EC0100EF           SWI      +492
   \   000000BC   08D08DE2           ADD      SP,SP,#+8
    311          }
   \   000000C0   F087BDE8           POP      {R4-R10,PC}      ;; return
    312          

   \                                 In segment CODE, align 4, keep-with-next
    313          void DrawArrow( int x, int y, int color )
    314          {
   \                     ??DrawArrow:
   \   00000000   F0432DE9           PUSH     {R4-R9,LR}
   \   00000004   0040A0E1           MOV      R4,R0
    315          	DrawOwnRect( x, y, x + 13, y + 2, clBlack, clBlack );
   \   00000008   FF04A0E3           MOV      R0,#-16777216
   \   0000000C   01002DE9           PUSH     {R0}
   \   00000010   01002DE9           PUSH     {R0}
   \   00000014   0150A0E1           MOV      R5,R1
   \   00000018   0D6084E2           ADD      R6,R4,#+13
   \   0000001C   027085E2           ADD      R7,R5,#+2
   \   00000020   0730A0E1           MOV      R3,R7
   \   00000024   0620A0E1           MOV      R2,R6
   \   00000028   0400A0E1           MOV      R0,R4
   \   0000002C   ........           BL       ??DrawOwnRect
    316          	DrawOwnRect( x + 11, y + 2, x + 13, y + 6, clBlack, clBlack );
   \   00000030   FF04A0E3           MOV      R0,#-16777216
   \   00000034   01002DE9           PUSH     {R0}
   \   00000038   01002DE9           PUSH     {R0}
   \   0000003C   0B8084E2           ADD      R8,R4,#+11
   \   00000040   069085E2           ADD      R9,R5,#+6
   \   00000044   0930A0E1           MOV      R3,R9
   \   00000048   0620A0E1           MOV      R2,R6
   \   0000004C   0710A0E1           MOV      R1,R7
   \   00000050   0800A0E1           MOV      R0,R8
   \   00000054   ........           BL       ??DrawOwnRect
    317          	DrawOwnRect( x + 8, y + 5, x + 16, y + 6, clBlack, clBlack );
   \   00000058   FF04A0E3           MOV      R0,#-16777216
   \   0000005C   01002DE9           PUSH     {R0}
   \   00000060   01002DE9           PUSH     {R0}
   \   00000064   0930A0E1           MOV      R3,R9
   \   00000068   102084E2           ADD      R2,R4,#+16
   \   0000006C   051085E2           ADD      R1,R5,#+5
   \   00000070   080084E2           ADD      R0,R4,#+8
   \   00000074   ........           BL       ??DrawOwnRect
    318          	DrawOwnRect( x + 9, y + 6, x + 15, y + 7, clBlack, clBlack );
   \   00000078   FF04A0E3           MOV      R0,#-16777216
   \   0000007C   01002DE9           PUSH     {R0}
   \   00000080   01002DE9           PUSH     {R0}
   \   00000084   077085E2           ADD      R7,R5,#+7
   \   00000088   0730A0E1           MOV      R3,R7
   \   0000008C   0F2084E2           ADD      R2,R4,#+15
   \   00000090   0910A0E1           MOV      R1,R9
   \   00000094   090084E2           ADD      R0,R4,#+9
   \   00000098   ........           BL       ??DrawOwnRect
    319          	DrawOwnRect( x + 10, y + 7, x + 14, y + 8, clBlack, clBlack );
   \   0000009C   FF04A0E3           MOV      R0,#-16777216
   \   000000A0   01002DE9           PUSH     {R0}
   \   000000A4   01002DE9           PUSH     {R0}
   \   000000A8   089085E2           ADD      R9,R5,#+8
   \   000000AC   0930A0E1           MOV      R3,R9
   \   000000B0   0E2084E2           ADD      R2,R4,#+14
   \   000000B4   0710A0E1           MOV      R1,R7
   \   000000B8   0A0084E2           ADD      R0,R4,#+10
   \   000000BC   ........           BL       ??DrawOwnRect
   \   000000C0   28D08DE2           ADD      SP,SP,#+40
    320          	DrawOwnRect( x + 11, y + 8, x + 13, y + 9, clBlack, clBlack );
   \   000000C4   FF04A0E3           MOV      R0,#-16777216
   \   000000C8   01002DE9           PUSH     {R0}
   \   000000CC   01002DE9           PUSH     {R0}
   \   000000D0   093085E2           ADD      R3,R5,#+9
   \   000000D4   0620A0E1           MOV      R2,R6
   \   000000D8   0910A0E1           MOV      R1,R9
   \   000000DC   0800A0E1           MOV      R0,R8
   \   000000E0   ........           BL       ??DrawOwnRect
    321          };
   \   000000E4   F383BDE8           POP      {R0,R1,R4-R9,PC}  ;; return
    322          

   \                                 In segment CODE, align 4, keep-with-next
    323          void CoordinatesGuiOnRedraw( DISP_OBJ_COORD* db, int, int, int )
    324          {
   \                     ??CoordinatesGuiOnRedraw:
   \   00000000   F04F2DE9           PUSH     {R4-R11,LR}
   \   00000004   0090A0E1           MOV      R9,R0
    325          	RECT rc_old, rc_new;
    326          	int font_old, gc_xx;
    327          	int font = FONT_E_20R;
   \   00000008   ........           LDR      R0,??DataTable14  ;; FONT_E_20R
   \   0000000C   50D04DE2           SUB      SP,SP,#+80
   \   00000010   008090E5           LDR      R8,[R0, #+0]
    328          	int fsize = 20;
    329          
    330          	GC* gc = get_DisplayGC();
   \   00000014   E50100EF           SWI      +485
   \   00000018   0040A0E1           MOV      R4,R0
    331          	wchar_t ustr[32];
    332          	int old_pen;
    333          
    334          	int scr_w = Display_GetWidth( 0 );
   \   0000001C   0000A0E3           MOV      R0,#+0
   \   00000020   590200EF           SWI      +601
   \   00000024   0050A0E1           MOV      R5,R0
    335          	int scr_h = Display_GetHeight( 0 );
   \   00000028   0000A0E3           MOV      R0,#+0
   \   0000002C   580200EF           SWI      +600
   \   00000030   0060A0E1           MOV      R6,R0
    336          
    337          	GC_GetRect( gc, &rc_old );
   \   00000034   08108DE2           ADD      R1,SP,#+8
   \   00000038   0400A0E1           MOV      R0,R4
   \   0000003C   E70100EF           SWI      +487
    338          	gc_xx = GC_GetXX( gc );
   \   00000040   0400A0E1           MOV      R0,R4
   \   00000044   E80100EF           SWI      +488
   \   00000048   0070A0E1           MOV      R7,R0
    339          	GC_SetXX( gc, 1 );
   \   0000004C   0110A0E3           MOV      R1,#+1
   \   00000050   0400A0E1           MOV      R0,R4
   \   00000054   E90100EF           SWI      +489
    340          
    341          	rc_new.x1 = 0;
   \   00000058   0000A0E3           MOV      R0,#+0
   \   0000005C   B000CDE1           STRH     R0,[SP, #+0]
    342          	rc_new.x2 = scr_w;
   \   00000060   B250CDE1           STRH     R5,[SP, #+2]
    343          	rc_new.y1 = 0;
   \   00000064   B400CDE1           STRH     R0,[SP, #+4]
    344          	rc_new.y2 = scr_h;
   \   00000068   B660CDE1           STRH     R6,[SP, #+6]
    345          	GC_ValidateRect( gc, &rc_new );
   \   0000006C   0D10A0E1           MOV      R1,SP
   \   00000070   0400A0E1           MOV      R0,R4
   \   00000074   EA0100EF           SWI      +490
    346          
    347          	font_old = SetFont( font );
   \   00000078   0800A0E1           MOV      R0,R8
   \   0000007C   F10100EF           SWI      +497
   \   00000080   0080A0E1           MOV      R8,R0
    348          	DrawRect( 0, 0, scr_w, scr_h, clWhite, clWhite );
   \   00000084   0000E0E3           MVN      R0,#+0
   \   00000088   01002DE9           PUSH     {R0}
   \   0000008C   01002DE9           PUSH     {R0}
   \   00000090   0630A0E1           MOV      R3,R6
   \   00000094   0520A0E1           MOV      R2,R5
   \   00000098   0010A0E3           MOV      R1,#+0
   \   0000009C   0000A0E3           MOV      R0,#+0
   \   000000A0   EC0100EF           SWI      +492
    349          	old_pen = GC_GetPenColor( gc );
   \   000000A4   0400A0E1           MOV      R0,R4
   \   000000A8   5F0200EF           SWI      +607
   \   000000AC   00A0A0E1           MOV      R10,R0
    350          	GC_SetPenColor( gc, colors[3] );
   \   000000B0   E8029FE5           LDR      R0,??CoordinatesGuiOnRedraw_1  ;; colors + 12
    351          
    352          	for ( int y_0 = 0; y_0 < scr_h; y_0 += 10 )
   \   000000B4   00B0A0E3           MOV      R11,#+0
   \   000000B8   001090E5           LDR      R1,[R0, #+0]
   \   000000BC   0400A0E1           MOV      R0,R4
   \   000000C0   600200EF           SWI      +608
   \   000000C4   010056E3           CMP      R6,#+1
   \   000000C8   08D08DE2           ADD      SP,SP,#+8
   \   000000CC   090000AA           BGE      ??CoordinatesGuiOnRedraw_2
   \   000000D0   0A0000EA           B        ??CoordinatesGuiOnRedraw_3
    353          	{
    354          		GC_DrawLine( gc, 0, y_0, scr_w, y_0 );
   \                     ??CoordinatesGuiOnRedraw_4:
   \   000000D4   0B00A0E1           MOV      R0,R11
   \   000000D8   01002DE9           PUSH     {R0}
   \   000000DC   0530A0E1           MOV      R3,R5
   \   000000E0   0B20A0E1           MOV      R2,R11
   \   000000E4   0010A0E3           MOV      R1,#+0
   \   000000E8   0400A0E1           MOV      R0,R4
   \   000000EC   620200EF           SWI      +610
    355          	}
   \   000000F0   0AB08BE2           ADD      R11,R11,#+10
   \   000000F4   04D08DE2           ADD      SP,SP,#+4
   \                     ??CoordinatesGuiOnRedraw_2:
   \   000000F8   06005BE1           CMP      R11,R6
   \   000000FC   F4FFFFBA           BLT      ??CoordinatesGuiOnRedraw_4
    356          
    357          	for ( int x_0 = 0; x_0 < scr_w; x_0 += 10 )
   \                     ??CoordinatesGuiOnRedraw_3:
   \   00000100   00B0A0E3           MOV      R11,#+0
   \   00000104   010055E3           CMP      R5,#+1
   \   00000108   090000AA           BGE      ??CoordinatesGuiOnRedraw_5
   \   0000010C   0A0000EA           B        ??CoordinatesGuiOnRedraw_6
    358          	{
    359          		GC_DrawLine( gc, x_0, 0, x_0, scr_h );
   \                     ??CoordinatesGuiOnRedraw_7:
   \   00000110   0600A0E1           MOV      R0,R6
   \   00000114   01002DE9           PUSH     {R0}
   \   00000118   0B30A0E1           MOV      R3,R11
   \   0000011C   0020A0E3           MOV      R2,#+0
   \   00000120   0B10A0E1           MOV      R1,R11
   \   00000124   0400A0E1           MOV      R0,R4
   \   00000128   620200EF           SWI      +610
    360          	}
   \   0000012C   0AB08BE2           ADD      R11,R11,#+10
   \   00000130   04D08DE2           ADD      SP,SP,#+4
   \                     ??CoordinatesGuiOnRedraw_5:
   \   00000134   05005BE1           CMP      R11,R5
   \   00000138   F4FFFFBA           BLT      ??CoordinatesGuiOnRedraw_7
    361          
    362          	GC_SetPenColor( gc, old_pen );
   \                     ??CoordinatesGuiOnRedraw_6:
   \   0000013C   0A10A0E1           MOV      R1,R10
   \   00000140   0400A0E1           MOV      R0,R4
   \   00000144   600200EF           SWI      +608
    363          
    364          	if ( db->type ) // Если нужен рект
   \   00000148   5B0F89E2           ADD      R0,R9,#+364
   \   0000014C   100090E5           LDR      R0,[R0, #+16]
   \   00000150   000050E3           CMP      R0,#+0
   \   00000154   3D00000A           BEQ      ??CoordinatesGuiOnRedraw_8
    365          	{
    366          		DrawOwnRect( db->old_rect.x1, db->old_rect.y1, db->old_rect.x2, db->old_rect.y2, 0xC0808080, 0x00000000 ); // Нарисуем старый рект
   \   00000158   0000A0E3           MOV      R0,#+0
   \   0000015C   01002DE9           PUSH     {R0}
   \   00000160   3C029FE5           LDR      R0,??CoordinatesGuiOnRedraw_1+0x4  ;; 0xffffffffc0808080
   \   00000164   5BAF89E2           ADD      R10,R9,#+364
   \   00000168   01002DE9           PUSH     {R0}
   \   0000016C   BE31DAE1           LDRH     R3,[R10, #+30]
   \   00000170   BA21DAE1           LDRH     R2,[R10, #+26]
   \   00000174   BC11DAE1           LDRH     R1,[R10, #+28]
   \   00000178   B801DAE1           LDRH     R0,[R10, #+24]
   \   0000017C   ........           BL       ??DrawOwnRect
    367          		if ( db->is_first_set )
   \   00000180   14009AE5           LDR      R0,[R10, #+20]
   \   00000184   08D08DE2           ADD      SP,SP,#+8
   \   00000188   000050E3           CMP      R0,#+0
   \   0000018C   2300000A           BEQ      ??CoordinatesGuiOnRedraw_9
    368          		{
    369          			DrawOwnRect( db->x, db->y, db->x2, db->y2, clBlack, 0x00000000 );
   \   00000190   0000A0E3           MOV      R0,#+0
   \   00000194   01002DE9           PUSH     {R0}
   \   00000198   FF04A0E3           MOV      R0,#-16777216
   \   0000019C   01002DE9           PUSH     {R0}
   \   000001A0   0C309AE5           LDR      R3,[R10, #+12]
   \   000001A4   08209AE5           LDR      R2,[R10, #+8]
   \   000001A8   04109AE5           LDR      R1,[R10, #+4]
   \   000001AC   00009AE5           LDR      R0,[R10, #+0]
   \   000001B0   ........           BL       ??DrawOwnRect
    370          			if ( db->need_str )
   \   000001B4   24009AE5           LDR      R0,[R10, #+36]
   \   000001B8   08D08DE2           ADD      SP,SP,#+8
   \   000001BC   000050E3           CMP      R0,#+0
   \   000001C0   3900000A           BEQ      ??CoordinatesGuiOnRedraw_10
    371          			{
    372          				snwprintf( ustr, MAXELEMS( ustr ) - 1, L"%d, %d, %d, %d", db->x2, db->y2, db->x, db->y );
   \   000001C4   04009AE5           LDR      R0,[R10, #+4]
   \   000001C8   01002DE9           PUSH     {R0}
   \   000001CC   00009AE5           LDR      R0,[R10, #+0]
   \   000001D0   01002DE9           PUSH     {R0}
   \   000001D4   0C009AE5           LDR      R0,[R10, #+12]
   \   000001D8   01002DE9           PUSH     {R0}
   \   000001DC   08309AE5           LDR      R3,[R10, #+8]
   \                     ??CoordinatesGuiOnRedraw_11:
   \   000001E0   C0219FE5           LDR      R2,??CoordinatesGuiOnRedraw_1+0x8  ;; `?<Constant L"\\x25\\x64\\x2c\\x20\\x25\\x64\\x2c\\x20\\`
   \   000001E4   1F10A0E3           MOV      R1,#+31
   \   000001E8   1C008DE2           ADD      R0,SP,#+28
   \   000001EC   150100EF           SWI      +277
    373          				TextID_Destroy( db->str_id );
   \   000001F0   20009AE5           LDR      R0,[R10, #+32]
   \   000001F4   610100EF           SWI      +353
    374          				db->str_id = TextID_Create( ustr, ENC_UCS2, TEXTID_ANY_LEN );
   \   000001F8   FF20A0E3           MOV      R2,#+255
   \   000001FC   FF2C82E3           ORR      R2,R2,#0xFF00
   \   00000200   0010A0E3           MOV      R1,#+0
   \   00000204   1C008DE2           ADD      R0,SP,#+28
   \   00000208   5D0100EF           SWI      +349
   \   0000020C   20008AE5           STR      R0,[R10, #+32]
    375          				db->need_str = 0;
   \   00000210   0000A0E3           MOV      R0,#+0
   \   00000214   24008AE5           STR      R0,[R10, #+36]
   \   00000218   0CD08DE2           ADD      SP,SP,#+12
   \   0000021C   220000EA           B        ??CoordinatesGuiOnRedraw_10
    376          			}
    377          		}
    378          		else
    379          		{
    380          			if ( db->need_str )
   \                     ??CoordinatesGuiOnRedraw_9:
   \   00000220   5B0F89E2           ADD      R0,R9,#+364
   \   00000224   240090E5           LDR      R0,[R0, #+36]
   \   00000228   000050E3           CMP      R0,#+0
   \   0000022C   1E00000A           BEQ      ??CoordinatesGuiOnRedraw_10
    381          			{
    382          				snwprintf( ustr, MAXELEMS( ustr ) - 1, L"%d, %d, %d, %d", db->x, db->y, db->x2, db->y2 );
   \   00000230   0C009AE5           LDR      R0,[R10, #+12]
   \   00000234   01002DE9           PUSH     {R0}
   \   00000238   08009AE5           LDR      R0,[R10, #+8]
   \   0000023C   01002DE9           PUSH     {R0}
   \   00000240   04009AE5           LDR      R0,[R10, #+4]
   \   00000244   01002DE9           PUSH     {R0}
   \   00000248   00309AE5           LDR      R3,[R10, #+0]
   \   0000024C   E3FFFFEA           B        ??CoordinatesGuiOnRedraw_11
    383          				TextID_Destroy( db->str_id );
    384          				db->str_id = TextID_Create( ustr, ENC_UCS2, TEXTID_ANY_LEN );
    385          				db->need_str = 0;
    386          			}
    387          		}
    388          	}
    389          	else
    390          	{
    391          		if ( db->need_str )
   \                     ??CoordinatesGuiOnRedraw_8:
   \   00000250   5B0F89E2           ADD      R0,R9,#+364
   \   00000254   240090E5           LDR      R0,[R0, #+36]
   \   00000258   000050E3           CMP      R0,#+0
   \   0000025C   1200000A           BEQ      ??CoordinatesGuiOnRedraw_10
    392          		{
    393          			snwprintf( ustr, MAXELEMS( ustr ) - 1, L"%d, %d", db->x, db->y );
   \   00000260   44219FE5           LDR      R2,??CoordinatesGuiOnRedraw_1+0xC  ;; `?<Constant L"\\x25\\x64\\x2c\\x20\\x25\\x64\\x2c\\x20\\` + 32
   \   00000264   5BAF89E2           ADD      R10,R9,#+364
   \   00000268   04009AE5           LDR      R0,[R10, #+4]
   \   0000026C   1F10A0E3           MOV      R1,#+31
   \   00000270   01002DE9           PUSH     {R0}
   \   00000274   00309AE5           LDR      R3,[R10, #+0]
   \   00000278   14008DE2           ADD      R0,SP,#+20
   \   0000027C   150100EF           SWI      +277
    394          			TextID_Destroy( db->str_id );
   \   00000280   20009AE5           LDR      R0,[R10, #+32]
   \   00000284   610100EF           SWI      +353
    395          			db->str_id = TextID_Create( ustr, ENC_UCS2, TEXTID_ANY_LEN );
   \   00000288   FF20A0E3           MOV      R2,#+255
   \   0000028C   FF2C82E3           ORR      R2,R2,#0xFF00
   \   00000290   0010A0E3           MOV      R1,#+0
   \   00000294   14008DE2           ADD      R0,SP,#+20
   \   00000298   5D0100EF           SWI      +349
   \   0000029C   20008AE5           STR      R0,[R10, #+32]
    396          			db->need_str = 0;
   \   000002A0   0000A0E3           MOV      R0,#+0
   \   000002A4   24008AE5           STR      R0,[R10, #+36]
   \   000002A8   04D08DE2           ADD      SP,SP,#+4
    397          		}
    398          	}
    399          	DrawString( db->str_id, 0, 3, scr_h - fsize - 2, scr_w - 4, scr_h - 1, 0, 0, clBlack, 0x00000000 );
   \                     ??CoordinatesGuiOnRedraw_10:
   \   000002AC   0000A0E3           MOV      R0,#+0
   \   000002B0   01002DE9           PUSH     {R0}
   \   000002B4   5BAF89E2           ADD      R10,R9,#+364
   \   000002B8   163046E2           SUB      R3,R6,#+22
   \   000002BC   0320A0E3           MOV      R2,#+3
   \   000002C0   FF04A0E3           MOV      R0,#-16777216
   \   000002C4   01002DE9           PUSH     {R0}
   \   000002C8   0010A0E3           MOV      R1,#+0
   \   000002CC   0000A0E3           MOV      R0,#+0
   \   000002D0   01002DE9           PUSH     {R0}
   \   000002D4   01002DE9           PUSH     {R0}
   \   000002D8   010046E2           SUB      R0,R6,#+1
   \   000002DC   01002DE9           PUSH     {R0}
   \   000002E0   040045E2           SUB      R0,R5,#+4
   \   000002E4   01002DE9           PUSH     {R0}
   \   000002E8   20009AE5           LDR      R0,[R10, #+32]
   \   000002EC   ED0100EF           SWI      +493
    400          
    401          	old_pen = GC_GetPenColor( gc );
   \   000002F0   0400A0E1           MOV      R0,R4
   \   000002F4   5F0200EF           SWI      +607
   \   000002F8   0090A0E1           MOV      R9,R0
    402          	GC_SetPenColor( gc, clBlack );
   \   000002FC   FF14A0E3           MOV      R1,#-16777216
   \   00000300   0400A0E1           MOV      R0,R4
   \   00000304   600200EF           SWI      +608
    403          	GC_DrawLine( gc, db->x - 3, db->y, db->x + 3, db->y );
   \   00000308   04209AE5           LDR      R2,[R10, #+4]
   \   0000030C   00009AE5           LDR      R0,[R10, #+0]
   \   00000310   0210A0E1           MOV      R1,R2
   \   00000314   02002DE9           PUSH     {R1}
   \   00000318   033080E2           ADD      R3,R0,#+3
   \   0000031C   031040E2           SUB      R1,R0,#+3
   \   00000320   0400A0E1           MOV      R0,R4
   \   00000324   620200EF           SWI      +610
    404          	GC_DrawLine( gc, db->x, db->y - 3, db->x, db->y + 3 );
   \   00000328   04009AE5           LDR      R0,[R10, #+4]
   \   0000032C   00109AE5           LDR      R1,[R10, #+0]
   \   00000330   032080E2           ADD      R2,R0,#+3
   \   00000334   04002DE9           PUSH     {R2}
   \   00000338   0130A0E1           MOV      R3,R1
   \   0000033C   032040E2           SUB      R2,R0,#+3
   \   00000340   0400A0E1           MOV      R0,R4
   \   00000344   620200EF           SWI      +610
    405          
    406          	if ( BookObj_GetDisplayOrientation( db->mb ) == 0 )
   \   00000348   2C009AE5           LDR      R0,[R10, #+44]
   \   0000034C   190300EF           SWI      +793
   \   00000350   000050E3           CMP      R0,#+0
   \   00000354   20D08DE2           ADD      SP,SP,#+32
   \   00000358   FF24A0E3           MOV      R2,#-16777216
    407          	{
    408          		DrawArrow( scr_w - 19, scr_h - 13, clBlack );
   \   0000035C   0D104602           SUBEQ    R1,R6,#+13
    409          	}
    410          	else
    411          	{
    412          		DrawArrow( scr_w - 19, 3, clBlack );
   \   00000360   0310A013           MOVNE    R1,#+3
   \   00000364   130045E2           SUB      R0,R5,#+19
   \   00000368   ........           BL       ??DrawArrow
    413          	}
    414          	GC_SetPenColor( gc, old_pen );
   \   0000036C   0910A0E1           MOV      R1,R9
   \   00000370   0400A0E1           MOV      R0,R4
   \   00000374   600200EF           SWI      +608
    415          	GC_ValidateRect( gc, &rc_old );
   \   00000378   08108DE2           ADD      R1,SP,#+8
   \   0000037C   0400A0E1           MOV      R0,R4
   \   00000380   EA0100EF           SWI      +490
    416          	SetFont( font_old );
   \   00000384   0800A0E1           MOV      R0,R8
   \   00000388   F10100EF           SWI      +497
    417          	GC_SetXX( gc, gc_xx );
   \   0000038C   0710A0E1           MOV      R1,R7
   \   00000390   0400A0E1           MOV      R0,R4
   \   00000394   E90100EF           SWI      +489
    418          }
   \   00000398   50D08DE2           ADD      SP,SP,#+80
   \   0000039C   F08FBDE8           POP      {R4-R11,PC}      ;; return
   \                     ??CoordinatesGuiOnRedraw_1:
   \   000003A0   ........           DC32     colors + 12
   \   000003A4   808080C0           DC32     0xffffffffc0808080
   \   000003A8   ........           DC32     `?<Constant L"\\x25\\x64\\x2c\\x20\\x25\\x64\\x2c\\x20\\`
   \   000003AC   ........           DC32     `?<Constant L"\\x25\\x64\\x2c\\x20\\x25\\x64\\x2c\\x20\\` + 32
    419          

   \                                 In segment CODE, align 4, keep-with-next
    420          void CoordinatesGuiOnKey( DISP_OBJ_COORD* db, int key, int, int repeat, int type )
    421          {
   \                     ??CoordinatesGuiOnKey:
   \   00000000   F0412DE9           PUSH     {R4-R8,LR}
   \   00000004   18609DE5           LDR      R6,[SP, #+24]
   \   00000008   0040A0E1           MOV      R4,R0
    422          	if ( type == KBD_SHORT_RELEASE || type == KBD_REPEAT )
   \   0000000C   ........           LDR      R0,??DataTable17  ;; KBD_SHORT_RELEASE
   \   00000010   0150A0E1           MOV      R5,R1
   \   00000014   000090E5           LDR      R0,[R0, #+0]
   \   00000018   0370A0E1           MOV      R7,R3
   \   0000001C   000056E1           CMP      R6,R0
   \   00000020   0300000A           BEQ      ??CoordinatesGuiOnKey_1
   \   00000024   ........           LDR      R0,??DataTable18  ;; KBD_REPEAT
   \   00000028   000090E5           LDR      R0,[R0, #+0]
   \   0000002C   000056E1           CMP      R6,R0
   \   00000030   AA00001A           BNE      ??CoordinatesGuiOnKey_2
    423          	{
    424          		int scr_w = Display_GetWidth( 0 );
   \                     ??CoordinatesGuiOnKey_1:
   \   00000034   0000A0E3           MOV      R0,#+0
   \   00000038   590200EF           SWI      +601
   \   0000003C   0080A0E1           MOV      R8,R0
    425          		int scr_h = Display_GetHeight( 0 );
   \   00000040   0000A0E3           MOV      R0,#+0
   \   00000044   580200EF           SWI      +600
    426          
    427          		if ( type == KBD_SHORT_RELEASE )
   \   00000048   ........           LDR      R1,??DataTable17  ;; KBD_SHORT_RELEASE
   \   0000004C   001091E5           LDR      R1,[R1, #+0]
   \   00000050   010056E1           CMP      R6,R1
    428          			db->cstep = 1;
   \   00000054   0110A003           MOVEQ    R1,#+1
   \   00000058   0600000A           BEQ      ??CoordinatesGuiOnKey_3
    429          		else
    430          			if ( type == KBD_REPEAT && repeat>10 )
   \   0000005C   ........           LDR      R1,??DataTable18  ;; KBD_REPEAT
   \   00000060   001091E5           LDR      R1,[R1, #+0]
   \   00000064   010056E1           CMP      R6,R1
   \   00000068   0300001A           BNE      ??CoordinatesGuiOnKey_4
   \   0000006C   0B0057E3           CMP      R7,#+11
   \   00000070   010000BA           BLT      ??CoordinatesGuiOnKey_4
    431          				db->cstep = 8;
   \   00000074   0810A0E3           MOV      R1,#+8
   \                     ??CoordinatesGuiOnKey_3:
   \   00000078   941184E5           STR      R1,[R4, #+404]
    432          
    433          		if ( key == KEY_DIGITAL_0 + 1 )
   \                     ??CoordinatesGuiOnKey_4:
   \   0000007C   ........           LDR      R1,??DataTable30  ;; KEY_DIGITAL_0
   \   00000080   001091E5           LDR      R1,[R1, #+0]
   \   00000084   011081E2           ADD      R1,R1,#+1
   \   00000088   010055E1           CMP      R5,R1
   \   0000008C   0C00001A           BNE      ??CoordinatesGuiOnKey_5
    434          		{
    435          			if ( ( db->x -= db->cstep ) < 0 )
   \   00000090   941194E5           LDR      R1,[R4, #+404]
   \   00000094   6C2194E5           LDR      R2,[R4, #+364]
   \   00000098   011052E0           SUBS     R1,R2,R1
   \   0000009C   6C1184E5           STR      R1,[R4, #+364]
    436          				db->x = 0;
   \   000000A0   0000A043           MOVMI    R0,#+0
   \   000000A4   6C018445           STRMI    R0,[R4, #+364]
    437          			if ( ( db->y -= db->cstep ) < 0 )
   \                     ??CoordinatesGuiOnKey_6:
   \   000000A8   702194E5           LDR      R2,[R4, #+368]
   \   000000AC   941194E5           LDR      R1,[R4, #+404]
   \   000000B0   010052E0           SUBS     R0,R2,R1
   \   000000B4   700184E5           STR      R0,[R4, #+368]
   \   000000B8   6D00005A           BPL      ??CoordinatesGuiOnKey_7
    438          				db->y = 0;
   \   000000BC   0000A0E3           MOV      R0,#+0
   \   000000C0   6A0000EA           B        ??CoordinatesGuiOnKey_8
    439          		}
    440          		else if ( key == KEY_DIGITAL_0 + 2 || key == KEY_UP )
   \                     ??CoordinatesGuiOnKey_5:
   \   000000C4   ........           LDR      R1,??DataTable30  ;; KEY_DIGITAL_0
   \   000000C8   001091E5           LDR      R1,[R1, #+0]
   \   000000CC   021081E2           ADD      R1,R1,#+2
   \   000000D0   010055E1           CMP      R5,R1
   \   000000D4   F3FFFF0A           BEQ      ??CoordinatesGuiOnKey_6
   \   000000D8   ........           LDR      R1,??DataTable21  ;; KEY_UP
   \   000000DC   001091E5           LDR      R1,[R1, #+0]
   \   000000E0   010055E1           CMP      R5,R1
   \   000000E4   0000001A           BNE      ??CoordinatesGuiOnKey_9
    441          		{
    442          			if ( ( db->y -= db->cstep ) < 0 )
   \                     ??CoordinatesGuiOnKey_10:
   \   000000E8   EEFFFFEA           B        ??CoordinatesGuiOnKey_6
    443          				db->y = 0;
    444          		}
    445          		else if ( key == KEY_DIGITAL_0 + 3 )
   \                     ??CoordinatesGuiOnKey_9:
   \   000000EC   ........           LDR      R1,??DataTable30  ;; KEY_DIGITAL_0
   \   000000F0   001091E5           LDR      R1,[R1, #+0]
   \   000000F4   031081E2           ADD      R1,R1,#+3
   \   000000F8   010055E1           CMP      R5,R1
   \   000000FC   0C00001A           BNE      ??CoordinatesGuiOnKey_11
    446          		{
    447          			if ( ( db->x += db->cstep )>scr_w ) db->x = scr_w;
   \   00000100   941194E5           LDR      R1,[R4, #+404]
   \   00000104   6C2194E5           LDR      R2,[R4, #+364]
   \   00000108   021081E0           ADD      R1,R1,R2
   \   0000010C   6C1184E5           STR      R1,[R4, #+364]
   \   00000110   010058E1           CMP      R8,R1
   \   00000114   6C8184B5           STRLT    R8,[R4, #+364]
    448          			if ( ( db->y -= db->cstep ) < 0 ) db->y = 0;
   \   00000118   702194E5           LDR      R2,[R4, #+368]
   \   0000011C   941194E5           LDR      R1,[R4, #+404]
   \   00000120   010052E0           SUBS     R0,R2,R1
   \   00000124   700184E5           STR      R0,[R4, #+368]
   \   00000128   5100005A           BPL      ??CoordinatesGuiOnKey_7
   \   0000012C   0000A0E3           MOV      R0,#+0
   \   00000130   4E0000EA           B        ??CoordinatesGuiOnKey_8
    449          		}
    450          		else if ( key == KEY_DIGITAL_0 + 4 || key == KEY_LEFT )
   \                     ??CoordinatesGuiOnKey_11:
   \   00000134   ........           LDR      R1,??DataTable30  ;; KEY_DIGITAL_0
   \   00000138   001091E5           LDR      R1,[R1, #+0]
   \   0000013C   041081E2           ADD      R1,R1,#+4
   \   00000140   010055E1           CMP      R5,R1
   \   00000144   0300000A           BEQ      ??CoordinatesGuiOnKey_12
   \   00000148   ........           LDR      R1,??DataTable24  ;; KEY_LEFT
   \   0000014C   001091E5           LDR      R1,[R1, #+0]
   \   00000150   010055E1           CMP      R5,R1
   \   00000154   0700001A           BNE      ??CoordinatesGuiOnKey_13
    451          		{
    452          			if ( ( db->x -= db->cstep ) < 0 ) db->x = 0;
   \                     ??CoordinatesGuiOnKey_12:
   \   00000158   941194E5           LDR      R1,[R4, #+404]
   \   0000015C   6C2194E5           LDR      R2,[R4, #+364]
   \   00000160   011052E0           SUBS     R1,R2,R1
   \   00000164   6C1184E5           STR      R1,[R4, #+364]
   \   00000168   4100005A           BPL      ??CoordinatesGuiOnKey_7
   \   0000016C   0000A0E3           MOV      R0,#+0
   \   00000170   6C0184E5           STR      R0,[R4, #+364]
   \   00000174   3E0000EA           B        ??CoordinatesGuiOnKey_7
    453          		}
    454          		else if ( key == KEY_DIGITAL_0 + 6 || key == KEY_RIGHT )
   \                     ??CoordinatesGuiOnKey_13:
   \   00000178   ........           LDR      R1,??DataTable30  ;; KEY_DIGITAL_0
   \   0000017C   001091E5           LDR      R1,[R1, #+0]
   \   00000180   061081E2           ADD      R1,R1,#+6
   \   00000184   010055E1           CMP      R5,R1
   \   00000188   0300000A           BEQ      ??CoordinatesGuiOnKey_14
   \   0000018C   ........           LDR      R1,??DataTable26  ;; KEY_RIGHT
   \   00000190   001091E5           LDR      R1,[R1, #+0]
   \   00000194   010055E1           CMP      R5,R1
   \   00000198   0700001A           BNE      ??CoordinatesGuiOnKey_15
    455          		{
    456          			if ( ( db->x += db->cstep )>scr_w )
   \                     ??CoordinatesGuiOnKey_14:
   \   0000019C   941194E5           LDR      R1,[R4, #+404]
   \   000001A0   6C2194E5           LDR      R2,[R4, #+364]
   \   000001A4   021081E0           ADD      R1,R1,R2
   \   000001A8   6C1184E5           STR      R1,[R4, #+364]
   \   000001AC   010058E1           CMP      R8,R1
   \   000001B0   2F0000AA           BGE      ??CoordinatesGuiOnKey_7
    457          				db->x = scr_w;
   \   000001B4   6C8184E5           STR      R8,[R4, #+364]
   \   000001B8   2D0000EA           B        ??CoordinatesGuiOnKey_7
    458          		}
    459          		else if ( key == KEY_DIGITAL_0 + 7 )
   \                     ??CoordinatesGuiOnKey_15:
   \   000001BC   ........           LDR      R1,??DataTable30  ;; KEY_DIGITAL_0
   \   000001C0   001091E5           LDR      R1,[R1, #+0]
   \   000001C4   071081E2           ADD      R1,R1,#+7
   \   000001C8   010055E1           CMP      R5,R1
   \   000001CC   0C00001A           BNE      ??CoordinatesGuiOnKey_16
    460          		{
    461          			if ( ( db->x -= db->cstep ) < 0 ) db->x = 0;
   \   000001D0   941194E5           LDR      R1,[R4, #+404]
   \   000001D4   6C2194E5           LDR      R2,[R4, #+364]
   \   000001D8   011052E0           SUBS     R1,R2,R1
   \   000001DC   6C1184E5           STR      R1,[R4, #+364]
   \   000001E0   0010A043           MOVMI    R1,#+0
   \   000001E4   6C118445           STRMI    R1,[R4, #+364]
    462          			if ( ( db->y += db->cstep )>scr_h ) db->y = scr_h;
   \                     ??CoordinatesGuiOnKey_17:
   \   000001E8   702194E5           LDR      R2,[R4, #+368]
   \   000001EC   941194E5           LDR      R1,[R4, #+404]
   \   000001F0   021081E0           ADD      R1,R1,R2
   \   000001F4   701184E5           STR      R1,[R4, #+368]
   \   000001F8   010050E1           CMP      R0,R1
   \   000001FC   1C0000AA           BGE      ??CoordinatesGuiOnKey_7
   \   00000200   1A0000EA           B        ??CoordinatesGuiOnKey_8
    463          		}
    464          		else if ( key == KEY_DIGITAL_0 + 8 || key == KEY_DOWN )
   \                     ??CoordinatesGuiOnKey_16:
   \   00000204   ........           LDR      R1,??DataTable30  ;; KEY_DIGITAL_0
   \   00000208   001091E5           LDR      R1,[R1, #+0]
   \   0000020C   081081E2           ADD      R1,R1,#+8
   \   00000210   010055E1           CMP      R5,R1
   \   00000214   F3FFFF0A           BEQ      ??CoordinatesGuiOnKey_17
   \   00000218   ........           LDR      R1,??DataTable29  ;; KEY_DOWN
   \   0000021C   001091E5           LDR      R1,[R1, #+0]
   \   00000220   010055E1           CMP      R5,R1
   \   00000224   0000001A           BNE      ??CoordinatesGuiOnKey_18
    465          		{
    466          			if ( ( db->y += db->cstep )>scr_h ) db->y = scr_h;
   \                     ??CoordinatesGuiOnKey_19:
   \   00000228   EEFFFFEA           B        ??CoordinatesGuiOnKey_17
    467          		}
    468          		else if ( key == KEY_DIGITAL_0 + 9 )
   \                     ??CoordinatesGuiOnKey_18:
   \   0000022C   ........           LDR      R1,??DataTable30  ;; KEY_DIGITAL_0
   \   00000230   001091E5           LDR      R1,[R1, #+0]
   \   00000234   091081E2           ADD      R1,R1,#+9
   \   00000238   010055E1           CMP      R5,R1
   \   0000023C   0C00001A           BNE      ??CoordinatesGuiOnKey_7
    469          		{
    470          			if ( ( db->x += db->cstep )>scr_w ) db->x = scr_w;
   \   00000240   941194E5           LDR      R1,[R4, #+404]
   \   00000244   6C2194E5           LDR      R2,[R4, #+364]
   \   00000248   021081E0           ADD      R1,R1,R2
   \   0000024C   6C1184E5           STR      R1,[R4, #+364]
   \   00000250   010058E1           CMP      R8,R1
   \   00000254   6C8184B5           STRLT    R8,[R4, #+364]
    471          			if ( ( db->y += db->cstep )>scr_h ) db->y = scr_h;
   \   00000258   702194E5           LDR      R2,[R4, #+368]
   \   0000025C   941194E5           LDR      R1,[R4, #+404]
   \   00000260   021081E0           ADD      R1,R1,R2
   \   00000264   701184E5           STR      R1,[R4, #+368]
   \   00000268   010050E1           CMP      R0,R1
   \   0000026C   000000AA           BGE      ??CoordinatesGuiOnKey_7
   \                     ??CoordinatesGuiOnKey_8:
   \   00000270   700184E5           STR      R0,[R4, #+368]
    472          		}
    473          		db->need_str = 1;
   \                     ??CoordinatesGuiOnKey_7:
   \   00000274   0100A0E3           MOV      R0,#+1
   \   00000278   900184E5           STR      R0,[R4, #+400]
    474          
    475          		if ( key == KEY_ENTER || key == KEY_LEFT_SOFT )
   \   0000027C   80009FE5           LDR      R0,??CoordinatesGuiOnKey_20  ;; KEY_ENTER
   \   00000280   000090E5           LDR      R0,[R0, #+0]
   \   00000284   000055E1           CMP      R5,R0
   \   00000288   0300000A           BEQ      ??CoordinatesGuiOnKey_21
   \   0000028C   74009FE5           LDR      R0,??CoordinatesGuiOnKey_20+0x4  ;; KEY_LEFT_SOFT
   \   00000290   000090E5           LDR      R0,[R0, #+0]
   \   00000294   000055E1           CMP      R5,R0
   \   00000298   0200001A           BNE      ??CoordinatesGuiOnKey_22
    476          			OnOkCoordinatesEdit( db->mb, 0 );
   \                     ??CoordinatesGuiOnKey_21:
   \   0000029C   980194E5           LDR      R0,[R4, #+408]
   \   000002A0   0010A0E3           MOV      R1,#+0
   \   000002A4   ........           BL       ??OnOkCoordinatesEdit
    477          
    478          		if ( key == KEY_ESC )
   \                     ??CoordinatesGuiOnKey_22:
   \   000002A8   5C009FE5           LDR      R0,??CoordinatesGuiOnKey_20+0x8  ;; KEY_ESC
   \   000002AC   000090E5           LDR      R0,[R0, #+0]
   \   000002B0   000055E1           CMP      R5,R0
   \   000002B4   0200001A           BNE      ??CoordinatesGuiOnKey_23
    479          			OnBackCoordinatesEdit( db->mb, 0 );
   \   000002B8   980194E5           LDR      R0,[R4, #+408]
   \   000002BC   0010A0E3           MOV      R1,#+0
   \   000002C0   ........           BL       ??OnBackCoordinatesEdit
    480          
    481          		if ( key == KEY_RIGHT_SOFT )
   \                     ??CoordinatesGuiOnKey_23:
   \   000002C4   44009FE5           LDR      R0,??CoordinatesGuiOnKey_20+0xC  ;; KEY_RIGHT_SOFT
   \   000002C8   000090E5           LDR      R0,[R0, #+0]
   \   000002CC   000055E1           CMP      R5,R0
   \   000002D0   0200001A           BNE      ??CoordinatesGuiOnKey_2
    482          			OnOrientationChangeCoordinatesEdit( db->mb, 0 );
   \   000002D4   980194E5           LDR      R0,[R4, #+408]
   \   000002D8   0010A0E3           MOV      R1,#+0
   \   000002DC   ........           BL       ??OnOrientationChangeCoordinatesEdit
    483          	}
    484          
    485          	if ( type == KBD_LONG_RELEASE )
   \                     ??CoordinatesGuiOnKey_2:
   \   000002E0   ........           LDR      R0,??DataTable31  ;; KBD_LONG_RELEASE
    486          		db->cstep = 1;
    487          
    488          	DispObject_InvalidateRect( db, 0 );
   \   000002E4   0010A0E3           MOV      R1,#+0
   \   000002E8   000090E5           LDR      R0,[R0, #+0]
   \   000002EC   000056E1           CMP      R6,R0
   \   000002F0   0100A003           MOVEQ    R0,#+1
   \   000002F4   94018405           STREQ    R0,[R4, #+404]
   \   000002F8   0400A0E1           MOV      R0,R4
   \   000002FC   EF0100EF           SWI      +495
    489          }
   \   00000300   F081BDE8           POP      {R4-R8,PC}       ;; return
   \                     ??CoordinatesGuiOnKey_20:
   \   00000304   ........           DC32     KEY_ENTER
   \   00000308   ........           DC32     KEY_LEFT_SOFT
   \   0000030C   ........           DC32     KEY_ESC
   \   00000310   ........           DC32     KEY_RIGHT_SOFT
    490          
    491          
    492          

   \                                 In segment CODE, align 4, keep-with-next
    493          void EditCoordinatesGui_constr( DISP_DESC* desc )
    494          {
    495          	DISP_DESC_SetName( desc, CooordinatesGuiName );
   \                     ??EditCoordinatesGui_constr:
   \   00000000   48109FE5           LDR      R1,??EditCoordinatesGui_constr_1  ;; CooordinatesGuiName
   \   00000004   10402DE9           PUSH     {R4,LR}
   \   00000008   0040A0E1           MOV      R4,R0
   \   0000000C   200200EF           SWI      +544
    496          	DISP_DESC_SetSize( desc, sizeof( DISP_OBJ_COORD ) );
   \   00000010   671FA0E3           MOV      R1,#+412
   \   00000014   0400A0E1           MOV      R0,R4
   \   00000018   220200EF           SWI      +546
    497          	DISP_DESC_SetOnCreate( desc, ( DISP_OBJ_ONCREATE_METHOD )CoordinatesGuiOnCreate );
   \   0000001C   30109FE5           LDR      R1,??EditCoordinatesGui_constr_1+0x4  ;; ??CoordinatesGuiOnCreate
   \   00000020   0400A0E1           MOV      R0,R4
   \   00000024   240200EF           SWI      +548
    498          	DISP_DESC_SetOnClose( desc, ( DISP_OBJ_ONCLOSE_METHOD )CoordinatesGuiOnClose );
   \   00000028   28109FE5           LDR      R1,??EditCoordinatesGui_constr_1+0x8  ;; ??CoordinatesGuiOnClose
   \   0000002C   0400A0E1           MOV      R0,R4
   \   00000030   260200EF           SWI      +550
    499          	DISP_DESC_SetOnRedraw( desc, ( DISP_OBJ_ONREDRAW_METHOD )CoordinatesGuiOnRedraw );
   \   00000034   20109FE5           LDR      R1,??EditCoordinatesGui_constr_1+0xC  ;; ??CoordinatesGuiOnRedraw
   \   00000038   0400A0E1           MOV      R0,R4
   \   0000003C   280200EF           SWI      +552
    500          	DISP_DESC_SetOnKey( desc, ( DISP_OBJ_ONKEY_METHOD )CoordinatesGuiOnKey );
   \   00000040   18109FE5           LDR      R1,??EditCoordinatesGui_constr_1+0x10  ;; ??CoordinatesGuiOnKey
   \   00000044   0400A0E1           MOV      R0,R4
   \   00000048   2A0200EF           SWI      +554
    501          }
   \   0000004C   1080BDE8           POP      {R4,PC}          ;; return
   \                     ??EditCoordinatesGui_constr_1:
   \   00000050   ........           DC32     CooordinatesGuiName
   \   00000054   ........           DC32     ??CoordinatesGuiOnCreate
   \   00000058   ........           DC32     ??CoordinatesGuiOnClose
   \   0000005C   ........           DC32     ??CoordinatesGuiOnRedraw
   \   00000060   ........           DC32     ??CoordinatesGuiOnKey
    502          

   \                                 In segment CODE, align 4, keep-with-next
    503          void EditCoordinatesGui_destr( GUI* gui )
    504          {
    505          }
   \                     ??EditCoordinatesGui_destr:
   \   00000000   1EFF2FE1           BX       LR               ;; return
    506          

   \                                 In segment CODE, align 4, keep-with-next
    507          void OnOrientationChangeCoordinatesEdit( BOOK* bk, void* )
    508          {
   \                     ??OnOrientationChangeCoordinatesEdit:
   \   00000000   10402DE9           PUSH     {R4,LR}
   \   00000004   0040A0E1           MOV      R4,R0
    509          	BookObj_SetDisplayOrientation( bk, BookObj_GetDisplayOrientation( bk ) ? 0 : 1 );
   \   00000008   190300EF           SWI      +793
   \   0000000C   000050E3           CMP      R0,#+0
   \   00000010   0010A013           MOVNE    R1,#+0
   \   00000014   0110A003           MOVEQ    R1,#+1
   \   00000018   0400A0E1           MOV      R0,R4
   \   0000001C   1A0300EF           SWI      +794
    510          };
   \   00000020   1080BDE8           POP      {R4,PC}          ;; return
    511          

   \                                 In segment CODE, align 4, keep-with-next
    512          void OnBackCoordinatesEdit( BOOK* bk, void* )
    513          {
   \                     ??OnBackCoordinatesEdit:
   \   00000000   10402DE9           PUSH     {R4,LR}
   \   00000004   0040A0E1           MOV      R4,R0
    514          	MyBOOK* myBook = (MyBOOK*) bk;
    515          	DISP_OBJ_COORD* disp_obj = (DISP_OBJ_COORD*) GUIObject_GetDispObject( myBook->coord );
   \   00000008   2C0094E5           LDR      R0,[R4, #+44]
   \   0000000C   680100EF           SWI      +360
    516          	int f = 0;
    517          
    518          	if ( disp_obj->type )
   \   00000010   7C1190E5           LDR      R1,[R0, #+380]
   \   00000014   000051E3           CMP      R1,#+0
    519          	{
    520          		if ( disp_obj->is_first_set )
   \   00000018   80119015           LDRNE    R1,[R0, #+384]
   \   0000001C   00005113           CMPNE    R1,#+0
   \   00000020   0300000A           BEQ      ??OnBackCoordinatesEdit_1
    521          		{
    522          			disp_obj->is_first_set = 0;
   \   00000024   0010A0E3           MOV      R1,#+0
   \   00000028   801180E5           STR      R1,[R0, #+384]
    523          			f = 1;
    524          			DispObject_InvalidateRect( disp_obj, 0 );
   \   0000002C   EF0100EF           SWI      +495
   \   00000030   1080BDE8           POP      {R4,PC}
    525          		}
   \                     ??OnBackCoordinatesEdit_1:
   \   00000034   0400A0E1           MOV      R0,R4
   \   00000038   1A0300EF           SWI      +794
    526          	}
    527          
    528          	if ( !f )
    529          	{
    530          		BookObj_SetDisplayOrientation( bk, 0 );
    531          		FREE_GUI( myBook->coord );
   \   0000003C   2C0094E5           LDR      R0,[R4, #+44]
   \   00000040   000050E3           CMP      R0,#+0
   \   00000044   1080BD08           POPEQ    {R4,PC}
   \   00000048   CE0100EF           SWI      +462
   \   0000004C   2C0084E5           STR      R0,[R4, #+44]
    532          	}
    533          }
   \   00000050   1080BDE8           POP      {R4,PC}          ;; return
    534          

   \                                 In segment CODE, align 4, keep-with-next
    535          void OnOkCoordinatesEdit( BOOK* bk, void* )
    536          {
   \                     ??OnOkCoordinatesEdit:
   \   00000000   10402DE9           PUSH     {R4,LR}
   \   00000004   0040A0E1           MOV      R4,R0
    537          	MyBOOK* myBook = (MyBOOK*) bk;
    538          	DISP_OBJ_COORD* disp_obj = (DISP_OBJ_COORD*) GUIObject_GetDispObject( myBook->coord );
   \   00000008   2C0094E5           LDR      R0,[R4, #+44]
   \   0000000C   680100EF           SWI      +360
    539          	int f = 0;
    540          	if ( disp_obj->type )
   \   00000010   7C1190E5           LDR      R1,[R0, #+380]
   \   00000014   000051E3           CMP      R1,#+0
   \   00000018   2300000A           BEQ      ??OnOkCoordinatesEdit_1
    541          	{
    542          		if ( !disp_obj->is_first_set )
   \   0000001C   801190E5           LDR      R1,[R0, #+384]
   \   00000020   000051E3           CMP      R1,#+0
   \   00000024   0600001A           BNE      ??OnOkCoordinatesEdit_2
    543          		{
    544          			disp_obj->x2 = disp_obj->x;
   \   00000028   6C1190E5           LDR      R1,[R0, #+364]
   \   0000002C   741180E5           STR      R1,[R0, #+372]
    545          			disp_obj->y2 = disp_obj->y;
   \   00000030   701190E5           LDR      R1,[R0, #+368]
   \   00000034   781180E5           STR      R1,[R0, #+376]
    546          			disp_obj->is_first_set = 1;
   \   00000038   0110A0E3           MOV      R1,#+1
   \   0000003C   801180E5           STR      R1,[R0, #+384]
    547          			f = 1;
   \   00000040   1080BDE8           POP      {R4,PC}
    548          		}
    549          		else
    550          		{
    551          			myBook->cur_hp.rect->rect.x1 = MIN( disp_obj->x2, disp_obj->x );
   \                     ??OnOkCoordinatesEdit_2:
   \   00000044   741190E5           LDR      R1,[R0, #+372]
   \   00000048   6C2190E5           LDR      R2,[R0, #+364]
   \   0000004C   020051E1           CMP      R1,R2
   \   00000050   0210A0A1           MOVGE    R1,R2
   \   00000054   542094E5           LDR      R2,[R4, #+84]
   \   00000058   BC12C2E1           STRH     R1,[R2, #+44]
    552          			myBook->cur_hp.rect->rect.y1 = MIN( disp_obj->y2, disp_obj->y );
   \   0000005C   781190E5           LDR      R1,[R0, #+376]
   \   00000060   702190E5           LDR      R2,[R0, #+368]
   \   00000064   020051E1           CMP      R1,R2
   \   00000068   0210A0A1           MOVGE    R1,R2
   \   0000006C   542094E5           LDR      R2,[R4, #+84]
   \   00000070   B013C2E1           STRH     R1,[R2, #+48]
    553          			myBook->cur_hp.rect->rect.x2 = MAX( disp_obj->x2, disp_obj->x );
   \   00000074   6C1190E5           LDR      R1,[R0, #+364]
   \   00000078   742190E5           LDR      R2,[R0, #+372]
   \   0000007C   020051E1           CMP      R1,R2
   \   00000080   0210A0B1           MOVLT    R1,R2
   \   00000084   542094E5           LDR      R2,[R4, #+84]
   \   00000088   BE12C2E1           STRH     R1,[R2, #+46]
    554          			myBook->cur_hp.rect->rect.y2 = MAX( disp_obj->y2, disp_obj->y );
   \   0000008C   701190E5           LDR      R1,[R0, #+368]
   \   00000090   782190E5           LDR      R2,[R0, #+376]
   \   00000094   020051E1           CMP      R1,R2
   \   00000098   0100A0A1           MOVGE    R0,R1
   \   0000009C   541094E5           LDR      R1,[R4, #+84]
   \   000000A0   0200A0B1           MOVLT    R0,R2
   \   000000A4   B203C1E1           STRH     R0,[R1, #+50]
   \   000000A8   050000EA           B        ??OnOkCoordinatesEdit_3
    555          		}
    556          	}
    557          	else
    558          	{
    559          		myBook->cur_hp.point->point.x = disp_obj->x;
   \                     ??OnOkCoordinatesEdit_1:
   \   000000AC   541094E5           LDR      R1,[R4, #+84]
   \   000000B0   6C2190E5           LDR      R2,[R0, #+364]
   \   000000B4   2C2081E5           STR      R2,[R1, #+44]
    560          		myBook->cur_hp.point->point.y = disp_obj->y;
   \   000000B8   541094E5           LDR      R1,[R4, #+84]
   \   000000BC   700190E5           LDR      R0,[R0, #+368]
   \   000000C0   300081E5           STR      R0,[R1, #+48]
    561          	}
    562          
    563          	if ( !f )
    564          	{
    565          		BookObj_SetDisplayOrientation( bk, 0 );
   \                     ??OnOkCoordinatesEdit_3:
   \   000000C4   0010A0E3           MOV      R1,#+0
   \   000000C8   0400A0E1           MOV      R0,R4
   \   000000CC   1A0300EF           SWI      +794
    566          		FREE_GUI( myBook->coord );
   \   000000D0   2C0094E5           LDR      R0,[R4, #+44]
   \   000000D4   000050E3           CMP      R0,#+0
   \   000000D8   0100000A           BEQ      ??OnOkCoordinatesEdit_4
   \   000000DC   CE0100EF           SWI      +462
   \   000000E0   2C0084E5           STR      R0,[R4, #+44]
    567          		RefreshEdList(bk);
   \                     ??OnOkCoordinatesEdit_4:
   \   000000E4   0400A0E1           MOV      R0,R4
   \   000000E8   ........           _BLF     ??RefreshEdList,??RefreshEdList??rA
    568          	}
    569          }
   \   000000EC   1080BDE8           POP      {R4,PC}          ;; return
    570          
    571          

   \                                 In segment CODE, align 4, keep-with-next
    572          GUI_COORDINATES* CreateEditCoordinatesGUI( MyBOOK* myBook, int type )
    573          {
   \                     ??CreateEditCoordinatesGUI:
   \   00000000   70402DE9           PUSH     {R4-R6,LR}
   \   00000004   0040A0E1           MOV      R4,R0
   \   00000008   0150A0E1           MOV      R5,R1
    574          	GUI_COORDINATES* gui_coord = new GUI_COORDINATES;
   \   0000000C   9000A0E3           MOV      R0,#+144
   \   00000010   ........           _BLF     `??operator new`,`??operator new??rA`
    575          	DISP_OBJ_COORD* disp_obj;
    576          	if ( !GUIObject_Create( gui_coord, EditCoordinatesGui_destr, EditCoordinatesGui_constr, myBook, 0, 0, 0 ) )
   \   00000014   FC209FE5           LDR      R2,??CreateEditCoordinatesGUI_1  ;; ??EditCoordinatesGui_constr
   \   00000018   FC109FE5           LDR      R1,??CreateEditCoordinatesGUI_1+0x4  ;; ??EditCoordinatesGui_destr
   \   0000001C   0060A0E1           MOV      R6,R0
   \   00000020   0000A0E3           MOV      R0,#+0
   \   00000024   01002DE9           PUSH     {R0}
   \   00000028   01002DE9           PUSH     {R0}
   \   0000002C   01002DE9           PUSH     {R0}
   \   00000030   0430A0E1           MOV      R3,R4
   \   00000034   0600A0E1           MOV      R0,R6
   \   00000038   F00100EF           SWI      +496
   \   0000003C   000050E3           CMP      R0,#+0
   \   00000040   0CD08DE2           ADD      SP,SP,#+12
   \   00000044   0600A0E1           MOV      R0,R6
   \   00000048   0200001A           BNE      ??CreateEditCoordinatesGUI_2
    577          	{
    578          		delete gui_coord;
   \   0000004C   ........           _BLF     `??operator delete`,`??operator delete??rA`
    579          		return 0;
   \   00000050   0000A0E3           MOV      R0,#+0
   \   00000054   7080BDE8           POP      {R4-R6,PC}
    580          	}
    581          	disp_obj = (DISP_OBJ_COORD*) GUIObject_GetDispObject( gui_coord );
   \                     ??CreateEditCoordinatesGUI_2:
   \   00000058   680100EF           SWI      +360
    582          	if ( type == 0 )
   \   0000005C   000055E3           CMP      R5,#+0
   \   00000060   0700001A           BNE      ??CreateEditCoordinatesGUI_3
    583          	{
    584          		disp_obj->x = myBook->cur_hp.point->point.x;
   \   00000064   542094E5           LDR      R2,[R4, #+84]
   \   00000068   5B1F80E2           ADD      R1,R0,#+364
   \   0000006C   2C2092E5           LDR      R2,[R2, #+44]
   \   00000070   002081E5           STR      R2,[R1, #+0]
    585          		disp_obj->y = myBook->cur_hp.point->point.y;
   \   00000074   542094E5           LDR      R2,[R4, #+84]
   \   00000078   302092E5           LDR      R2,[R2, #+48]
   \   0000007C   042081E5           STR      R2,[R1, #+4]
   \   00000080   100000EA           B        ??CreateEditCoordinatesGUI_4
    586          	}
    587          	else
    588          	{
    589          		disp_obj->old_rect.x1 = disp_obj->x = myBook->cur_hp.rect->rect.x1;
   \                     ??CreateEditCoordinatesGUI_3:
   \   00000084   541094E5           LDR      R1,[R4, #+84]
   \   00000088   BC22D1E1           LDRH     R2,[R1, #+44]
   \   0000008C   5B1F80E2           ADD      R1,R0,#+364
   \   00000090   002081E5           STR      R2,[R1, #+0]
   \   00000094   B821C1E1           STRH     R2,[R1, #+24]
    590          		disp_obj->old_rect.y1 = disp_obj->y = myBook->cur_hp.rect->rect.y1;
   \   00000098   542094E5           LDR      R2,[R4, #+84]
   \   0000009C   B023D2E1           LDRH     R2,[R2, #+48]
   \   000000A0   042081E5           STR      R2,[R1, #+4]
   \   000000A4   BC21C1E1           STRH     R2,[R1, #+28]
    591          		disp_obj->old_rect.x2 = disp_obj->x2 = myBook->cur_hp.rect->rect.x2;
   \   000000A8   542094E5           LDR      R2,[R4, #+84]
   \   000000AC   BE22D2E1           LDRH     R2,[R2, #+46]
   \   000000B0   082081E5           STR      R2,[R1, #+8]
   \   000000B4   BA21C1E1           STRH     R2,[R1, #+26]
    592          		disp_obj->old_rect.y2 = disp_obj->y2 = myBook->cur_hp.rect->rect.y2;
   \   000000B8   542094E5           LDR      R2,[R4, #+84]
   \   000000BC   B223D2E1           LDRH     R2,[R2, #+50]
   \   000000C0   0C2081E5           STR      R2,[R1, #+12]
   \   000000C4   BE21C1E1           STRH     R2,[R1, #+30]
    593          	}
    594          	disp_obj->type = type;
   \                     ??CreateEditCoordinatesGUI_4:
   \   000000C8   105081E5           STR      R5,[R1, #+16]
    595          	disp_obj->mb = myBook;
   \   000000CC   2C4081E5           STR      R4,[R1, #+44]
    596          	myBook->coord = gui_coord;
   \   000000D0   2C6084E5           STR      R6,[R4, #+44]
    597          
    598          	if ( myBook )
   \   000000D4   000054E3           CMP      R4,#+0
   \   000000D8   0200000A           BEQ      ??CreateEditCoordinatesGUI_5
    599          		BookObj_AddGUIObject( myBook, myBook->coord );
   \   000000DC   0610A0E1           MOV      R1,R6
   \   000000E0   0400A0E1           MOV      R0,R4
   \   000000E4   EB0100EF           SWI      +491
    600          
    601          	GUIObject_SetStyle( myBook->coord, 4 );
   \                     ??CreateEditCoordinatesGUI_5:
   \   000000E8   2C0094E5           LDR      R0,[R4, #+44]
   \   000000EC   0410A0E3           MOV      R1,#+4
   \   000000F0   360100EF           SWI      +310
    602          	GUIObject_SetTitleType( myBook->coord, 1 );
   \   000000F4   2C0094E5           LDR      R0,[R4, #+44]
   \   000000F8   0110A0E3           MOV      R1,#+1
   \   000000FC   810200EF           SWI      +641
    603          	GUIObject_SoftKeys_Hide( myBook->coord );
   \   00000100   2C0094E5           LDR      R0,[R4, #+44]
   \   00000104   A10200EF           SWI      +673
    604          	GUIObject_Show( myBook->coord );
   \   00000108   2C0094E5           LDR      R0,[R4, #+44]
   \   0000010C   340100EF           SWI      +308
    605          	return gui_coord;
   \   00000110   0600A0E1           MOV      R0,R6
   \   00000114   7080BDE8           POP      {R4-R6,PC}       ;; return
   \                     ??CreateEditCoordinatesGUI_1:
   \   00000118   ........           DC32     ??EditCoordinatesGui_constr
   \   0000011C   ........           DC32     ??EditCoordinatesGui_destr
    606          }
    607          
    608          // --------------------------------------------------------------------------------------------------------------------------------

   \                                 In segment DATA_C, align 4, align-sorted
    609          static const char FontSelectGuiName[] = "Gui_FontSelect";
   \                     FontSelectGuiName:
   \   00000000   4775695F466F       DC8 "Gui_FontSelect"
   \              6E7453656C65
   \              637400      
   \   0000000F   00                 DC8 0
    610          
    611          

   \                                 In segment DATA_C, align 4, align-sorted
    612          const char test_str[] = "Test string 123";
   \                     test_str:
   \   00000000   546573742073       DC8 "Test string 123"
   \              7472696E6720
   \              31323300    
    613          
    614          

   \                                 In segment CODE, align 4, keep-with-next
    615          wchar_t* Font_GetNameByFontId( int id )
    616          {
   \                     ??Font_GetNameByFontId:
   \   00000000   F0402DE9           PUSH     {R4-R7,LR}
    617          	wchar_t* txt = L"Undefined";
   \   00000004   4C709FE5           LDR      R7,??Font_GetNameByFontId_1  ;; `?<Constant L"\\x55\\x6e\\x64\\x65\\x66\\x69\\x6e\\x65\\`
   \   00000008   0060A0E1           MOV      R6,R0
    618          	FONT_DESC* font = GetFontDesc();
    619          	for ( int i = 0, max = * GetFontCount(); i < max; i++ )
   \   0000000C   0050A0E3           MOV      R5,#+0
   \   00000010   BB8200EF           SWI      +33467
   \   00000014   0040A0E1           MOV      R4,R0
   \   00000018   BC8200EF           SWI      +33468
   \   0000001C   000090E5           LDR      R0,[R0, #+0]
   \   00000020   000000EA           B        ??Font_GetNameByFontId_2
   \                     ??Font_GetNameByFontId_3:
   \   00000024   015085E2           ADD      R5,R5,#+1
   \                     ??Font_GetNameByFontId_2:
   \   00000028   000055E1           CMP      R5,R0
   \   0000002C   070000AA           BGE      ??Font_GetNameByFontId_4
    620          	{
    621          		if ( id == font[i].id )
   \   00000030   1610A0E3           MOV      R1,#+22
   \   00000034   914522E0           MLA      R2,R1,R5,R4
   \   00000038   B010D2E1           LDRH     R1,[R2, #+0]
   \   0000003C   010056E1           CMP      R6,R1
   \   00000040   F7FFFF1A           BNE      ??Font_GetNameByFontId_3
    622          		{
    623          			txt = font[i].name;
   \   00000044   1600A0E3           MOV      R0,#+22
   \   00000048   904521E0           MLA      R1,R0,R5,R4
   \   0000004C   027081E2           ADD      R7,R1,#+2
    624          			break;
    625          		}
    626          	}
    627          	return txt;
   \                     ??Font_GetNameByFontId_4:
   \   00000050   0700A0E1           MOV      R0,R7
   \   00000054   F080BDE8           POP      {R4-R7,PC}       ;; return
   \                     ??Font_GetNameByFontId_1:
   \   00000058   ........           DC32     `?<Constant L"\\x55\\x6e\\x64\\x65\\x66\\x69\\x6e\\x65\\`
    628          }
    629          
    630          

   \                                 In segment CODE, align 4, keep-with-next
    631          int GetIdByFontId( int id )
    632          {
   \                     ??GetIdByFontId:
   \   00000000   F0402DE9           PUSH     {R4-R7,LR}
   \   00000004   0040A0E1           MOV      R4,R0
    633          	int r = 0;
   \   00000008   0050A0E3           MOV      R5,#+0
    634          	FONT_DESC* font = GetFontDesc();
    635          	for ( int i = 0, max = * GetFontCount(); i < max; i++ )
   \   0000000C   0070A0E3           MOV      R7,#+0
   \   00000010   BB8200EF           SWI      +33467
   \   00000014   0060A0E1           MOV      R6,R0
   \   00000018   BC8200EF           SWI      +33468
   \   0000001C   000090E5           LDR      R0,[R0, #+0]
   \   00000020   000000EA           B        ??GetIdByFontId_1
   \                     ??GetIdByFontId_2:
   \   00000024   017087E2           ADD      R7,R7,#+1
   \                     ??GetIdByFontId_1:
   \   00000028   000057E1           CMP      R7,R0
   \   0000002C   050000AA           BGE      ??GetIdByFontId_3
    636          	{
    637          		if ( id == font[i].id )
   \   00000030   1610A0E3           MOV      R1,#+22
   \   00000034   916722E0           MLA      R2,R1,R7,R6
   \   00000038   B010D2E1           LDRH     R1,[R2, #+0]
   \   0000003C   010054E1           CMP      R4,R1
   \   00000040   F7FFFF1A           BNE      ??GetIdByFontId_2
    638          		{
    639          			r = i;
   \   00000044   0750A0E1           MOV      R5,R7
    640          			break;
    641          		}
    642          	}
    643          	return r;
   \                     ??GetIdByFontId_3:
   \   00000048   0500A0E1           MOV      R0,R5
   \   0000004C   F080BDE8           POP      {R4-R7,PC}       ;; return
    644          }
    645          

   \                                 In segment CODE, align 4, keep-with-next
    646          int FontSelectGuiOnCreate( DISP_OBJ_FONT_SEL* db )
    647          {
    648          	wchar_t ustr[64];
    649          	int font_old;
    650          	win12512unicode( ustr, test_str, MAXELEMS( test_str ) - 1 );
   \                     ??FontSelectGuiOnCreate:
   \   00000000   48119FE5           LDR      R1,??FontSelectGuiOnCreate_1  ;; test_str
   \   00000004   70402DE9           PUSH     {R4-R6,LR}
   \   00000008   80D04DE2           SUB      SP,SP,#+128
   \   0000000C   0040A0E1           MOV      R4,R0
   \   00000010   0F20A0E3           MOV      R2,#+15
   \   00000014   0D00A0E1           MOV      R0,SP
   \   00000018   ........           _BLF     ??win12512unicode,??win12512unicode??rA
    651          	db->test_str_id = TextID_Create( ustr, ENC_UCS2, TEXTID_ANY_LEN );
   \   0000001C   FF20A0E3           MOV      R2,#+255
   \   00000020   FF2C82E3           ORR      R2,R2,#0xFF00
   \   00000024   0010A0E3           MOV      R1,#+0
   \   00000028   0D00A0E1           MOV      R0,SP
   \   0000002C   5D0100EF           SWI      +349
   \   00000030   7C0184E5           STR      R0,[R4, #+380]
    652          
    653          	int platform=GetChipID()&CHIPID_MASK;
   \   00000034   4E0200EF           SWI      +590
   \   00000038   FE0C00E2           AND      R0,R0,#0xFE00
    654          	if (platform==CHIPID_DB3200||platform==CHIPID_DB3210||platform==CHIPID_DB3350)
   \   0000003C   D80C50E3           CMP      R0,#+55296
   \   00000040   E80C5013           CMPNE    R0,#+59392
   \   00000044   F00C5013           CMPNE    R0,#+61440
    655          		db->platform_flag=1;
   \   00000048   0100A003           MOVEQ    R0,#+1
    656          	else
    657          		db->platform_flag=0;
   \   0000004C   0000A013           MOVNE    R0,#+0
   \   00000050   880184E5           STR      R0,[R4, #+392]
    658          
    659          	if (db->platform_flag)
   \   00000054   000050E3           CMP      R0,#+0
   \   00000058   1700000A           BEQ      ??FontSelectGuiOnCreate_2
   \   0000005C   ........           LDR      R1,??DataTable46  ;; font_step
   \   00000060   6400A0E3           MOV      R0,#+100
   \   00000064   001091E5           LDR      R1,[R1, #+0]
   \   00000068   ........           _BLF     ??div32_a,??rA??div32_a
   \   0000006C   781184E5           STR      R1,[R4, #+376]
    660          	{
    661          		db->total_fonts = max_size/font_step;
    662          		db->font_heights = new u16[db->total_fonts];
   \   00000070   8100A0E1           LSL      R0,R1,#+1
   \   00000074   ........           _BLF     `??operator new[]`,`??operator new[]??rA`
   \   00000078   800184E5           STR      R0,[R4, #+384]
    663          		for ( int i = 0; i < db->total_fonts; i++ )
   \   0000007C   781194E5           LDR      R1,[R4, #+376]
   \   00000080   0000A0E3           MOV      R0,#+0
   \   00000084   010051E3           CMP      R1,#+1
   \   00000088   2A0000BA           BLT      ??FontSelectGuiOnCreate_3
   \                     ??FontSelectGuiOnCreate_4:
   \   0000008C   781194E5           LDR      R1,[R4, #+376]
   \   00000090   010050E1           CMP      R0,R1
   \   00000094   270000AA           BGE      ??FontSelectGuiOnCreate_3
    664          		{
    665          			db->font_heights[i] = (i+1)*font_step;
   \   00000098   ........           LDR      R3,??DataTable46  ;; font_step
   \   0000009C   801194E5           LDR      R1,[R4, #+384]
   \   000000A0   003093E5           LDR      R3,[R3, #+0]
   \   000000A4   012080E2           ADD      R2,R0,#+1
   \   000000A8   930202E0           MUL      R2,R3,R2
   \   000000AC   801081E0           ADD      R1,R1,R0, LSL #+1
   \   000000B0   B020C1E1           STRH     R2,[R1, #+0]
    666          		}
   \   000000B4   010080E2           ADD      R0,R0,#+1
   \   000000B8   F3FFFFEA           B        ??FontSelectGuiOnCreate_4
    667          	}
    668          	else
    669          	{
    670          		db->total_fonts = * GetFontCount();
   \                     ??FontSelectGuiOnCreate_2:
   \   000000BC   BC8200EF           SWI      +33468
   \   000000C0   000090E5           LDR      R0,[R0, #+0]
    671          		db->font_heights = new u16[db->total_fonts];
    672          		font_old = SetFont( FONT_E_20R );
    673          		for ( int i = 0; i < db->total_fonts; i++ )
   \   000000C4   0060A0E3           MOV      R6,#+0
   \   000000C8   780184E5           STR      R0,[R4, #+376]
   \   000000CC   8000A0E1           LSL      R0,R0,#+1
   \   000000D0   ........           _BLF     `??operator new[]`,`??operator new[]??rA`
   \   000000D4   800184E5           STR      R0,[R4, #+384]
   \   000000D8   ........           LDR      R0,??DataTable35  ;; FONT_E_20R
   \   000000DC   000090E5           LDR      R0,[R0, #+0]
   \   000000E0   F10100EF           SWI      +497
   \   000000E4   0050A0E1           MOV      R5,R0
   \   000000E8   780194E5           LDR      R0,[R4, #+376]
   \   000000EC   010050E3           CMP      R0,#+1
   \   000000F0   0B0000AA           BGE      ??FontSelectGuiOnCreate_5
   \   000000F4   0D0000EA           B        ??FontSelectGuiOnCreate_6
    674          		{
    675          			SetFont( GetFontDesc()[i].id );
   \                     ??FontSelectGuiOnCreate_7:
   \   000000F8   BB8200EF           SWI      +33467
   \   000000FC   1610A0E3           MOV      R1,#+22
   \   00000100   910620E0           MLA      R0,R1,R6,R0
   \   00000104   B000D0E1           LDRH     R0,[R0, #+0]
   \   00000108   F10100EF           SWI      +497
    676          			db->font_heights[i] = GetImageHeight( ' ' );
   \   0000010C   2000A0E3           MOV      R0,#+32
   \   00000110   940200EF           SWI      +660
   \   00000114   801194E5           LDR      R1,[R4, #+384]
   \   00000118   861081E0           ADD      R1,R1,R6, LSL #+1
   \   0000011C   B000C1E1           STRH     R0,[R1, #+0]
    677          		}
   \   00000120   016086E2           ADD      R6,R6,#+1
   \                     ??FontSelectGuiOnCreate_5:
   \   00000124   780194E5           LDR      R0,[R4, #+376]
   \   00000128   000056E1           CMP      R6,R0
   \   0000012C   F1FFFFBA           BLT      ??FontSelectGuiOnCreate_7
    678          		SetFont( font_old );
   \                     ??FontSelectGuiOnCreate_6:
   \   00000130   0500A0E1           MOV      R0,R5
   \   00000134   F10100EF           SWI      +497
    679          	}
    680          	db->cur_offs = 0;
   \                     ??FontSelectGuiOnCreate_3:
   \   00000138   0000A0E3           MOV      R0,#+0
   \   0000013C   700184E5           STR      R0,[R4, #+368]
    681          	db->req_check_vis = 1;
   \   00000140   0100A0E3           MOV      R0,#+1
   \   00000144   840184E5           STR      R0,[R4, #+388]
    682          	return 1;
   \   00000148   80D08DE2           ADD      SP,SP,#+128
   \   0000014C   7080BDE8           POP      {R4-R6,PC}       ;; return
   \                     ??FontSelectGuiOnCreate_1:
   \   00000150   ........           DC32     test_str
    683          }
    684          

   \                                 In segment CODE, align 4, keep-with-next
    685          void FontSelectGuiOnClose( DISP_OBJ_FONT_SEL* db )
    686          {
   \                     ??FontSelectGuiOnClose:
   \   00000000   10402DE9           PUSH     {R4,LR}
   \   00000004   0040A0E1           MOV      R4,R0
    687          	TextID_Destroy( db->test_str_id ); db->test_str_id = EMPTY_TEXTID;
   \   00000008   7C0194E5           LDR      R0,[R4, #+380]
   \   0000000C   610100EF           SWI      +353
   \   00000010   9004E0E3           MVN      R0,#-1879048192
   \   00000014   7C0184E5           STR      R0,[R4, #+380]
    688          	delete db->font_heights;
   \   00000018   800194E5           LDR      R0,[R4, #+384]
   \   0000001C   1040BDE8           POP      {R4,LR}          ;; Pop
   \   00000020   ........           _BF      `??operator delete`,`??operator delete??rA`  ;; tailcall
    689          }
    690          
    691          

   \                                 In segment CODE, align 4, keep-with-next
    692          void CheckStringVisibility( DISP_OBJ_FONT_SEL* db, int x1, int y1, int x2, int y2, int y_offs )
    693          {
   \                     ??CheckStringVisibility:
   \   00000000   70002DE9           PUSH     {R4-R6}
   \   00000004   0C109DE5           LDR      R1,[SP, #+12]
    694          	if ( db->cur_pos < db->cur_offs ) // строка выше смещения, поднимаем смещение
   \   00000008   743190E5           LDR      R3,[R0, #+372]
   \   0000000C   704190E5           LDR      R4,[R0, #+368]
   \   00000010   10209DE5           LDR      R2,[SP, #+16]
   \   00000014   040053E1           CMP      R3,R4
    695          	{
    696          		db->cur_offs = db->cur_pos;
   \   00000018   0310A0B1           MOVLT    R1,R3
   \   0000001C   701180B5           STRLT    R1,[R0, #+368]
   \   00000020   1F0000BA           BLT      ??CheckStringVisibility_1
    697          	}
    698          	else // иначе проверяем в зоне видимости ли мы, если нет то опускаемся пока не увидим
    699          	{
    700          		int f = 0;
   \   00000024   0030A0E3           MOV      R3,#+0
    701          		do {
    702          			int cur_y = y_offs;
    703          			for ( int i = db->cur_offs, k = 0; i < db->total_fonts; i++ )
   \                     ??CheckStringVisibility_2:
   \   00000028   704190E5           LDR      R4,[R0, #+368]
   \   0000002C   02C0A0E1           MOV      R12,R2
   \   00000030   0050A0E3           MOV      R5,#+0
   \   00000034   000000EA           B        ??CheckStringVisibility_3
   \                     ??CheckStringVisibility_4:
   \   00000038   014084E2           ADD      R4,R4,#+1
   \                     ??CheckStringVisibility_3:
   \   0000003C   786190E5           LDR      R6,[R0, #+376]
   \   00000040   060054E1           CMP      R4,R6
   \   00000044   0E0000AA           BGE      ??CheckStringVisibility_5
    704          			{
    705          				int sum;
    706          				if ( db->cur_pos == i )
   \   00000048   746190E5           LDR      R6,[R0, #+372]
   \   0000004C   040056E1           CMP      R6,R4
    707          					k = 1;
    708          
    709          				if ( ( ( sum = cur_y + db->font_heights[i] + 2 ) + 1 ) < y2 && k )
   \   00000050   806190E5           LDR      R6,[R0, #+384]
   \   00000054   0150A003           MOVEQ    R5,#+1
   \   00000058   846086E0           ADD      R6,R6,R4, LSL #+1
   \   0000005C   B060D6E1           LDRH     R6,[R6, #+0]
   \   00000060   0C6086E0           ADD      R6,R6,R12
   \   00000064   02C086E2           ADD      R12,R6,#+2
   \   00000068   01608CE2           ADD      R6,R12,#+1
   \   0000006C   010056E1           CMP      R6,R1
   \   00000070   010000AA           BGE      ??CheckStringVisibility_6
   \   00000074   000055E3           CMP      R5,#+0
    710          					f = 1;
   \   00000078   0130A013           MOVNE    R3,#+1
    711          
    712          				cur_y = sum;
    713          
    714          				if ( cur_y  >  y2 )
   \                     ??CheckStringVisibility_6:
   \   0000007C   0C0051E1           CMP      R1,R12
   \   00000080   ECFFFFAA           BGE      ??CheckStringVisibility_4
    715          					break;
    716          			}
    717          		} while( !f && ++db->cur_offs < db->total_fonts );
   \                     ??CheckStringVisibility_5:
   \   00000084   000053E3           CMP      R3,#+0
   \   00000088   0500001A           BNE      ??CheckStringVisibility_1
   \   0000008C   704190E5           LDR      R4,[R0, #+368]
   \   00000090   014084E2           ADD      R4,R4,#+1
   \   00000094   704180E5           STR      R4,[R0, #+368]
   \   00000098   785190E5           LDR      R5,[R0, #+376]
   \   0000009C   050054E1           CMP      R4,R5
   \   000000A0   E0FFFFBA           BLT      ??CheckStringVisibility_2
    718          	}
    719          }
   \                     ??CheckStringVisibility_1:
   \   000000A4   7000BDE8           POP      {R4-R6}
   \   000000A8   1EFF2FE1           BX       LR               ;; return
    720          

   \                                 In segment CODE, align 4, keep-with-next
    721          void FontSelectGuiOnRedraw( DISP_OBJ_FONT_SEL* db, int, RECT* cur_rc, int )
    722          {
   \                     ??FontSelectGuiOnRedraw:
   \   00000000   F04F2DE9           PUSH     {R4-R11,LR}
   \   00000004   1CD04DE2           SUB      SP,SP,#+28
   \   00000008   0040A0E1           MOV      R4,R0
   \   0000000C   0280A0E1           MOV      R8,R2
    723          
    724          	int font_old, gc_xx;
    725          	GC* gc = get_DisplayGC();
   \   00000010   E50100EF           SWI      +485
   \   00000014   0050A0E1           MOV      R5,R0
    726          	int x1, y1, x2, y2;
    727          	int y_offs;
    728          	TEXTID selfont;
    729          
    730          	gc_xx = GC_GetXX( gc );
   \   00000018   E80100EF           SWI      +488
   \   0000001C   00008DE5           STR      R0,[SP, #+0]
    731          	GC_SetXX( gc, 1 );
   \   00000020   0110A0E3           MOV      R1,#+1
   \   00000024   0500A0E1           MOV      R0,R5
   \   00000028   E90100EF           SWI      +489
    732          	x1 = cur_rc->x1;
    733          	y1 = cur_rc->y1;
   \   0000002C   B4A0D8E1           LDRH     R10,[R8, #+4]
    734          	x2 = cur_rc->x2;
    735          	y2 = cur_rc->y2;
    736          	y_offs = y1 + 20 + 2;
    737          	if ( db->req_check_vis )
   \   00000030   840194E5           LDR      R0,[R4, #+388]
   \   00000034   B060D8E1           LDRH     R6,[R8, #+0]
   \   00000038   B270D8E1           LDRH     R7,[R8, #+2]
   \   0000003C   B680D8E1           LDRH     R8,[R8, #+6]
   \   00000040   16908AE2           ADD      R9,R10,#+22
   \   00000044   000050E3           CMP      R0,#+0
   \   00000048   0B00000A           BEQ      ??FontSelectGuiOnRedraw_1
    738          	{
    739          		CheckStringVisibility( db, x1, y1, x2, y2, y_offs );
   \   0000004C   0900A0E1           MOV      R0,R9
   \   00000050   01002DE9           PUSH     {R0}
   \   00000054   0730A0E1           MOV      R3,R7
   \   00000058   0A20A0E1           MOV      R2,R10
   \   0000005C   0610A0E1           MOV      R1,R6
   \   00000060   0800A0E1           MOV      R0,R8
   \   00000064   01002DE9           PUSH     {R0}
   \   00000068   0400A0E1           MOV      R0,R4
   \   0000006C   ........           BL       ??CheckStringVisibility
    740          		db->req_check_vis = 0;
   \   00000070   0000A0E3           MOV      R0,#+0
   \   00000074   840184E5           STR      R0,[R4, #+388]
   \   00000078   08D08DE2           ADD      SP,SP,#+8
    741          	}
    742          
    743          	font_old = SetFont( FONT_E_20R );
   \                     ??FontSelectGuiOnRedraw_1:
   \   0000007C   ........           LDR      R0,??DataTable35  ;; FONT_E_20R
   \   00000080   000090E5           LDR      R0,[R0, #+0]
   \   00000084   F10100EF           SWI      +497
   \   00000088   04008DE5           STR      R0,[SP, #+4]
    744          	DrawRect( x1, y1, x2, y2, clBlack, clBlack );
   \   0000008C   FF04A0E3           MOV      R0,#-16777216
   \   00000090   01002DE9           PUSH     {R0}
   \   00000094   01002DE9           PUSH     {R0}
   \   00000098   0830A0E1           MOV      R3,R8
   \   0000009C   0720A0E1           MOV      R2,R7
   \   000000A0   0A10A0E1           MOV      R1,R10
   \   000000A4   0600A0E1           MOV      R0,R6
   \   000000A8   EC0100EF           SWI      +492
    745          
    746          	if (db->platform_flag)
   \   000000AC   880194E5           LDR      R0,[R4, #+392]
   \   000000B0   08D08DE2           ADD      SP,SP,#+8
   \   000000B4   000050E3           CMP      R0,#+0
   \   000000B8   1F00000A           BEQ      ??FontSelectGuiOnRedraw_2
    747          	{
    748          		int n=1;
    749          		int sp[5];
    750          		sp[0] = TextID_CreateIntegerID((db->cur_pos+1)*font_step);
   \   000000BC   ........           LDR      R1,??DataTable46  ;; font_step
   \   000000C0   740194E5           LDR      R0,[R4, #+372]
   \   000000C4   001091E5           LDR      R1,[R1, #+0]
   \   000000C8   010080E2           ADD      R0,R0,#+1
   \   000000CC   910000E0           MUL      R0,R1,R0
   \   000000D0   01B0A0E3           MOV      R11,#+1
   \   000000D4   5C0100EF           SWI      +348
   \   000000D8   08008DE5           STR      R0,[SP, #+8]
    751          		if (db->style_bold)
   \   000000DC   8C0194E5           LDR      R0,[R4, #+396]
   \   000000E0   000050E3           CMP      R0,#+0
   \   000000E4   0500000A           BEQ      ??FontSelectGuiOnRedraw_3
    752          		{
    753          			sp[n] = 0x78000000 + '_';
   \   000000E8   5F10A0E3           MOV      R1,#+95
   \   000000EC   781481E3           ORR      R1,R1,#0x78000000
   \   000000F0   0C108DE5           STR      R1,[SP, #+12]
    754          			sp[n+1] = 0x78000000 + 'B';
   \   000000F4   1D10C1E3           BIC      R1,R1,#0x1D
   \   000000F8   10108DE5           STR      R1,[SP, #+16]
    755          			n = n+2;
   \   000000FC   03B0A0E3           MOV      R11,#+3
    756          		}
    757          		if (db->style_italic)
   \                     ??FontSelectGuiOnRedraw_3:
   \   00000100   900194E5           LDR      R0,[R4, #+400]
   \   00000104   000050E3           CMP      R0,#+0
   \   00000108   0700000A           BEQ      ??FontSelectGuiOnRedraw_4
    758          		{
    759          			sp[n] = 0x78000000 + '_';
   \   0000010C   08008DE2           ADD      R0,SP,#+8
   \   00000110   0B0180E0           ADD      R0,R0,R11, LSL #+2
   \   00000114   5F10A0E3           MOV      R1,#+95
   \   00000118   781481E3           ORR      R1,R1,#0x78000000
   \   0000011C   001080E5           STR      R1,[R0, #+0]
    760          			sp[n+1] = 0x78000000 + 'I';
   \   00000120   1610C1E3           BIC      R1,R1,#0x16
   \   00000124   041080E5           STR      R1,[R0, #+4]
    761          			n = n+2;
   \   00000128   02B08BE2           ADD      R11,R11,#+2
    762          		}
    763          		selfont = TextID_Create(sp,ENC_TEXTID,n);
   \                     ??FontSelectGuiOnRedraw_4:
   \   0000012C   0B20A0E1           MOV      R2,R11
   \   00000130   0510A0E3           MOV      R1,#+5
   \   00000134   08008DE2           ADD      R0,SP,#+8
   \   00000138   060000EA           B        ??FontSelectGuiOnRedraw_5
    764          	}
    765          	else selfont = TextID_Create( GetFontDesc()[db->cur_pos].name, ENC_UCS2, 9 );
   \                     ??FontSelectGuiOnRedraw_2:
   \   0000013C   BB8200EF           SWI      +33467
   \   00000140   743194E5           LDR      R3,[R4, #+372]
   \   00000144   16B0A0E3           MOV      R11,#+22
   \   00000148   9B0320E0           MLA      R0,R11,R3,R0
   \   0000014C   0920A0E3           MOV      R2,#+9
   \   00000150   0010A0E3           MOV      R1,#+0
   \   00000154   020080E2           ADD      R0,R0,#+2
   \                     ??FontSelectGuiOnRedraw_5:
   \   00000158   5D0100EF           SWI      +349
   \   0000015C   00B0A0E1           MOV      R11,R0
    766          	DrawString( selfont, 0, x1 + 3, y1 + 1, x2 - 2, y_offs - 1, 0, 0, 0xFF0080FF, 0x00000000 ); // Рисуем выбранный шрифт в шапке меню
   \   00000160   0000A0E3           MOV      R0,#+0
   \   00000164   01002DE9           PUSH     {R0}
   \   00000168   01308AE2           ADD      R3,R10,#+1
   \   0000016C   032086E2           ADD      R2,R6,#+3
   \   00000170   0010A0E3           MOV      R1,#+0
   \   00000174   FF08E0E3           MVN      R0,#+16711680
   \   00000178   7F0CC0E3           BIC      R0,R0,#0x7F00
   \   0000017C   01002DE9           PUSH     {R0}
   \   00000180   0000A0E3           MOV      R0,#+0
   \   00000184   01002DE9           PUSH     {R0}
   \   00000188   01002DE9           PUSH     {R0}
   \   0000018C   010049E2           SUB      R0,R9,#+1
   \   00000190   01002DE9           PUSH     {R0}
   \   00000194   020047E2           SUB      R0,R7,#+2
   \   00000198   01002DE9           PUSH     {R0}
   \   0000019C   0B00A0E1           MOV      R0,R11
   \   000001A0   ED0100EF           SWI      +493
    767          	TextID_Destroy( selfont );
   \   000001A4   0B00A0E1           MOV      R0,R11
   \   000001A8   610100EF           SWI      +353
    768          
    769          	int cur_y = y_offs;
    770          	for ( int i = db->cur_offs; i < db->total_fonts; i++ )
   \   000001AC   70A194E5           LDR      R10,[R4, #+368]
   \   000001B0   18D08DE2           ADD      SP,SP,#+24
   \   000001B4   000000EA           B        ??FontSelectGuiOnRedraw_6
   \                     ??FontSelectGuiOnRedraw_7:
   \   000001B8   01A08AE2           ADD      R10,R10,#+1
   \                     ??FontSelectGuiOnRedraw_6:
   \   000001BC   780194E5           LDR      R0,[R4, #+376]
   \   000001C0   00005AE1           CMP      R10,R0
   \   000001C4   360000AA           BGE      ??FontSelectGuiOnRedraw_8
    771          	{
    772          		int font, font_h;
    773          		font_h = db->font_heights[i];
   \   000001C8   800194E5           LDR      R0,[R4, #+384]
   \   000001CC   8A0080E0           ADD      R0,R0,R10, LSL #+1
   \   000001D0   B0B0D0E1           LDRH     R11,[R0, #+0]
    774          		if (db->platform_flag) font = font_h + (db->style_bold<<8) + (db->style_italic<<9);
   \   000001D4   880194E5           LDR      R0,[R4, #+392]
   \   000001D8   000050E3           CMP      R0,#+0
   \   000001DC   0400000A           BEQ      ??FontSelectGuiOnRedraw_9
   \   000001E0   8C0194E5           LDR      R0,[R4, #+396]
   \   000001E4   901194E5           LDR      R1,[R4, #+400]
   \   000001E8   00048BE0           ADD      R0,R11,R0, LSL #+8
   \   000001EC   810480E0           ADD      R0,R0,R1, LSL #+9
   \   000001F0   050000EA           B        ??FontSelectGuiOnRedraw_10
    775          		else font = GetFontDesc()[i].id;
   \                     ??FontSelectGuiOnRedraw_9:
   \   000001F4   1600A0E3           MOV      R0,#+22
   \   000001F8   01002DE9           PUSH     {R0}
   \   000001FC   BB8200EF           SWI      +33467
   \   00000200   0200BDE8           POP      {R1}
   \   00000204   910A20E0           MLA      R0,R1,R10,R0
   \   00000208   B000D0E1           LDRH     R0,[R0, #+0]
    776          		SetFont( font );
   \                     ??FontSelectGuiOnRedraw_10:
   \   0000020C   F10100EF           SWI      +497
    777          		if ( i == db->cur_pos ) // Если это выбранный шрифт
   \   00000210   740194E5           LDR      R0,[R4, #+372]
   \   00000214   00005AE1           CMP      R10,R0
   \   00000218   0B00001A           BNE      ??FontSelectGuiOnRedraw_11
    778          			DrawRect( x1 + 1, cur_y, x2 - 1, cur_y + font_h + 2, 0xFF00FF00, 0xFF408000 );
   \   0000021C   9C009FE5           LDR      R0,??FontSelectGuiOnRedraw_12  ;; 0xffffffffff408000
   \   00000220   012047E2           SUB      R2,R7,#+1
   \   00000224   01002DE9           PUSH     {R0}
   \   00000228   0910A0E1           MOV      R1,R9
   \   0000022C   FF04A0E3           MOV      R0,#-16777216
   \   00000230   FF0C80E3           ORR      R0,R0,#0xFF00
   \   00000234   01002DE9           PUSH     {R0}
   \   00000238   09008BE0           ADD      R0,R11,R9
   \   0000023C   023080E2           ADD      R3,R0,#+2
   \   00000240   010086E2           ADD      R0,R6,#+1
   \   00000244   EC0100EF           SWI      +492
   \   00000248   08D08DE2           ADD      SP,SP,#+8
    779          		DrawString( db->test_str_id, 0, x1 + 2, cur_y + 1, x2 - 2, cur_y + font_h + 1, 0, 0, clWhite, 0x00000000 );
   \                     ??FontSelectGuiOnRedraw_11:
   \   0000024C   0000A0E3           MOV      R0,#+0
   \   00000250   01002DE9           PUSH     {R0}
   \   00000254   013089E2           ADD      R3,R9,#+1
   \   00000258   022086E2           ADD      R2,R6,#+2
   \   0000025C   0010A0E3           MOV      R1,#+0
   \   00000260   0000E0E1           MVN      R0,R0
   \   00000264   01002DE9           PUSH     {R0}
   \   00000268   0000A0E3           MOV      R0,#+0
   \   0000026C   01002DE9           PUSH     {R0}
   \   00000270   01002DE9           PUSH     {R0}
   \   00000274   09008BE0           ADD      R0,R11,R9
   \   00000278   010080E2           ADD      R0,R0,#+1
   \   0000027C   01002DE9           PUSH     {R0}
   \   00000280   020047E2           SUB      R0,R7,#+2
   \   00000284   01002DE9           PUSH     {R0}
   \   00000288   7C0194E5           LDR      R0,[R4, #+380]
   \   0000028C   ED0100EF           SWI      +493
    780          		cur_y += font_h + 2;
   \   00000290   02008BE2           ADD      R0,R11,#+2
   \   00000294   099080E0           ADD      R9,R0,R9
    781          		if ( cur_y>y2 ) break;
   \   00000298   090058E1           CMP      R8,R9
   \   0000029C   18D08DE2           ADD      SP,SP,#+24
   \   000002A0   C4FFFFAA           BGE      ??FontSelectGuiOnRedraw_7
    782          	}
    783          
    784          	SetFont( font_old );
   \                     ??FontSelectGuiOnRedraw_8:
   \   000002A4   04009DE5           LDR      R0,[SP, #+4]
   \   000002A8   F10100EF           SWI      +497
    785          	GC_SetXX( gc, gc_xx );
   \   000002AC   00109DE5           LDR      R1,[SP, #+0]
   \   000002B0   0500A0E1           MOV      R0,R5
   \   000002B4   E90100EF           SWI      +489
    786          
    787          }
   \   000002B8   1CD08DE2           ADD      SP,SP,#+28
   \   000002BC   F08FBDE8           POP      {R4-R11,PC}      ;; return
   \                     ??FontSelectGuiOnRedraw_12:
   \   000002C0   008040FF           DC32     0xffffffffff408000
    788          
    789          
    790          
    791          

   \                                 In segment CODE, align 4, keep-with-next
    792          void FontSelectGuiOnKey( DISP_OBJ_FONT_SEL* db, int key, int, int repeat, int type )
    793          {
    794          	if ( type == KBD_SHORT_RELEASE || type == KBD_REPEAT )
   \                     ??FontSelectGuiOnKey:
   \   00000000   ........           LDR      R3,??DataTable37  ;; KBD_SHORT_RELEASE
   \   00000004   00402DE9           PUSH     {LR}
   \   00000008   04209DE5           LDR      R2,[SP, #+4]
   \   0000000C   003093E5           LDR      R3,[R3, #+0]
   \   00000010   030052E1           CMP      R2,R3
   \   00000014   0300000A           BEQ      ??FontSelectGuiOnKey_1
   \   00000018   ........           LDR      R3,??DataTable38  ;; KBD_REPEAT
   \   0000001C   003093E5           LDR      R3,[R3, #+0]
   \   00000020   030052E1           CMP      R2,R3
   \   00000024   0080BD18           POPNE    {PC}
    795          	{
    796          		if ( key == KEY_UP || key == KEY_DIGITAL_0 + 2 )
   \                     ??FontSelectGuiOnKey_1:
   \   00000028   ........           LDR      R2,??DataTable39  ;; KEY_UP
   \   0000002C   002092E5           LDR      R2,[R2, #+0]
   \   00000030   020051E1           CMP      R1,R2
   \   00000034   0400000A           BEQ      ??FontSelectGuiOnKey_2
   \   00000038   ........           LDR      R2,??DataTable42  ;; KEY_DIGITAL_0
   \   0000003C   002092E5           LDR      R2,[R2, #+0]
   \   00000040   022082E2           ADD      R2,R2,#+2
   \   00000044   020051E1           CMP      R1,R2
   \   00000048   0600001A           BNE      ??FontSelectGuiOnKey_3
    797          		{
    798          			if ( ( -- db->cur_pos ) < 0 ) db->cur_pos = db->total_fonts - 1;
   \                     ??FontSelectGuiOnKey_2:
   \   0000004C   742190E5           LDR      R2,[R0, #+372]
   \   00000050   012052E2           SUBS     R2,R2,#+1
   \   00000054   742180E5           STR      R2,[R0, #+372]
   \   00000058   1300005A           BPL      ??FontSelectGuiOnKey_4
   \   0000005C   782190E5           LDR      R2,[R0, #+376]
   \   00000060   012042E2           SUB      R2,R2,#+1
   \   00000064   0F0000EA           B        ??FontSelectGuiOnKey_5
    799          		}
    800          		else if ( key == KEY_DOWN || key == KEY_DIGITAL_0 + 8 )
   \                     ??FontSelectGuiOnKey_3:
   \   00000068   ........           LDR      R2,??DataTable41  ;; KEY_DOWN
   \   0000006C   002092E5           LDR      R2,[R2, #+0]
   \   00000070   020051E1           CMP      R1,R2
   \   00000074   0400000A           BEQ      ??FontSelectGuiOnKey_6
   \   00000078   ........           LDR      R2,??DataTable42  ;; KEY_DIGITAL_0
   \   0000007C   002092E5           LDR      R2,[R2, #+0]
   \   00000080   082082E2           ADD      R2,R2,#+8
   \   00000084   020051E1           CMP      R1,R2
   \   00000088   0700001A           BNE      ??FontSelectGuiOnKey_4
    801          		{
    802          			if ( ++db->cur_pos  >= db->total_fonts )
   \                     ??FontSelectGuiOnKey_6:
   \   0000008C   742190E5           LDR      R2,[R0, #+372]
   \   00000090   012082E2           ADD      R2,R2,#+1
   \   00000094   742180E5           STR      R2,[R0, #+372]
   \   00000098   783190E5           LDR      R3,[R0, #+376]
   \   0000009C   030052E1           CMP      R2,R3
   \   000000A0   010000BA           BLT      ??FontSelectGuiOnKey_4
    803          				db->cur_pos = 0;
   \   000000A4   0020A0E3           MOV      R2,#+0
   \                     ??FontSelectGuiOnKey_5:
   \   000000A8   742180E5           STR      R2,[R0, #+372]
    804          		}
    805          		if ( key == KEY_DEL )
   \                     ??FontSelectGuiOnKey_4:
   \   000000AC   48209FE5           LDR      R2,??FontSelectGuiOnKey_7  ;; KEY_DEL
   \   000000B0   002092E5           LDR      R2,[R2, #+0]
   \   000000B4   020051E1           CMP      R1,R2
   \   000000B8   0A00001A           BNE      ??FontSelectGuiOnKey_8
    806          		{
    807          			if ((!db->style_bold)&&(!db->style_italic))
   \   000000BC   8C1190E5           LDR      R1,[R0, #+396]
   \   000000C0   000051E3           CMP      R1,#+0
    808          			{
    809          				db->style_bold=1;
   \   000000C4   0110A003           MOVEQ    R1,#+1
   \   000000C8   8C118005           STREQ    R1,[R0, #+396]
   \   000000CC   0500000A           BEQ      ??FontSelectGuiOnKey_8
    810          			}
    811          			else if ((db->style_bold)&&(!db->style_italic))
   \   000000D0   901190E5           LDR      R1,[R0, #+400]
   \   000000D4   000051E3           CMP      R1,#+0
   \   000000D8   0010A0E3           MOV      R1,#+0
   \   000000DC   8C1180E5           STR      R1,[R0, #+396]
    812          			{
    813          				db->style_bold=0;
    814          				db->style_italic=1;
   \   000000E0   0110A003           MOVEQ    R1,#+1
    815          			}
    816          			else if ((!db->style_bold)&&(db->style_italic))
    817          			{
    818          				db->style_bold=1;
    819          			}
    820          			else if ((db->style_bold)&&(db->style_italic))
    821          			{
    822          				db->style_bold=0;
    823          				db->style_italic=0;
   \   000000E4   901180E5           STR      R1,[R0, #+400]
    824          			}
    825          		}
    826          		db->req_check_vis = 1;
   \                     ??FontSelectGuiOnKey_8:
   \   000000E8   0110A0E3           MOV      R1,#+1
   \   000000EC   841180E5           STR      R1,[R0, #+388]
    827          		DispObject_InvalidateRect( db, 0 );
   \   000000F0   0010A0E3           MOV      R1,#+0
   \   000000F4   EF0100EF           SWI      +495
    828          	}
    829          }
   \   000000F8   0080BDE8           POP      {PC}             ;; return
   \                     ??FontSelectGuiOnKey_7:
   \   000000FC   ........           DC32     KEY_DEL
    830          

   \                                 In segment CODE, align 4, keep-with-next
    831          void OnBackFontSelect( BOOK* bk, GUI* )
    832          {
   \                     ??OnBackFontSelect:
   \   00000000   10402DE9           PUSH     {R4,LR}
   \   00000004   0040A0E1           MOV      R4,R0
    833          	MyBOOK* myBook = (MyBOOK*) bk;
    834          	FREE_GUI( myBook->font_select );
   \   00000008   380094E5           LDR      R0,[R4, #+56]
   \   0000000C   000050E3           CMP      R0,#+0
   \   00000010   1080BD08           POPEQ    {R4,PC}
   \   00000014   CE0100EF           SWI      +462
   \   00000018   380084E5           STR      R0,[R4, #+56]
    835          }
   \   0000001C   1080BDE8           POP      {R4,PC}          ;; return
    836          

   \                                 In segment CODE, align 4, keep-with-next
    837          void OnOkFontSelect( BOOK* bk, GUI* )
    838          {
   \                     ??OnOkFontSelect:
   \   00000000   30402DE9           PUSH     {R4,R5,LR}
   \   00000004   0040A0E1           MOV      R4,R0
    839          	MyBOOK* myBook = (MyBOOK*) bk;
    840          	DISP_OBJ_FONT_SEL* disp_obj = (DISP_OBJ_FONT_SEL*) GUIObject_GetDispObject( myBook->font_select );
   \   00000008   380094E5           LDR      R0,[R4, #+56]
   \   0000000C   680100EF           SWI      +360
   \   00000010   0050A0E1           MOV      R5,R0
    841          	if (disp_obj->platform_flag) myBook->cur_hp.font->font = (disp_obj->cur_pos+1)*font_step + (disp_obj->style_bold<<8) + (disp_obj->style_italic<<9);
   \   00000014   880195E5           LDR      R0,[R5, #+392]
   \   00000018   000050E3           CMP      R0,#+0
   \   0000001C   0B00000A           BEQ      ??OnOkFontSelect_1
   \   00000020   ........           LDR      R2,??DataTable46  ;; font_step
   \   00000024   741195E5           LDR      R1,[R5, #+372]
   \   00000028   002092E5           LDR      R2,[R2, #+0]
   \   0000002C   540094E5           LDR      R0,[R4, #+84]
   \   00000030   011081E2           ADD      R1,R1,#+1
   \   00000034   920101E0           MUL      R1,R2,R1
   \   00000038   8C2195E5           LDR      R2,[R5, #+396]
   \   0000003C   021481E0           ADD      R1,R1,R2, LSL #+8
   \   00000040   902195E5           LDR      R2,[R5, #+400]
   \   00000044   821481E0           ADD      R1,R1,R2, LSL #+9
   \   00000048   2C1080E5           STR      R1,[R0, #+44]
   \   0000004C   060000EA           B        ??OnOkFontSelect_2
    842          	else myBook->cur_hp.font->font = GetFontDesc()[disp_obj->cur_pos].id;
   \                     ??OnOkFontSelect_1:
   \   00000050   BB8200EF           SWI      +33467
   \   00000054   742195E5           LDR      R2,[R5, #+372]
   \   00000058   541094E5           LDR      R1,[R4, #+84]
   \   0000005C   1630A0E3           MOV      R3,#+22
   \   00000060   930220E0           MLA      R0,R3,R2,R0
   \   00000064   B000D0E1           LDRH     R0,[R0, #+0]
   \   00000068   2C0081E5           STR      R0,[R1, #+44]
    843          	FREE_GUI( myBook->font_select );
   \                     ??OnOkFontSelect_2:
   \   0000006C   380094E5           LDR      R0,[R4, #+56]
   \   00000070   000050E3           CMP      R0,#+0
   \   00000074   0100000A           BEQ      ??OnOkFontSelect_3
   \   00000078   CE0100EF           SWI      +462
   \   0000007C   380084E5           STR      R0,[R4, #+56]
    844          	RefreshEdList(bk);
   \                     ??OnOkFontSelect_3:
   \   00000080   0400A0E1           MOV      R0,R4
   \   00000084   ........           _BLF     ??RefreshEdList,??RefreshEdList??rA
    845          }
   \   00000088   3080BDE8           POP      {R4,R5,PC}       ;; return
    846          
    847          

   \                                 In segment CODE, align 4, keep-with-next
    848          void FontSelectGui_constr( DISP_DESC* desc )
    849          {
    850          	DISP_DESC_SetName( desc, FontSelectGuiName );
   \                     ??FontSelectGui_constr:
   \   00000000   48109FE5           LDR      R1,??FontSelectGui_constr_1  ;; FontSelectGuiName
   \   00000004   10402DE9           PUSH     {R4,LR}
   \   00000008   0040A0E1           MOV      R4,R0
   \   0000000C   200200EF           SWI      +544
    851          	DISP_DESC_SetSize( desc, sizeof( DISP_OBJ_FONT_SEL ) );
   \   00000010   651FA0E3           MOV      R1,#+404
   \   00000014   0400A0E1           MOV      R0,R4
   \   00000018   220200EF           SWI      +546
    852          	DISP_DESC_SetOnCreate( desc, ( DISP_OBJ_ONCREATE_METHOD )FontSelectGuiOnCreate );
   \   0000001C   30109FE5           LDR      R1,??FontSelectGui_constr_1+0x4  ;; ??FontSelectGuiOnCreate
   \   00000020   0400A0E1           MOV      R0,R4
   \   00000024   240200EF           SWI      +548
    853          	DISP_DESC_SetOnClose( desc, ( DISP_OBJ_ONCLOSE_METHOD )FontSelectGuiOnClose );
   \   00000028   28109FE5           LDR      R1,??FontSelectGui_constr_1+0x8  ;; ??FontSelectGuiOnClose
   \   0000002C   0400A0E1           MOV      R0,R4
   \   00000030   260200EF           SWI      +550
    854          	DISP_DESC_SetOnRedraw( desc, ( DISP_OBJ_ONREDRAW_METHOD )FontSelectGuiOnRedraw );
   \   00000034   20109FE5           LDR      R1,??FontSelectGui_constr_1+0xC  ;; ??FontSelectGuiOnRedraw
   \   00000038   0400A0E1           MOV      R0,R4
   \   0000003C   280200EF           SWI      +552
    855          	DISP_DESC_SetOnKey( desc, ( DISP_OBJ_ONKEY_METHOD )FontSelectGuiOnKey );
   \   00000040   18109FE5           LDR      R1,??FontSelectGui_constr_1+0x10  ;; ??FontSelectGuiOnKey
   \   00000044   0400A0E1           MOV      R0,R4
   \   00000048   2A0200EF           SWI      +554
    856          }
   \   0000004C   1080BDE8           POP      {R4,PC}          ;; return
   \                     ??FontSelectGui_constr_1:
   \   00000050   ........           DC32     FontSelectGuiName
   \   00000054   ........           DC32     ??FontSelectGuiOnCreate
   \   00000058   ........           DC32     ??FontSelectGuiOnClose
   \   0000005C   ........           DC32     ??FontSelectGuiOnRedraw
   \   00000060   ........           DC32     ??FontSelectGuiOnKey
    857          

   \                                 In segment CODE, align 4, keep-with-next
    858          void OnOkManualFontSelect( BOOK *bk, wchar_t *string, int len )
    859          {
   \                     ??OnOkManualFontSelect:
   \   00000000   10402DE9           PUSH     {R4,LR}
   \   00000004   04D04DE2           SUB      SP,SP,#+4
   \   00000008   0040A0E1           MOV      R4,R0
   \   0000000C   0100A0E1           MOV      R0,R1
   \   00000010   0210A0E1           MOV      R1,R2
    860          	MyBOOK *mbk = (MyBOOK *)bk;
    861          	int step;
    862          	wtoi( string, len, &step );
   \   00000014   0D20A0E1           MOV      R2,SP
   \   00000018   9B0200EF           SWI      +667
    863          
    864          	FREE_GUI( mbk->font_select );
   \   0000001C   380094E5           LDR      R0,[R4, #+56]
   \   00000020   000050E3           CMP      R0,#+0
   \   00000024   0100000A           BEQ      ??OnOkManualFontSelect_1
   \   00000028   CE0100EF           SWI      +462
   \   0000002C   380084E5           STR      R0,[R4, #+56]
    865          	FREE_GUI( mbk->text_input );
   \                     ??OnOkManualFontSelect_1:
   \   00000030   200094E5           LDR      R0,[R4, #+32]
   \   00000034   000050E3           CMP      R0,#+0
   \   00000038   0100000A           BEQ      ??OnOkManualFontSelect_2
   \   0000003C   CE0100EF           SWI      +462
   \   00000040   200084E5           STR      R0,[R4, #+32]
    866          	//RefreshEdList(bk);
    867          	CreateFontSelectGUI( mbk, step );
   \                     ??OnOkManualFontSelect_2:
   \   00000044   00109DE5           LDR      R1,[SP, #+0]
   \   00000048   0400A0E1           MOV      R0,R4
   \   0000004C   ........           BL       ??CreateFontSelectGUI
    868          }
   \   00000050   1180BDE8           POP      {R0,R4,PC}       ;; return
    869          

   \                                 In segment CODE, align 4, keep-with-next
    870          void OnBackManualFontSelect( BOOK *bk, GUI* )
    871          {
   \                     ??OnBackManualFontSelect:
   \   00000000   10402DE9           PUSH     {R4,LR}
   \   00000004   0040A0E1           MOV      R4,R0
    872          	MyBOOK *mbk = (MyBOOK *)bk;
    873          	FREE_GUI(mbk->text_input);
   \   00000008   200094E5           LDR      R0,[R4, #+32]
   \   0000000C   000050E3           CMP      R0,#+0
   \   00000010   1080BD08           POPEQ    {R4,PC}
   \   00000014   CE0100EF           SWI      +462
   \   00000018   200084E5           STR      R0,[R4, #+32]
    874          }
   \   0000001C   1080BDE8           POP      {R4,PC}          ;; return
    875          

   \                                 In segment CODE, align 4, keep-with-next
    876          void OnManualFontSelect( BOOK *bk, GUI* )
    877          {
   \                     ??OnManualFontSelect:
   \   00000000   10402DE9           PUSH     {R4,LR}
    878          	MyBOOK *mbk = (MyBOOK *)bk;
    879          	mbk->text_input = CreateStringInputVA(0,VAR_BOOK(bk),
    880          										  VAR_HEADER_TEXT(STR("Введите шаг")),
    881          										  VAR_STRINP_MODE(9/*IT_UNSIGNED_DIGIT*/),
    882          										  VAR_STRINP_ENABLE_EMPTY_STR( 0 ),
    883          										  VAR_PREV_ACTION_PROC(OnBackManualFontSelect),
    884          										  VAR_OK_PROC(OnOkManualFontSelect),0);
   \   00000004   FF20A0E3           MOV      R2,#+255
   \   00000008   FF2C82E3           ORR      R2,R2,#0xFF00
   \   0000000C   0040A0E1           MOV      R4,R0
   \   00000010   70009FE5           LDR      R0,??OnManualFontSelect_1  ;; `?<Constant L"\\x412\\x432\\x435\\x434\\x438\\x442\\x4`
   \   00000014   0010A0E3           MOV      R1,#+0
   \   00000018   5D0100EF           SWI      +349
   \   0000001C   68309FE5           LDR      R3,??OnManualFontSelect_1+0x4  ;; VAR_ARG_HTEXT
   \   00000020   0010A0E3           MOV      R1,#+0
   \   00000024   02002DE9           PUSH     {R1}
   \   00000028   60109FE5           LDR      R1,??OnManualFontSelect_1+0x8  ;; ??OnOkManualFontSelect
   \   0000002C   0420A0E1           MOV      R2,R4
   \   00000030   02002DE9           PUSH     {R1}
   \   00000034   58109FE5           LDR      R1,??OnManualFontSelect_1+0xC  ;; VAR_ARG_CALL_BACK_OK
   \   00000038   02002DE9           PUSH     {R1}
   \   0000003C   54109FE5           LDR      R1,??OnManualFontSelect_1+0x10  ;; ??OnBackManualFontSelect
   \   00000040   02002DE9           PUSH     {R1}
   \   00000044   50109FE5           LDR      R1,??OnManualFontSelect_1+0x14  ;; VAR_ARG_CALL_BACK_PREV_ACT
   \   00000048   02002DE9           PUSH     {R1}
   \   0000004C   0010A0E3           MOV      R1,#+0
   \   00000050   02002DE9           PUSH     {R1}
   \   00000054   44109FE5           LDR      R1,??OnManualFontSelect_1+0x18  ;; VAR_ARG_STRINP_EMPTY_STR_EN
   \   00000058   02002DE9           PUSH     {R1}
   \   0000005C   0910A0E3           MOV      R1,#+9
   \   00000060   02002DE9           PUSH     {R1}
   \   00000064   38109FE5           LDR      R1,??OnManualFontSelect_1+0x1C  ;; VAR_ARG_STRINP_MODE
   \   00000068   02002DE9           PUSH     {R1}
   \   0000006C   34109FE5           LDR      R1,??OnManualFontSelect_1+0x20  ;; VAR_ARG_BOOK
   \   00000070   01002DE9           PUSH     {R0}
   \   00000074   0000A0E3           MOV      R0,#+0
   \   00000078   440100EF           SWI      +324
   \   0000007C   28D08DE2           ADD      SP,SP,#+40
   \   00000080   200084E5           STR      R0,[R4, #+32]
    885          }
   \   00000084   1080BDE8           POP      {R4,PC}          ;; return
   \                     ??OnManualFontSelect_1:
   \   00000088   ........           DC32     `?<Constant L"\\x412\\x432\\x435\\x434\\x438\\x442\\x4`
   \   0000008C   ........           DC32     VAR_ARG_HTEXT
   \   00000090   ........           DC32     ??OnOkManualFontSelect
   \   00000094   ........           DC32     VAR_ARG_CALL_BACK_OK
   \   00000098   ........           DC32     ??OnBackManualFontSelect
   \   0000009C   ........           DC32     VAR_ARG_CALL_BACK_PREV_ACT
   \   000000A0   ........           DC32     VAR_ARG_STRINP_EMPTY_STR_EN
   \   000000A4   ........           DC32     VAR_ARG_STRINP_MODE
   \   000000A8   ........           DC32     VAR_ARG_BOOK
    886          

   \                                 In segment CODE, align 4, keep-with-next
    887          void FontSelectGui_destr( GUI* gui )
    888          {
    889          }
   \                     ??FontSelectGui_destr:
   \   00000000   1EFF2FE1           BX       LR               ;; return
    890          

   \                                 In segment CODE, align 4, keep-with-next
    891          GUI_FONT_SEL* CreateFontSelectGUI( MyBOOK* myBook, int step )
    892          {
   \                     ??CreateFontSelectGUI:
   \   00000000   70402DE9           PUSH     {R4-R6,LR}
   \   00000004   84D04DE2           SUB      SP,SP,#+132
   \   00000008   0040A0E1           MOV      R4,R0
   \   0000000C   0160A0E1           MOV      R6,R1
    893          
    894          	GUI_FONT_SEL* gui_fontsel = new GUI_FONT_SEL;
   \   00000010   9000A0E3           MOV      R0,#+144
   \   00000014   ........           _BLF     `??operator new`,`??operator new??rA`
    895          	DISP_OBJ_FONT_SEL* disp_obj;
    896          
    897          	font_step = step;
    898          
    899          	wchar_t ustr[64];
    900          	if ( !GUIObject_Create( gui_fontsel, FontSelectGui_destr, FontSelectGui_constr, myBook, 0, 0, 0 ) )
   \   00000018   AC219FE5           LDR      R2,??CreateFontSelectGUI_1  ;; ??FontSelectGui_constr
   \   0000001C   AC119FE5           LDR      R1,??CreateFontSelectGUI_1+0x4  ;; ??FontSelectGui_destr
   \   00000020   0050A0E1           MOV      R5,R0
   \   00000024   ........           LDR      R0,??DataTable46  ;; font_step
   \   00000028   0430A0E1           MOV      R3,R4
   \   0000002C   006080E5           STR      R6,[R0, #+0]
   \   00000030   0000A0E3           MOV      R0,#+0
   \   00000034   01002DE9           PUSH     {R0}
   \   00000038   01002DE9           PUSH     {R0}
   \   0000003C   01002DE9           PUSH     {R0}
   \   00000040   0500A0E1           MOV      R0,R5
   \   00000044   F00100EF           SWI      +496
   \   00000048   000050E3           CMP      R0,#+0
   \   0000004C   0CD08DE2           ADD      SP,SP,#+12
   \   00000050   0500A0E1           MOV      R0,R5
   \   00000054   0300001A           BNE      ??CreateFontSelectGUI_2
    901          	{
    902          		delete gui_fontsel;
   \   00000058   ........           _BLF     `??operator delete`,`??operator delete??rA`
    903          		return 0;
   \   0000005C   0000A0E3           MOV      R0,#+0
   \   00000060   84D08DE2           ADD      SP,SP,#+132
   \   00000064   7080BDE8           POP      {R4-R6,PC}
    904          	}
    905          
    906          	disp_obj = (DISP_OBJ_FONT_SEL*) GUIObject_GetDispObject( gui_fontsel );
   \                     ??CreateFontSelectGUI_2:
   \   00000068   680100EF           SWI      +360
   \   0000006C   0060A0E1           MOV      R6,R0
    907          
    908          	if (disp_obj->platform_flag)
   \   00000070   880196E5           LDR      R0,[R6, #+392]
   \   00000074   000050E3           CMP      R0,#+0
   \   00000078   540094E5           LDR      R0,[R4, #+84]
   \   0000007C   2C0090E5           LDR      R0,[R0, #+44]
   \   00000080   1700000A           BEQ      ??CreateFontSelectGUI_3
    909          	{
    910          		if((myBook->cur_hp.font->font&0xFF) >= font_step)
   \   00000084   ........           LDR      R1,??DataTable46  ;; font_step
   \   00000088   FF0000E2           AND      R0,R0,#0xFF
   \   0000008C   001091E5           LDR      R1,[R1, #+0]
   \   00000090   010050E1           CMP      R0,R1
   \   00000094   070000BA           BLT      ??CreateFontSelectGUI_4
    911          			disp_obj->cur_pos = (myBook->cur_hp.font->font&0xFF)/font_step-1;
   \   00000098   540094E5           LDR      R0,[R4, #+84]
   \   0000009C   ........           LDR      R1,??DataTable46  ;; font_step
   \   000000A0   2C0090E5           LDR      R0,[R0, #+44]
   \   000000A4   001091E5           LDR      R1,[R1, #+0]
   \   000000A8   FF0000E2           AND      R0,R0,#0xFF
   \   000000AC   ........           _BLF     ??div32_a,??rA??div32_a
   \   000000B0   010041E2           SUB      R0,R1,#+1
   \   000000B4   000000EA           B        ??CreateFontSelectGUI_5
    912          		else
    913          			disp_obj->cur_pos = 0;
   \                     ??CreateFontSelectGUI_4:
   \   000000B8   0000A0E3           MOV      R0,#+0
   \                     ??CreateFontSelectGUI_5:
   \   000000BC   740186E5           STR      R0,[R6, #+372]
    914          		int style_flags = myBook->cur_hp.font->font>>8;
   \   000000C0   540094E5           LDR      R0,[R4, #+84]
   \   000000C4   2C0090E5           LDR      R0,[R0, #+44]
   \   000000C8   4004A0E1           ASR      R0,R0,#+8
    915          		disp_obj->style_bold=style_flags&bold;
   \   000000CC   011000E2           AND      R1,R0,#0x1
   \   000000D0   8C1186E5           STR      R1,[R6, #+396]
    916          		disp_obj->style_italic=(style_flags&italic)>>1;
   \   000000D4   020000E2           AND      R0,R0,#0x2
   \   000000D8   C000A0E1           ASR      R0,R0,#+1
   \   000000DC   900186E5           STR      R0,[R6, #+400]
   \   000000E0   010000EA           B        ??CreateFontSelectGUI_6
    917          	}
    918          	else disp_obj->cur_pos = GetIdByFontId( myBook->cur_hp.font->font );
   \                     ??CreateFontSelectGUI_3:
   \   000000E4   ........           BL       ??GetIdByFontId
   \   000000E8   740186E5           STR      R0,[R6, #+372]
    919          
    920          	myBook->font_select = gui_fontsel;
   \                     ??CreateFontSelectGUI_6:
   \   000000EC   385084E5           STR      R5,[R4, #+56]
    921          
    922          	if ( myBook )
   \   000000F0   000054E3           CMP      R4,#+0
   \   000000F4   0200000A           BEQ      ??CreateFontSelectGUI_7
    923          		BookObj_AddGUIObject( myBook, myBook->font_select );
   \   000000F8   0510A0E1           MOV      R1,R5
   \   000000FC   0400A0E1           MOV      R0,R4
   \   00000100   EB0100EF           SWI      +491
    924          
    925          	// GUIObject_SetStyle( myBook->font_select, 4 );
    926          	win12512unicode( ustr, myBook->cur_hp.font->name, MAXELEMS( ustr ) - 1 );
   \                     ??CreateFontSelectGUI_7:
   \   00000104   540094E5           LDR      R0,[R4, #+84]
   \   00000108   3F20A0E3           MOV      R2,#+63
   \   0000010C   041080E2           ADD      R1,R0,#+4
   \   00000110   04008DE2           ADD      R0,SP,#+4
   \   00000114   ........           _BLF     ??win12512unicode,??win12512unicode??rA
    927          	GUIObject_SetTitleText( myBook->font_select, TextID_Create( ustr, ENC_UCS2, TEXTID_ANY_LEN ) );
   \   00000118   FF60A0E3           MOV      R6,#+255
   \   0000011C   FF6C86E3           ORR      R6,R6,#0xFF00
   \   00000120   0620A0E1           MOV      R2,R6
   \   00000124   0010A0E3           MOV      R1,#+0
   \   00000128   04008DE2           ADD      R0,SP,#+4
   \   0000012C   5D0100EF           SWI      +349
   \   00000130   0010A0E1           MOV      R1,R0
   \   00000134   380094E5           LDR      R0,[R4, #+56]
   \   00000138   330100EF           SWI      +307
    928          	GUIObject_SetTitleType( myBook->font_select, 3 );
   \   0000013C   380094E5           LDR      R0,[R4, #+56]
   \   00000140   0310A0E3           MOV      R1,#+3
   \   00000144   810200EF           SWI      +641
    929          	// GUIObject_SoftKeys_Hide( myBook->font_select );
    930          	GUIObject_SoftKeys_SetAction( myBook->font_select, ACTION_BACK, OnBackFontSelect );
   \   00000148   ........           LDR      R0,??DataTable54  ;; ACTION_BACK
   \   0000014C   80209FE5           LDR      R2,??CreateFontSelectGUI_1+0x8  ;; ??OnBackFontSelect
   \   00000150   001090E5           LDR      R1,[R0, #+0]
   \   00000154   380094E5           LDR      R0,[R4, #+56]
   \   00000158   0118A0E1           MOV      R1,R1, LSL #+16
   \   0000015C   2118A0E1           MOV      R1,R1, LSR #+16
   \   00000160   4B0100EF           SWI      +331
    931          	GUIObject_SoftKeys_SetAction( myBook->font_select, ACTION_SELECT1, OnOkFontSelect );
   \   00000164   ........           LDR      R0,??DataTable53  ;; ACTION_SELECT1
   \   00000168   68209FE5           LDR      R2,??CreateFontSelectGUI_1+0xC  ;; ??OnOkFontSelect
   \   0000016C   001090E5           LDR      R1,[R0, #+0]
   \   00000170   380094E5           LDR      R0,[R4, #+56]
   \   00000174   0118A0E1           MOV      R1,R1, LSL #+16
   \   00000178   2118A0E1           MOV      R1,R1, LSR #+16
   \   0000017C   4B0100EF           SWI      +331
    932          	GUIObject_Show( myBook->font_select );
   \   00000180   380094E5           LDR      R0,[R4, #+56]
   \   00000184   340100EF           SWI      +308
    933          
    934          	TEXTID textid = EMPTY_TEXTID;
    935          	textidname2id(L"MP_MANUAL_SK",TEXTID_ANY_LEN,&textid); //вручную
   \   00000188   4C009FE5           LDR      R0,??CreateFontSelectGUI_1+0x10  ;; `?<Constant L"\\x4d\\x50\\x5f\\x4d\\x41\\x4e\\x55\\x41\\`
   \   0000018C   9014E0E3           MVN      R1,#-1879048192
   \   00000190   00108DE5           STR      R1,[SP, #+0]
   \   00000194   0D20A0E1           MOV      R2,SP
   \   00000198   0610A0E1           MOV      R1,R6
   \   0000019C   870200EF           SWI      +647
    936          	GUIObject_SoftKeys_SetAction( myBook->font_select, 0, OnManualFontSelect );
   \   000001A0   38209FE5           LDR      R2,??CreateFontSelectGUI_1+0x14  ;; ??OnManualFontSelect
   \   000001A4   380094E5           LDR      R0,[R4, #+56]
   \   000001A8   0010A0E3           MOV      R1,#+0
   \   000001AC   4B0100EF           SWI      +331
    937          	GUIObject_SoftKeys_SetText( myBook->font_select, 0, textid );
   \   000001B0   00209DE5           LDR      R2,[SP, #+0]
   \   000001B4   380094E5           LDR      R0,[R4, #+56]
   \   000001B8   0010A0E3           MOV      R1,#+0
   \   000001BC   4C0100EF           SWI      +332
    938          
    939          	return gui_fontsel;
   \   000001C0   0500A0E1           MOV      R0,R5
   \   000001C4   84D08DE2           ADD      SP,SP,#+132
   \   000001C8   7080BDE8           POP      {R4-R6,PC}       ;; return
   \                     ??CreateFontSelectGUI_1:
   \   000001CC   ........           DC32     ??FontSelectGui_constr
   \   000001D0   ........           DC32     ??FontSelectGui_destr
   \   000001D4   ........           DC32     ??OnBackFontSelect
   \   000001D8   ........           DC32     ??OnOkFontSelect
   \   000001DC   ........           DC32     `?<Constant L"\\x4d\\x50\\x5f\\x4d\\x41\\x4e\\x55\\x41\\`
   \   000001E0   ........           DC32     ??OnManualFontSelect
    940          }
    941          
    942          
    943          typedef struct
    944          {
    945          	void* next;
    946          	int is_folder;
    947          	wchar_t* fullname;
    948          	wchar_t* name;
    949          }FLIST;
    950          
    951          

   \                                 In segment DATA_Z, align 4, align-sorted
    952          volatile FLIST* fltop = NULL;
   \                     fltop:
   \   00000000                      DS8 4
    953          
    954          enum TYPES { IS_BACK, IS_FOLDER, IS_FILE };

   \                                 In segment DATA_C, align 4, align-sorted
   \                     `?<Constant L"\\x5b\\x25\\x6c\\x73\\x5d">`:
   \   00000000   5B0025006C00       DC8 5BH, 0, 25H, 0, 6CH, 0, 73H, 0
   \              7300        
   \   00000008   5D000000           DC8 5DH, 0, 0, 0
   \   0000000C   2E002E000000       DC8 2EH, 0, 2EH, 0, 0, 0
   \   00000012   0000               DC8 0, 0
    955          const wchar_t back[] = L"..";
    956          

   \                                 In segment CODE, align 4, keep-with-next
    957          void Free_FLIST( void )
    958          {
    959          	FLIST* fl = (FLIST*) fltop;
   \                     ??Free_FLIST:
   \   00000000   ........           LDR      R0,??DataTable52  ;; fltop
   \   00000004   70402DE9           PUSH     {R4-R6,LR}
   \   00000008   004090E5           LDR      R4,[R0, #+0]
    960          	fltop = 0;
   \   0000000C   0010A0E3           MOV      R1,#+0
   \   00000010   001080E5           STR      R1,[R0, #+0]
   \   00000014   000054E3           CMP      R4,#+0
   \   00000018   7080BD08           POPEQ    {R4-R6,PC}
    961          	while( fl )
    962          	{
    963          		FLIST* fl_prev = fl;
   \                     ??Free_FLIST_1:
   \   0000001C   0450A0E1           MOV      R5,R4
    964          		delete fl_prev->fullname;
   \   00000020   086085E2           ADD      R6,R5,#+8
   \   00000024   000096E5           LDR      R0,[R6, #+0]
   \   00000028   ........           _BLF     `??operator delete`,`??operator delete??rA`
    965          		delete fl_prev->name;
   \   0000002C   040096E5           LDR      R0,[R6, #+4]
   \   00000030   ........           _BLF     `??operator delete`,`??operator delete??rA`
    966          		fl = (FLIST*) fl->next;
   \   00000034   004094E5           LDR      R4,[R4, #+0]
    967          		delete fl_prev;
   \   00000038   0500A0E1           MOV      R0,R5
   \   0000003C   ........           _BLF     `??operator delete`,`??operator delete??rA`
    968          	}
   \   00000040   000054E3           CMP      R4,#+0
   \   00000044   F4FFFF1A           BNE      ??Free_FLIST_1
    969          }
   \   00000048   7080BDE8           POP      {R4-R6,PC}       ;; return
    970          
    971          #define FREE_FLGUI( a ) Free_FLIST(); \
    972          	FREE_GUI( a );
    973          

   \                                 In segment CODE, align 4, keep-with-next
    974          FLIST* AddToFList( const wchar_t* full_name, const wchar_t* name, int is_folder )
    975          {
   \                     ??AddToFList:
   \   00000000   F0402DE9           PUSH     {R4-R7,LR}
   \   00000004   0050A0E1           MOV      R5,R0
   \   00000008   0160A0E1           MOV      R6,R1
   \   0000000C   0270A0E1           MOV      R7,R2
    976          	// int l_fname;
    977          	FLIST* fl;
    978          	FLIST* fn = new FLIST;
   \   00000010   1000A0E3           MOV      R0,#+16
   \   00000014   ........           _BLF     `??operator new`,`??operator new??rA`
   \   00000018   0040A0E1           MOV      R4,R0
    979          	fn->fullname = new wchar_t[wstrlen( full_name ) + 1];
   \   0000001C   0500A0E1           MOV      R0,R5
   \   00000020   570100EF           SWI      +343
   \   00000024   010080E2           ADD      R0,R0,#+1
   \   00000028   8000A0E1           LSL      R0,R0,#+1
   \   0000002C   ........           _BLF     `??operator new[]`,`??operator new[]??rA`
   \   00000030   080084E5           STR      R0,[R4, #+8]
    980          	fn->name = new wchar_t[wstrlen( name ) + 1];
   \   00000034   0600A0E1           MOV      R0,R6
   \   00000038   570100EF           SWI      +343
   \   0000003C   010080E2           ADD      R0,R0,#+1
   \   00000040   8000A0E1           LSL      R0,R0,#+1
   \   00000044   ........           _BLF     `??operator new[]`,`??operator new[]??rA`
   \   00000048   0C0084E5           STR      R0,[R4, #+12]
    981          	wstrcpy( fn->fullname, full_name );
   \   0000004C   080094E5           LDR      R0,[R4, #+8]
   \   00000050   0510A0E1           MOV      R1,R5
   \   00000054   520100EF           SWI      +338
    982          	wstrcpy( fn->name, name );
   \   00000058   0C0094E5           LDR      R0,[R4, #+12]
   \   0000005C   0610A0E1           MOV      R1,R6
   \   00000060   520100EF           SWI      +338
    983          	fn->is_folder = is_folder;
   \   00000064   047084E5           STR      R7,[R4, #+4]
    984          	fn->next = 0;
   \   00000068   0000A0E3           MOV      R0,#+0
   \   0000006C   000084E5           STR      R0,[R4, #+0]
    985          	fl = (FLIST*) fltop;
   \   00000070   ........           LDR      R0,??DataTable52  ;; fltop
   \   00000074   005090E5           LDR      R5,[R0, #+0]
    986          	if ( fl )
   \   00000078   000055E3           CMP      R5,#+0
   \   0000007C   0D00000A           BEQ      ??AddToFList_1
    987          	{
    988          		FLIST* pr;
    989          		pr = (FLIST*) &fltop;
   \   00000080   ........           LDR      R6,??DataTable52  ;; fltop
    990          		while( wstrcmpi( fl->name, fn->name ) < 0 )
   \                     ??AddToFList_2:
   \   00000084   0C0095E5           LDR      R0,[R5, #+12]
   \   00000088   0C1094E5           LDR      R1,[R4, #+12]
   \   0000008C   9F0200EF           SWI      +671
   \   00000090   000050E3           CMP      R0,#+0
   \   00000094   0300005A           BPL      ??AddToFList_3
    991          		{
    992          			pr = fl;
   \   00000098   0560A0E1           MOV      R6,R5
    993          			fl = (FLIST*) fl->next;
   \   0000009C   005095E5           LDR      R5,[R5, #+0]
    994          
    995          			if ( !fl )
   \   000000A0   000055E3           CMP      R5,#+0
   \   000000A4   F6FFFF1A           BNE      ??AddToFList_2
    996          				break;
    997          		}
    998          		fn->next = fl;
   \                     ??AddToFList_3:
   \   000000A8   005084E5           STR      R5,[R4, #+0]
    999          		pr->next = fn;
   \   000000AC   004086E5           STR      R4,[R6, #+0]
   \   000000B0   0400A0E1           MOV      R0,R4
   \   000000B4   F080BDE8           POP      {R4-R7,PC}
   1000          	}
   1001          	else
   1002          	{
   1003          		fltop = fn;
   \                     ??AddToFList_1:
   \   000000B8   004080E5           STR      R4,[R0, #+0]
   1004          	}
   1005          	return fn;
   \   000000BC   0400A0E1           MOV      R0,R4
   \   000000C0   F080BDE8           POP      {R4-R7,PC}       ;; return
   1006          }
   1007          

   \                                 In segment CODE, align 4, keep-with-next
   1008          int FindFiles( wchar_t* str, int type ) // type == 0 SelectFolder, type == 1 SelectFile
   1009          {
   \                     ??FindFiles:
   \   00000000   F24F2DE9           PUSH     {R1,R4-R11,LR}
   \   00000004   28D04DE2           SUB      SP,SP,#+40
   \   00000008   0040A0E1           MOV      R4,R0
   1010          	int i, c, n = 0;
   \   0000000C   0050A0E3           MOV      R5,#+0
   1011          	Free_FLIST();
   \   00000010   ........           BL       ??Free_FLIST
   1012          	wchar_t* path = new wchar_t[256];
   \   00000014   800FA0E3           MOV      R0,#+512
   \   00000018   ........           _BLF     `??operator new[]`,`??operator new[]??rA`
   \   0000001C   0060A0E1           MOV      R6,R0
   1013          	wchar_t* name = new wchar_t[64];
   \   00000020   8000A0E3           MOV      R0,#+128
   \   00000024   ........           _BLF     `??operator new[]`,`??operator new[]??rA`
   \   00000028   0080A0E1           MOV      R8,R0
   1014          	wchar_t* rev = NULL, * d = name, * s = str;
   \   0000002C   0070A0E3           MOV      R7,#+0
   \   00000030   0410A0E1           MOV      R1,R4
   \   00000034   060000EA           B        ??FindFiles_1
   1015          	while( ( c = *s++ ) )
   1016          	{
   1017          		*d = c;
   \                     ??FindFiles_2:
   \   00000038   B020C0E1           STRH     R2,[R0, #+0]
   1018          		if ( c == '/' &&* s!= '\0' ) rev = d;
   \   0000003C   2F0052E3           CMP      R2,#+47
   \   00000040   0200001A           BNE      ??FindFiles_3
   \   00000044   B020D1E1           LDRH     R2,[R1, #+0]
   \   00000048   000052E3           CMP      R2,#+0
   \   0000004C   0070A011           MOVNE    R7,R0
   1019          		d++;
   \                     ??FindFiles_3:
   \   00000050   020080E2           ADD      R0,R0,#+2
   1020          	}
   \                     ??FindFiles_1:
   \   00000054   ........           LDRH     R2,[R1], #+2
   \   00000058   000052E3           CMP      R2,#+0
   \   0000005C   F5FFFF1A           BNE      ??FindFiles_2
   1021          	if( rev )
   \   00000060   000057E3           CMP      R7,#+0
   \   00000064   0700000A           BEQ      ??FindFiles_4
   1022          	{
   1023          		if ( rev == name ) // Если идем на корень
   1024          			* ( rev + 1 ) = 0;
   1025          		else
   1026          			* rev = 0;
   1027          		AddToFList( name, back, IS_BACK );
   \   00000068   F8109FE5           LDR      R1,??FindFiles_5  ;; `?<Constant L"\\x5b\\x25\\x6c\\x73\\x5d">` + 12
   \   0000006C   080057E1           CMP      R7,R8
   \   00000070   0000A0E3           MOV      R0,#+0
   \   00000074   B200C701           STRHEQ   R0,[R7, #+2]
   \   00000078   B000C711           STRHNE   R0,[R7, #+0]
   \   0000007C   0800A0E1           MOV      R0,R8
   \   00000080   ........           BL       ??AddToFList
   1028          		n++;
   \   00000084   0150A0E3           MOV      R5,#+1
   1029          	}
   1030          	void* dir = w_diropen( str );
   \                     ??FindFiles_4:
   \   00000088   0400A0E1           MOV      R0,R4
   \   0000008C   2C0300EF           SWI      +812
   \   00000090   0090B0E1           MOVS     R9,R0
   1031          	if ( dir )
   \   00000094   2C00000A           BEQ      ??FindFiles_6
   1032          	{
   1033          		wchar_t* next;
   1034          		w_chdir( str );
   \   00000098   0400A0E1           MOV      R0,R4
   \   0000009C   F70200EF           SWI      +759
   \   000000A0   090000EA           B        ??FindFiles_7
   1035          		while( ( next = w_dirread( dir ) ) )
   1036          		{
   1037          			W_FSTAT fs;
   1038          			w_fstat( next, &fs );
   1039          			i = wstrlen( str );
   1040          			wstrcpy( path, str );
   1041          			if ( rev )
   1042          			{
   1043          				path[ i++ ] = '/';
   1044          			}
   1045          			wstrcpy( path + i, next );
   1046          			if ( fs.attr&0x4000 )
   1047          			{
   1048          				snwprintf( name, 63, L"[%ls]", next );
   \                     ??FindFiles_8:
   \   000000A4   C0209FE5           LDR      R2,??FindFiles_5+0x4  ;; `?<Constant L"\\x5b\\x25\\x6c\\x73\\x5d">`
   \   000000A8   0A30A0E1           MOV      R3,R10
   \   000000AC   3F10A0E3           MOV      R1,#+63
   \   000000B0   0800A0E1           MOV      R0,R8
   \   000000B4   150100EF           SWI      +277
   1049          				AddToFList( path, name, IS_FOLDER );
   \   000000B8   0120A0E3           MOV      R2,#+1
   \   000000BC   0810A0E1           MOV      R1,R8
   \                     ??FindFiles_9:
   \   000000C0   0600A0E1           MOV      R0,R6
   \   000000C4   ........           BL       ??AddToFList
   1050          				n++;
   \   000000C8   015085E2           ADD      R5,R5,#+1
   1051          			}
   \                     ??FindFiles_7:
   \   000000CC   0900A0E1           MOV      R0,R9
   \   000000D0   2D0300EF           SWI      +813
   \   000000D4   00A0B0E1           MOVS     R10,R0
   \   000000D8   1900000A           BEQ      ??FindFiles_10
   \   000000DC   0D10A0E1           MOV      R1,SP
   \   000000E0   F90200EF           SWI      +761
   \   000000E4   0400A0E1           MOV      R0,R4
   \   000000E8   570100EF           SWI      +343
   \   000000EC   00B0A0E1           MOV      R11,R0
   \   000000F0   0410A0E1           MOV      R1,R4
   \   000000F4   0600A0E1           MOV      R0,R6
   \   000000F8   520100EF           SWI      +338
   \   000000FC   000057E3           CMP      R7,#+0
   \   00000100   0300000A           BEQ      ??FindFiles_11
   \   00000104   8B0086E0           ADD      R0,R6,R11, LSL #+1
   \   00000108   2F10A0E3           MOV      R1,#+47
   \   0000010C   B010C0E1           STRH     R1,[R0, #+0]
   \   00000110   01B08BE2           ADD      R11,R11,#+1
   \                     ??FindFiles_11:
   \   00000114   0A10A0E1           MOV      R1,R10
   \   00000118   8B0086E0           ADD      R0,R6,R11, LSL #+1
   \   0000011C   520100EF           SWI      +338
   \   00000120   00009DE5           LDR      R0,[SP, #+0]
   \   00000124   400C10E3           TST      R0,#0x4000
   \   00000128   DDFFFF1A           BNE      ??FindFiles_8
   1052          			else
   1053          			{
   1054          				if ( type == SFILE )
   \   0000012C   28009DE5           LDR      R0,[SP, #+40]
   \   00000130   010050E3           CMP      R0,#+1
   \   00000134   E4FFFF1A           BNE      ??FindFiles_7
   1055          				{
   1056          					AddToFList( path, next, IS_FILE );
   \   00000138   0220A0E3           MOV      R2,#+2
   \   0000013C   0A10A0E1           MOV      R1,R10
   \   00000140   DEFFFFEA           B        ??FindFiles_9
   1057          					n++;
   1058          				}
   1059          			}
   1060          		}
   1061          		w_dirclose( dir );
   \                     ??FindFiles_10:
   \   00000144   0900A0E1           MOV      R0,R9
   \   00000148   2E0300EF           SWI      +814
   1062          	}
   1063          	delete name;
   \                     ??FindFiles_6:
   \   0000014C   0800A0E1           MOV      R0,R8
   \   00000150   ........           _BLF     `??operator delete`,`??operator delete??rA`
   1064          	delete path;
   \   00000154   0600A0E1           MOV      R0,R6
   \   00000158   ........           _BLF     `??operator delete`,`??operator delete??rA`
   1065          	return n;
   \   0000015C   0500A0E1           MOV      R0,R5
   \   00000160   2CD08DE2           ADD      SP,SP,#+44
   \   00000164   F08FBDE8           POP      {R4-R11,PC}      ;; return
   \                     ??FindFiles_5:
   \   00000168   ........           DC32     `?<Constant L"\\x5b\\x25\\x6c\\x73\\x5d">` + 12
   \   0000016C   ........           DC32     `?<Constant L"\\x5b\\x25\\x6c\\x73\\x5d">`
   1066          }
   1067          

   \                                 In segment CODE, align 4, keep-with-next
   1068          FLIST* FindFLISTtByNS( int* i, int si )
   1069          {
   1070          	FLIST* fl;
   1071          	fl = (FLIST*) fltop;
   \                     ??FindFLISTtByNS:
   \   00000000   ........           LDR      R2,??DataTable52  ;; fltop
   \   00000004   010000EA           B        ??FindFLISTtByNS_1
   1072          	while( fl )
   1073          	{
   1074          		if ( fl->is_folder == si )
   1075          		{
   1076          			if ( !(*i) )
   1077          				return fl;
   1078          			(*i)--;
   \                     ??FindFLISTtByNS_2:
   \   00000008   013043E2           SUB      R3,R3,#+1
   \   0000000C   003080E5           STR      R3,[R0, #+0]
   1079          		}
   1080          		fl = (FLIST*) fl->next;
   \                     ??FindFLISTtByNS_1:
   \   00000010   002092E5           LDR      R2,[R2, #+0]
   \   00000014   000052E3           CMP      R2,#+0
   \   00000018   0700000A           BEQ      ??FindFLISTtByNS_3
   \   0000001C   043092E5           LDR      R3,[R2, #+4]
   \   00000020   010053E1           CMP      R3,R1
   \   00000024   F9FFFF1A           BNE      ??FindFLISTtByNS_1
   \   00000028   003090E5           LDR      R3,[R0, #+0]
   \   0000002C   000053E3           CMP      R3,#+0
   \   00000030   F4FFFF1A           BNE      ??FindFLISTtByNS_2
   \   00000034   0200A0E1           MOV      R0,R2
   \   00000038   1EFF2FE1           BX       LR
   1081          	}
   1082          	return fl;
   \                     ??FindFLISTtByNS_3:
   \   0000003C   0000A0E3           MOV      R0,#+0
   \   00000040   1EFF2FE1           BX       LR               ;; return
   1083          }
   1084          

   \                                 In segment CODE, align 4, keep-with-next
   1085          FLIST* FindFLISTtByN( int n )
   1086          {
   \                     ??FindFLISTtByN:
   \   00000000   01402DE9           PUSH     {R0,LR}
   1087          	FLIST* fl;
   1088          	fl = FindFLISTtByNS( &n, IS_BACK );
   \   00000004   0010A0E3           MOV      R1,#+0
   \   00000008   0D00A0E1           MOV      R0,SP
   \   0000000C   ........           BL       ??FindFLISTtByNS
   1089          
   1090          	if ( !n && fl )
   \   00000010   00109DE5           LDR      R1,[SP, #+0]
   \   00000014   000051E3           CMP      R1,#+0
   \   00000018   0100001A           BNE      ??FindFLISTtByN_1
   \   0000001C   000050E3           CMP      R0,#+0
   1091          		return fl;
   \   00000020   0280BD18           POPNE    {R1,PC}
   1092          
   1093          	fl = FindFLISTtByNS( &n, IS_FOLDER );
   \                     ??FindFLISTtByN_1:
   \   00000024   0110A0E3           MOV      R1,#+1
   \   00000028   0D00A0E1           MOV      R0,SP
   \   0000002C   ........           BL       ??FindFLISTtByNS
   1094          	if ( !n && fl )
   \   00000030   00109DE5           LDR      R1,[SP, #+0]
   \   00000034   000051E3           CMP      R1,#+0
   \   00000038   0100001A           BNE      ??FindFLISTtByN_2
   \   0000003C   000050E3           CMP      R0,#+0
   \   00000040   0280BD18           POPNE    {R1,PC}
   1095          		return fl;
   1096          
   1097          	fl = FindFLISTtByNS( &n, IS_FILE );
   \                     ??FindFLISTtByN_2:
   \   00000044   0210A0E3           MOV      R1,#+2
   \   00000048   0D00A0E1           MOV      R0,SP
   \   0000004C   ........           BL       ??FindFLISTtByNS
   1098          
   1099          	if ( !n && fl )
   \   00000050   0280BDE8           POP      {R1,PC}
   1100          		return fl;
   1101          	return fl;
   1102          }
   1103          
   1104          

   \                                 In segment CODE, align 4, keep-with-next
   1105          int OnMessage( GUI_MESSAGE* msg )
   1106          {
   \                     ??OnMessage:
   \   00000000   10402DE9           PUSH     {R4,LR}
   \   00000004   0040A0E1           MOV      R4,R0
   1107          	int d;
   1108          	TEXTID str = EMPTY_TEXTID;
   1109          	FLIST* f;
   1110          	switch( GUIonMessage_GetMsg( msg ) )
   \   00000008   740300EF           SWI      +884
   \   0000000C   010050E3           CMP      R0,#+1
   \   00000010   0A00001A           BNE      ??OnMessage_1
   1111          	{
   1112          	case 1:
   1113          		d = GUIonMessage_GetCreatedItemIndex( msg );
   \   00000014   0400A0E1           MOV      R0,R4
   \   00000018   370100EF           SWI      +311
   1114          		f = FindFLISTtByN( d );
   \   0000001C   ........           BL       ??FindFLISTtByN
   1115          		str = TextID_Create( f->name, ENC_UCS2, TEXTID_ANY_LEN );
   \   00000020   0C0090E5           LDR      R0,[R0, #+12]
   \   00000024   FF20A0E3           MOV      R2,#+255
   \   00000028   FF2C82E3           ORR      R2,R2,#0xFF00
   \   0000002C   0010A0E3           MOV      R1,#+0
   \   00000030   5D0100EF           SWI      +349
   \   00000034   0010A0E1           MOV      R1,R0
   1116          		GUIonMessage_SetMenuItemText( msg, str );
   \   00000038   0400A0E1           MOV      R0,R4
   \   0000003C   380100EF           SWI      +312
   1117          		break;
   1118          	}
   1119          	return 1;
   \                     ??OnMessage_1:
   \   00000040   0100A0E3           MOV      R0,#+1
   \   00000044   1080BDE8           POP      {R4,PC}          ;; return
   1120          };
   1121          

   \                                 In segment CODE, align 4, keep-with-next
   1122          void Self_OnBack( BOOK* bk, GUI* )
   1123          {
   \                     ??Self_OnBack:
   \   00000000   10402DE9           PUSH     {R4,LR}
   \   00000004   0040A0E1           MOV      R4,R0
   1124          	MyBOOK* myBook = (MyBOOK*) bk;
   1125          	FREE_FLGUI( myBook->selectf );
   \   00000008   ........           BL       ??Free_FLIST
   \   0000000C   480094E5           LDR      R0,[R4, #+72]
   \   00000010   000050E3           CMP      R0,#+0
   \   00000014   1080BD08           POPEQ    {R4,PC}
   \   00000018   CE0100EF           SWI      +462
   \   0000001C   480084E5           STR      R0,[R4, #+72]
   1126          }
   \   00000020   1080BDE8           POP      {R4,PC}          ;; return
   1127          

   \                                 In segment CODE, align 4, keep-with-next
   1128          void Self_onEnterPressed( BOOK* bk, GUI* )
   1129          {
   \                     ??Self_onEnterPressed:
   \   00000000   70402DE9           PUSH     {R4-R6,LR}
   \   00000004   0050A0E1           MOV      R5,R0
   1130          	MyBOOK* myBook = (MyBOOK*) bk;
   1131          	int item = ListMenu_GetSelectedItem( myBook->selectf );
   \   00000008   480095E5           LDR      R0,[R5, #+72]
   \   0000000C   3E0100EF           SWI      +318
   1132          	FLIST* fl = FindFLISTtByN( item );
   \   00000010   ........           BL       ??FindFLISTtByN
   \   00000014   0060B0E1           MOVS     R6,R0
   1133          	if ( fl )
   \   00000018   7080BD08           POPEQ    {R4-R6,PC}
   1134          	{
   1135          		wchar_t* path = new wchar_t[256];
   \   0000001C   800FA0E3           MOV      R0,#+512
   \   00000020   ........           _BLF     `??operator new[]`,`??operator new[]??rA`
   \   00000024   0040A0E1           MOV      R4,R0
   1136          		if ( fl->is_folder == IS_FOLDER || fl->is_folder == IS_BACK )
   \   00000028   040096E5           LDR      R0,[R6, #+4]
   \   0000002C   010050E3           CMP      R0,#+1
   \   00000030   00005013           CMPNE    R0,#+0
   \   00000034   0D00001A           BNE      ??Self_onEnterPressed_1
   1137          		{
   1138          			wstrncpy( path, fl->fullname, 255 );
   \   00000038   081096E5           LDR      R1,[R6, #+8]
   \   0000003C   FF20A0E3           MOV      R2,#+255
   \   00000040   0400A0E1           MOV      R0,R4
   \   00000044   530100EF           SWI      +339
   1139          			FREE_FLGUI( myBook->selectf );
   \   00000048   ........           BL       ??Free_FLIST
   \   0000004C   480095E5           LDR      R0,[R5, #+72]
   \   00000050   000050E3           CMP      R0,#+0
   \   00000054   0100000A           BEQ      ??Self_onEnterPressed_2
   \   00000058   CE0100EF           SWI      +462
   \   0000005C   480085E5           STR      R0,[R5, #+72]
   1140          			myBook->selectf = CreateFileFolderSelect( myBook, path );
   \                     ??Self_onEnterPressed_2:
   \   00000060   0410A0E1           MOV      R1,R4
   \   00000064   0500A0E1           MOV      R0,R5
   \   00000068   ........           BL       ??CreateFileFolderSelect
   \   0000006C   0E0000EA           B        ??Self_onEnterPressed_3
   1141          		}
   1142          		else
   1143          		{
   1144          			TEXTID str = TextID_Create( fl->fullname, ENC_UCS2, TEXTID_ANY_LEN );
   \                     ??Self_onEnterPressed_1:
   \   00000070   080096E5           LDR      R0,[R6, #+8]
   \   00000074   FF20A0E3           MOV      R2,#+255
   \   00000078   FF2C82E3           ORR      R2,R2,#0xFF00
   \   0000007C   0010A0E3           MOV      R1,#+0
   \   00000080   5D0100EF           SWI      +349
   \   00000084   0060A0E1           MOV      R6,R0
   1145          			StringInput_DispObject_SetText( GUIObject_GetDispObject( myBook->text_input ), str );
   \   00000088   200095E5           LDR      R0,[R5, #+32]
   \   0000008C   680100EF           SWI      +360
   \   00000090   0610A0E1           MOV      R1,R6
   \   00000094   120300EF           SWI      +786
   1146          			FREE_FLGUI( myBook->selectf );
   \   00000098   ........           BL       ??Free_FLIST
   \   0000009C   480095E5           LDR      R0,[R5, #+72]
   \   000000A0   000050E3           CMP      R0,#+0
   \   000000A4   0100000A           BEQ      ??Self_onEnterPressed_4
   \   000000A8   CE0100EF           SWI      +462
   \                     ??Self_onEnterPressed_3:
   \   000000AC   480085E5           STR      R0,[R5, #+72]
   1147          		}
   1148          		delete path;
   \                     ??Self_onEnterPressed_4:
   \   000000B0   0400A0E1           MOV      R0,R4
   \   000000B4   ........           _BLF     `??operator delete`,`??operator delete??rA`
   1149          	}
   1150          }
   \   000000B8   7080BDE8           POP      {R4-R6,PC}       ;; return
   1151          

   \                                 In segment CODE, align 4, keep-with-next
   1152          void Self_onSelectPressed( BOOK* bk, GUI* )
   1153          {
   \                     ??Self_onSelectPressed:
   \   00000000   30402DE9           PUSH     {R4,R5,LR}
   \   00000004   0040A0E1           MOV      R4,R0
   1154          	MyBOOK* myBook = (MyBOOK*) bk;
   1155          	int item = ListMenu_GetSelectedItem( myBook->selectf );
   \   00000008   480094E5           LDR      R0,[R4, #+72]
   \   0000000C   3E0100EF           SWI      +318
   1156          
   1157          	FLIST* fl = FindFLISTtByN( item );
   \   00000010   ........           BL       ??FindFLISTtByN
   1158          	if ( fl )
   \   00000014   000050E3           CMP      R0,#+0
   \   00000018   3080BD08           POPEQ    {R4,R5,PC}
   1159          	{
   1160          		if ( ( fl->is_folder == IS_FOLDER && myBook->type == SFOLDER ) || fl->is_folder == IS_FILE )
   \   0000001C   041090E5           LDR      R1,[R0, #+4]
   \   00000020   010051E3           CMP      R1,#+1
   \   00000024   0200001A           BNE      ??Self_onSelectPressed_1
   \   00000028   4C1094E5           LDR      R1,[R4, #+76]
   \   0000002C   000051E3           CMP      R1,#+0
   \   00000030   000000EA           B        ??Self_onSelectPressed_2
   \                     ??Self_onSelectPressed_1:
   \   00000034   020051E3           CMP      R1,#+2
   \                     ??Self_onSelectPressed_2:
   \   00000038   3080BD18           POPNE    {R4,R5,PC}
   1161          		{
   1162          			TEXTID str = TextID_Create( fl->fullname, ENC_UCS2, TEXTID_ANY_LEN );
   \   0000003C   080090E5           LDR      R0,[R0, #+8]
   \   00000040   FF20A0E3           MOV      R2,#+255
   \   00000044   FF2C82E3           ORR      R2,R2,#0xFF00
   \   00000048   0010A0E3           MOV      R1,#+0
   \   0000004C   5D0100EF           SWI      +349
   \   00000050   0050A0E1           MOV      R5,R0
   1163          			StringInput_DispObject_SetText( GUIObject_GetDispObject( myBook->text_input ), str );
   \   00000054   200094E5           LDR      R0,[R4, #+32]
   \   00000058   680100EF           SWI      +360
   \   0000005C   0510A0E1           MOV      R1,R5
   \   00000060   120300EF           SWI      +786
   1164          			FREE_FLGUI( myBook->selectf );
   \   00000064   ........           BL       ??Free_FLIST
   \   00000068   480094E5           LDR      R0,[R4, #+72]
   \   0000006C   000050E3           CMP      R0,#+0
   \   00000070   3080BD08           POPEQ    {R4,R5,PC}
   \   00000074   CE0100EF           SWI      +462
   \   00000078   480084E5           STR      R0,[R4, #+72]
   1165          		}
   1166          	}
   1167          }
   \   0000007C   3080BDE8           POP      {R4,R5,PC}       ;; return
   1168          

   \                                 In segment CODE, align 4, keep-with-next
   1169          int isdir( wchar_t* name ){
   \                     ??isdir:
   \   00000000   00402DE9           PUSH     {LR}
   \   00000004   28D04DE2           SUB      SP,SP,#+40
   1170          	W_FSTAT fs;
   1171          	if ( w_fstat( name, &fs )!= - 1 )
   \   00000008   0D10A0E1           MOV      R1,SP
   \   0000000C   F90200EF           SWI      +761
   \   00000010   010070E3           CMN      R0,#+1
   1172          		return fs.attr&0x4000;
   \   00000014   00009D15           LDRNE    R0,[SP, #+0]
   1173          	else return 0;
   \   00000018   28D08DE2           ADD      SP,SP,#+40
   \   0000001C   400C0012           ANDNE    R0,R0,#0x4000
   \   00000020   0000A003           MOVEQ    R0,#+0
   \   00000024   0080BDE8           POP      {PC}             ;; return
   1174          }
   1175          

   \                                 In segment CODE, align 4, keep-with-next
   1176          GUI_LIST* CreateFileFolderSelect( MyBOOK* myBook, wchar_t* str )
   1177          {
   \                     ??CreateFileFolderSelect:
   \   00000000   F0412DE9           PUSH     {R4-R8,LR}
   \   00000004   0060A0E1           MOV      R6,R0
   \   00000008   0170A0E1           MOV      R7,R1
   1178          	wchar_t* ustr = new wchar_t[256];
   \   0000000C   800FA0E3           MOV      R0,#+512
   \   00000010   ........           _BLF     `??operator new[]`,`??operator new[]??rA`
   \   00000014   0040A0E1           MOV      R4,R0
   1179          	wchar_t* s;
   1180          	GUI_LIST* lo;
   1181          	int n;
   1182          	TEXTID sid = TextID_Create( myBook->type == SFOLDER ? L"Select folder" : L"Select file", ENC_UCS2, TEXTID_ANY_LEN );
   \   00000018   4C0096E5           LDR      R0,[R6, #+76]
   \   0000001C   FF20A0E3           MOV      R2,#+255
   \   00000020   000050E3           CMP      R0,#+0
   \   00000024   54019F05           LDREQ    R0,??CreateFileFolderSelect_1+0x4  ;; `?<Constant L"\\x53\\x65\\x6c\\x65\\x63\\x74\\x20\\x66\\`
   \   00000028   FF2C82E3           ORR      R2,R2,#0xFF00
   \   0000002C   50019F15           LDRNE    R0,??CreateFileFolderSelect_1+0x8  ;; `?<Constant L"\\x53\\x65\\x6c\\x65\\x63\\x74\\x20\\x66\\` + 28
   \   00000030   0010A0E3           MOV      R1,#+0
   \   00000034   5D0100EF           SWI      +349
   \   00000038   0080A0E1           MOV      R8,R0
   1183          	lo = CreateListMenu( myBook, 0 );
   \   0000003C   0010A0E3           MOV      R1,#+0
   \   00000040   0600A0E1           MOV      R0,R6
   \   00000044   C00100EF           SWI      +448
   \   00000048   0050A0E1           MOV      R5,R0
   1184          	GUIObject_SetTitleText( lo, sid );
   \   0000004C   0810A0E1           MOV      R1,R8
   \   00000050   330100EF           SWI      +307
   1185          	wstrcpy( ustr, str );
   \   00000054   0710A0E1           MOV      R1,R7
   \   00000058   0400A0E1           MOV      R0,R4
   \   0000005C   520100EF           SWI      +338
   1186          	str = ustr;
   \   00000060   0470A0E1           MOV      R7,R4
   1187          	int f = 0;
   \   00000064   010000EA           B        ??CreateFileFolderSelect_2
   1188          	do
   1189          	{
   1190          		if ( isdir( ustr ) )
   1191          		{
   1192          			f = 1;
   1193          			break;
   1194          		}
   1195          		s = wstrrchr( ustr, L'/' );
   1196          
   1197          		if ( s == ustr )
   1198          			break;
   1199          
   1200          		if ( s )
   1201          			*s = 0;
   \                     ??CreateFileFolderSelect_3:
   \   00000068   0010A0E3           MOV      R1,#+0
   \   0000006C   B010C0E1           STRH     R1,[R0, #+0]
   \                     ??CreateFileFolderSelect_2:
   \   00000070   0400A0E1           MOV      R0,R4
   \   00000074   ........           BL       ??isdir
   \   00000078   000050E3           CMP      R0,#+0
   \   0000007C   0600001A           BNE      ??CreateFileFolderSelect_4
   \   00000080   2F10A0E3           MOV      R1,#+47
   \   00000084   0400A0E1           MOV      R0,R4
   \   00000088   AE0100EF           SWI      +430
   \   0000008C   040050E1           CMP      R0,R4
   \   00000090   00005013           CMPNE    R0,#+0
   \   00000094   F3FFFF1A           BNE      ??CreateFileFolderSelect_3
   1202          	}while( s );
   1203          
   1204          	if ( !f )
   1205          		str = L"/";
   \   00000098   377F8FE2           ADR      R7,??CreateFileFolderSelect_1  ;; 0x2F, 0x00, 0x00, 0x00
   1206          
   1207          	n = FindFiles( str, myBook->type );
   \                     ??CreateFileFolderSelect_4:
   \   0000009C   4C1096E5           LDR      R1,[R6, #+76]
   1208          	ListMenu_SetItemCount( lo, n );
   1209          	ListMenu_SetCursorToItem( lo, 0 );
   1210          	ListMenu_SetOnMessage( lo, OnMessage );
   1211          	GUIObject_SoftKeys_SetAction( lo, ACTION_SELECT1, Self_onEnterPressed );
   1212          	GUIObject_SoftKeys_SetText( lo, ACTION_SELECT1, TextID_Create( L"Open", ENC_UCS2, TEXTID_ANY_LEN ) );
   \   000000A0   D8809FE5           LDR      R8,??CreateFileFolderSelect_1+0x4  ;; `?<Constant L"\\x53\\x65\\x6c\\x65\\x63\\x74\\x20\\x66\\`
   \   000000A4   0700A0E1           MOV      R0,R7
   \   000000A8   ........           BL       ??FindFiles
   \   000000AC   0010A0E1           MOV      R1,R0
   \   000000B0   0500A0E1           MOV      R0,R5
   \   000000B4   C10100EF           SWI      +449
   \   000000B8   0010A0E3           MOV      R1,#+0
   \   000000BC   0500A0E1           MOV      R0,R5
   \   000000C0   350100EF           SWI      +309
   \   000000C4   BC109FE5           LDR      R1,??CreateFileFolderSelect_1+0xC  ;; ??OnMessage
   \   000000C8   0500A0E1           MOV      R0,R5
   \   000000CC   740100EF           SWI      +372
   \   000000D0   ........           LDR      R0,??DataTable53  ;; ACTION_SELECT1
   \   000000D4   B0209FE5           LDR      R2,??CreateFileFolderSelect_1+0x10  ;; ??Self_onEnterPressed
   \   000000D8   006090E5           LDR      R6,[R0, #+0]
   \   000000DC   0500A0E1           MOV      R0,R5
   \   000000E0   0618A0E1           MOV      R1,R6, LSL #+16
   \   000000E4   2118A0E1           MOV      R1,R1, LSR #+16
   \   000000E8   4B0100EF           SWI      +331
   \   000000EC   FF70A0E3           MOV      R7,#+255
   \   000000F0   FF7C87E3           ORR      R7,R7,#0xFF00
   \   000000F4   0720A0E1           MOV      R2,R7
   \   000000F8   0010A0E3           MOV      R1,#+0
   \   000000FC   340088E2           ADD      R0,R8,#+52
   \   00000100   5D0100EF           SWI      +349
   \   00000104   0020A0E1           MOV      R2,R0
   \   00000108   0618A0E1           MOV      R1,R6, LSL #+16
   \   0000010C   2118A0E1           MOV      R1,R1, LSR #+16
   \   00000110   0500A0E1           MOV      R0,R5
   \   00000114   4C0100EF           SWI      +332
   1213          	GUIObject_SoftKeys_SetAction( lo, ACTION_BACK, Self_OnBack );
   \   00000118   ........           LDR      R0,??DataTable54  ;; ACTION_BACK
   \   0000011C   6C209FE5           LDR      R2,??CreateFileFolderSelect_1+0x14  ;; ??Self_OnBack
   \   00000120   001090E5           LDR      R1,[R0, #+0]
   \   00000124   0500A0E1           MOV      R0,R5
   \   00000128   0118A0E1           MOV      R1,R1, LSL #+16
   \   0000012C   2118A0E1           MOV      R1,R1, LSR #+16
   \   00000130   4B0100EF           SWI      +331
   1214          	GUIObject_SoftKeys_SetAction( lo, 1, Self_onSelectPressed );
   \   00000134   58209FE5           LDR      R2,??CreateFileFolderSelect_1+0x18  ;; ??Self_onSelectPressed
   \   00000138   0110A0E3           MOV      R1,#+1
   \   0000013C   0500A0E1           MOV      R0,R5
   \   00000140   4B0100EF           SWI      +331
   1215          	GUIObject_SoftKeys_SetText( lo, 1, TextID_Create( L"Select", ENC_UCS2, TEXTID_ANY_LEN ) );
   \   00000144   0720A0E1           MOV      R2,R7
   \   00000148   0010A0E3           MOV      R1,#+0
   \   0000014C   400088E2           ADD      R0,R8,#+64
   \   00000150   5D0100EF           SWI      +349
   \   00000154   0020A0E1           MOV      R2,R0
   \   00000158   0110A0E3           MOV      R1,#+1
   \   0000015C   0500A0E1           MOV      R0,R5
   \   00000160   4C0100EF           SWI      +332
   1216          	GUIObject_Show( lo );
   \   00000164   0500A0E1           MOV      R0,R5
   \   00000168   340100EF           SWI      +308
   1217          	delete ustr;
   \   0000016C   0400A0E1           MOV      R0,R4
   \   00000170   ........           _BLF     `??operator delete`,`??operator delete??rA`
   1218          	return lo;
   \   00000174   0500A0E1           MOV      R0,R5
   \   00000178   F081BDE8           POP      {R4-R8,PC}       ;; return
   \                     ??CreateFileFolderSelect_1:
   \   0000017C   2F000000           DC8      0x2F, 0x00, 0x00, 0x00
   \   00000180   ........           DC32     `?<Constant L"\\x53\\x65\\x6c\\x65\\x63\\x74\\x20\\x66\\`
   \   00000184   ........           DC32     `?<Constant L"\\x53\\x65\\x6c\\x65\\x63\\x74\\x20\\x66\\` + 28
   \   00000188   ........           DC32     ??OnMessage
   \   0000018C   ........           DC32     ??Self_onEnterPressed
   \   00000190   ........           DC32     ??Self_OnBack
   \   00000194   ........           DC32     ??Self_onSelectPressed
   1219          }

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable12:
   \   00000000   ........           DC32     ACTION_BACK

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable13:
   \   00000000   ........           DC32     ACTION_SELECT1

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable14:
   \   00000000   ........           DC32     FONT_E_20R

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable17:
   \   00000000   ........           DC32     KBD_SHORT_RELEASE

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable18:
   \   00000000   ........           DC32     KBD_REPEAT

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable21:
   \   00000000   ........           DC32     KEY_UP

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable24:
   \   00000000   ........           DC32     KEY_LEFT

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable26:
   \   00000000   ........           DC32     KEY_RIGHT

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable29:
   \   00000000   ........           DC32     KEY_DOWN

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable30:
   \   00000000   ........           DC32     KEY_DIGITAL_0

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable31:
   \   00000000   ........           DC32     KBD_LONG_RELEASE

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable35:
   \   00000000   ........           DC32     FONT_E_20R

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable37:
   \   00000000   ........           DC32     KBD_SHORT_RELEASE

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable38:
   \   00000000   ........           DC32     KBD_REPEAT

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable39:
   \   00000000   ........           DC32     KEY_UP

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable41:
   \   00000000   ........           DC32     KEY_DOWN

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable42:
   \   00000000   ........           DC32     KEY_DIGITAL_0

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable46:
   \   00000000   ........           DC32     font_step

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable52:
   \   00000000   ........           DC32     fltop

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable53:
   \   00000000   ........           DC32     ACTION_SELECT1

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable54:
   \   00000000   ........           DC32     ACTION_BACK

   \                                 In segment DATA_ID, align 4, align-sorted
   \                     `?<Initializer for colors>`:
   \   00000000   0000FFFF00FF       DC32 -65536, -16711936, -16776961, -2134463825
   \              00FFFF0000FF
   \              AFAAC680    

   \                                 In segment DATA_C, align 4, align-sorted
   \                     `?<Constant L"\\x25\\x30\\x32\\x58\\x2c\\x20\\x25\\x30\\`:
   \   00000000   250030003200       DC8 25H, 0, 30H, 0, 32H, 0, 58H, 0
   \              5800        
   \   00000008   2C0020002500       DC8 2CH, 0, 20H, 0, 25H, 0, 30H, 0
   \              3000        
   \   00000010   320058002C00       DC8 32H, 0, 58H, 0, 2CH, 0, 20H, 0
   \              2000        
   \   00000018   250030003200       DC8 25H, 0, 30H, 0, 32H, 0, 58H, 0
   \              5800        
   \   00000020   2C0020002500       DC8 2CH, 0, 20H, 0, 25H, 0, 30H, 0
   \              3000        
   \   00000028   320058000000       DC8 32H, 0, 58H, 0, 0, 0
   \   0000002E   0000               DC8 0, 0

   \                                 In segment DATA_C, align 4, align-sorted
   \                     `?<Constant L"\\x4f\\x4b">`:
   \   00000000   4F004B000000       DC8 4FH, 0, 4BH, 0, 0, 0
   \   00000006   0000               DC8 0, 0

   \                                 In segment DATA_C, align 4, align-sorted
   \                     `?<Constant L"\\x25\\x64\\x2c\\x20\\x25\\x64\\x2c\\x20\\`:
   \   00000000   250064002C00       DC8 25H, 0, 64H, 0, 2CH, 0, 20H, 0
   \              2000        
   \   00000008   250064002C00       DC8 25H, 0, 64H, 0, 2CH, 0, 20H, 0
   \              2000        
   \   00000010   250064002C00       DC8 25H, 0, 64H, 0, 2CH, 0, 20H, 0
   \              2000        
   \   00000018   250064000000       DC8 25H, 0, 64H, 0, 0, 0
   \   0000001E   0000               DC8 0, 0
   \   00000020   250064002C00       DC8 25H, 0, 64H, 0, 2CH, 0, 20H, 0
   \              2000        
   \   00000028   250064000000       DC8 25H, 0, 64H, 0, 0, 0
   \   0000002E   0000               DC8 0, 0

   \                                 In segment DATA_C, align 4, align-sorted
   \                     `?<Constant L"\\x55\\x6e\\x64\\x65\\x66\\x69\\x6e\\x65\\`:
   \   00000000   55006E006400       DC8 55H, 0, 6EH, 0, 64H, 0, 65H, 0
   \              6500        
   \   00000008   660069006E00       DC8 66H, 0, 69H, 0, 6EH, 0, 65H, 0
   \              6500        
   \   00000010   64000000           DC8 64H, 0, 0, 0

   \                                 In segment DATA_C, align 4, align-sorted
   \                     `?<Constant L"\\x412\\x432\\x435\\x434\\x438\\x442\\x4`:
   \   00000000   120432043504       DC8 12H, 4, 32H, 4, 35H, 4, 34H, 4
   \              3404        
   \   00000008   380442043504       DC8 38H, 4, 42H, 4, 35H, 4, 20H, 0
   \              2000        
   \   00000010   480430043304       DC8 48H, 4, 30H, 4, 33H, 4, 0, 0
   \              0000        

   \                                 In segment DATA_C, align 4, align-sorted
   \                     `?<Constant L"\\x4d\\x50\\x5f\\x4d\\x41\\x4e\\x55\\x41\\`:
   \   00000000   4D0050005F00       DC8 4DH, 0, 50H, 0, 5FH, 0, 4DH, 0
   \              4D00        
   \   00000008   41004E005500       DC8 41H, 0, 4EH, 0, 55H, 0, 41H, 0
   \              4100        
   \   00000010   4C005F005300       DC8 4CH, 0, 5FH, 0, 53H, 0, 4BH, 0
   \              4B00        
   \   00000018   0000               DC8 0, 0
   \   0000001A   0000               DC8 0, 0

   \                                 In segment DATA_C, align 4, align-sorted
   \                     `?<Constant L"\\x53\\x65\\x6c\\x65\\x63\\x74\\x20\\x66\\`:
   \   00000000   530065006C00       DC8 53H, 0, 65H, 0, 6CH, 0, 65H, 0
   \              6500        
   \   00000008   630074002000       DC8 63H, 0, 74H, 0, 20H, 0, 66H, 0
   \              6600        
   \   00000010   6F006C006400       DC8 6FH, 0, 6CH, 0, 64H, 0, 65H, 0
   \              6500        
   \   00000018   72000000           DC8 72H, 0, 0, 0
   \   0000001C   530065006C00       DC8 53H, 0, 65H, 0, 6CH, 0, 65H, 0
   \              6500        
   \   00000024   630074002000       DC8 63H, 0, 74H, 0, 20H, 0, 66H, 0
   \              6600        
   \   0000002C   69006C006500       DC8 69H, 0, 6CH, 0, 65H, 0, 0, 0
   \              0000        
   \   00000034   4F0070006500       DC8 4FH, 0, 70H, 0, 65H, 0, 6EH, 0
   \              6E00        
   \   0000003C   0000               DC8 0, 0
   \   0000003E   0000               DC8 0, 0
   \   00000040   530065006C00       DC8 53H, 0, 65H, 0, 6CH, 0, 65H, 0
   \              6500        
   \   00000048   630074000000       DC8 63H, 0, 74H, 0, 0, 0
   \   0000004E   0000               DC8 0, 0

   \                                 In segment DATA_C, align 4, align-sorted
   \   00000000   2F000000           DC8 2FH, 0, 0, 0

   Maximum stack usage in bytes:

     Function                       CSTACK
     --------                       ------
     AddToFList(wchar_t const *, wchar_t const *, int)
                                       20
     CheckStringVisibility(DISP_OBJ_FONT_SEL *, int, int, int, int, int)
                                       12
     ColorGuiOnClose(DISP_OBJ_COLOR *)
                                        4
     ColorGuiOnCreate(DISP_OBJ_COLOR *)
                                        0
     ColorGuiOnKey(DISP_OBJ_COLOR *, int, int, int, int)
                                        4
     ColorGuiOnRedraw(DISP_OBJ_COLOR *, int, int, int)
                                      152
     CoordinatesGuiOnClose(DISP_OBJ_COORD *)
                                        4
     CoordinatesGuiOnCreate(DISP_OBJ_COORD *)
                                        0
     CoordinatesGuiOnKey(DISP_OBJ_COORD *, int, int, int, int)
                                       24
     CoordinatesGuiOnRedraw(DISP_OBJ_COORD *, int, int, int)
                                      148
     CreateEditColorGUI(MyBOOK *, int)
                                       96
     CreateEditCoordinatesGUI(MyBOOK *, int)
                                       28
     CreateFileFolderSelect(MyBOOK *, wchar_t *)
                                       24
     CreateFontSelectGUI(MyBOOK *, int)
                                      160
     DrawArrow(int, int, int)          68
     DrawOwnRect(int, int, int, int, int, int)
                                       40
     EditColorGui_constr(DISP_DESC *)
                                        8
     EditColorGui_destr(GUI *)          0
     EditCoordinatesGui_constr(DISP_DESC *)
                                        8
     EditCoordinatesGui_destr(GUI *)
                                        0
     FindFLISTtByN(int)                 8
     FindFLISTtByNS(int *, int)         0
     FindFiles(wchar_t *, int)         80
     FontSelectGuiOnClose(DISP_OBJ_FONT_SEL *)
                                        8
     FontSelectGuiOnCreate(DISP_OBJ_FONT_SEL *)
                                      144
     FontSelectGuiOnKey(DISP_OBJ_FONT_SEL *, int, int, int, int)
                                        4
     FontSelectGuiOnRedraw(DISP_OBJ_FONT_SEL *, int, RECT *, int)
                                       88
     FontSelectGui_constr(DISP_DESC *)
                                        8
     FontSelectGui_destr(GUI *)         0
     Font_GetNameByFontId(int)         20
     Free_FLIST()                      16
     GetIdByFontId(int)                20
     OnBackColorEdit(BOOK *, GUI *)     8
     OnBackCoordinatesEdit(BOOK *, void *)
                                        8
     OnBackFontSelect(BOOK *, GUI *)
                                        8
     OnBackManualFontSelect(BOOK *, GUI *)
                                        8
     OnManualFontSelect(BOOK *, GUI *)
                                       48
     OnMessage(GUI_MESSAGE *)           8
     OnOkColorEdit(BOOK *, GUI *)       8
     OnOkCoordinatesEdit(BOOK *, void *)
                                        8
     OnOkFontSelect(BOOK *, GUI *)     12
     OnOkManualFontSelect(BOOK *, wchar_t *, int)
                                       12
     OnOrientationChangeCoordinatesEdit(BOOK *, void *)
                                        8
     Self_OnBack(BOOK *, GUI *)         8
     Self_onEnterPressed(BOOK *, GUI *)
                                       16
     Self_onSelectPressed(BOOK *, GUI *)
                                       12
     isdir(wchar_t *)                  44


   Segment part sizes:

     Function/Label                 Bytes
     --------------                 -----
     EditColorGuiName                 16
     colors                           16
     font_step                         4
     ColorGuiOnCreate(DISP_OBJ_COLOR *)
                                      36
     ColorGuiOnClose(DISP_OBJ_COLOR *)
                                      16
     ColorGuiOnRedraw(DISP_OBJ_COLOR *, int, int, int)
                                     892
     ColorGuiOnKey(DISP_OBJ_COLOR *, int, int, int, int)
                                     664
     EditColorGui_constr(DISP_DESC *)
                                     100
     EditColorGui_destr(GUI *)         4
     OnBackColorEdit(BOOK *, GUI *)   32
     OnOkColorEdit(BOOK *, GUI *)    144
     CreateEditColorGUI(MyBOOK *, int)
                                     440
     CooordinatesGuiName              16
     CoordinatesGuiOnCreate(DISP_OBJ_COORD *)
                                      36
     CoordinatesGuiOnClose(DISP_OBJ_COORD *)
                                      16
     DrawOwnRect(int, int, int, int, int, int)
                                     196
     DrawArrow(int, int, int)        232
     CoordinatesGuiOnRedraw(DISP_OBJ_COORD *, int, int, int)
                                     944
     CoordinatesGuiOnKey(DISP_OBJ_COORD *, int, int, int, int)
                                     788
     EditCoordinatesGui_constr(DISP_DESC *)
                                     100
     EditCoordinatesGui_destr(GUI *)
                                       4
     OnOrientationChangeCoordinatesEdit(BOOK *, void *)
                                      36
     OnBackCoordinatesEdit(BOOK *, void *)
                                      84
     OnOkCoordinatesEdit(BOOK *, void *)
                                     240
     CreateEditCoordinatesGUI(MyBOOK *, int)
                                     288
     FontSelectGuiName                16
     test_str                         16
     Font_GetNameByFontId(int)        92
     GetIdByFontId(int)               80
     FontSelectGuiOnCreate(DISP_OBJ_FONT_SEL *)
                                     340
     FontSelectGuiOnClose(DISP_OBJ_FONT_SEL *)
                                      36
     CheckStringVisibility(DISP_OBJ_FONT_SEL *, int, int, int, int, int)
                                     172
     FontSelectGuiOnRedraw(DISP_OBJ_FONT_SEL *, int, RECT *, int)
                                     708
     FontSelectGuiOnKey(DISP_OBJ_FONT_SEL *, int, int, int, int)
                                     256
     OnBackFontSelect(BOOK *, GUI *)
                                      32
     OnOkFontSelect(BOOK *, GUI *)   140
     FontSelectGui_constr(DISP_DESC *)
                                     100
     OnOkManualFontSelect(BOOK *, wchar_t *, int)
                                      84
     OnBackManualFontSelect(BOOK *, GUI *)
                                      32
     OnManualFontSelect(BOOK *, GUI *)
                                     172
     FontSelectGui_destr(GUI *)        4
     CreateFontSelectGUI(MyBOOK *, int)
                                     484
     fltop                             4
     ?<Constant L"\x5b\x25\x6c\x73\x5d">
                                      20
     Free_FLIST()                     76
     AddToFList(wchar_t const *, wchar_t const *, int)
                                     196
     FindFiles(wchar_t *, int)       368
     FindFLISTtByNS(int *, int)       68
     FindFLISTtByN(int)               84
     OnMessage(GUI_MESSAGE *)         72
     Self_OnBack(BOOK *, GUI *)       36
     Self_onEnterPressed(BOOK *, GUI *)
                                     188
     Self_onSelectPressed(BOOK *, GUI *)
                                     128
     isdir(wchar_t *)                 40
     CreateFileFolderSelect(MyBOOK *, wchar_t *)
                                     408
     ??DataTable12                     4
     ??DataTable13                     4
     ??DataTable14                     4
     ??DataTable17                     4
     ??DataTable18                     4
     ??DataTable21                     4
     ??DataTable24                     4
     ??DataTable26                     4
     ??DataTable29                     4
     ??DataTable30                     4
     ??DataTable31                     4
     ??DataTable35                     4
     ??DataTable37                     4
     ??DataTable38                     4
     ??DataTable39                     4
     ??DataTable41                     4
     ??DataTable42                     4
     ??DataTable46                     4
     ??DataTable52                     4
     ??DataTable53                     4
     ??DataTable54                     4
     ?<Initializer for colors>        16
     ?<Constant L"\x25\x30\x32\x58\x2c\x20\x25\x30\
                                      48
     ?<Constant L"\x4f\x4b">           8
     ?<Constant L"\x25\x64\x2c\x20\x25\x64\x2c\x20\
                                      48
     ?<Constant L"\x55\x6e\x64\x65\x66\x69\x6e\x65\
                                      20
     ?<Constant L"\x412\x432\x435\x434\x438\x442\x4
                                      24
     ?<Constant L"\x4d\x50\x5f\x4d\x41\x4e\x55\x41\
                                      28
     ?<Constant L"\x53\x65\x6c\x65\x63\x74\x20\x66\
                                      80
     ?<Constant L"\x2f">               4
      Others                         284

 
 10 032 bytes in segment CODE
    344 bytes in segment DATA_C
     16 bytes in segment DATA_I
     16 bytes in segment DATA_ID
      8 bytes in segment DATA_Z
     24 bytes in segment INITTAB
 
 9 772 bytes of CODE  memory (+ 284 bytes shared)
   360 bytes of CONST memory
    24 bytes of DATA  memory

Errors: none
Warnings: none
