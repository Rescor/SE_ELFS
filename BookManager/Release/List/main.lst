##############################################################################
#                                                                            #
# IAR ARM ANSI C/C++ Compiler V4.42A/W32 EVALUATION    10/Jun/2013  23:00:47 #
# Copyright 1999-2005 IAR Systems. All rights reserved.                      #
#                                                                            #
#    Cpu mode        =  interwork                                            #
#    Endian          =  little                                               #
#    Stack alignment =  4                                                    #
#    Source file     =  Z:\home\perk11\www\perk11.info\svn\SE\BookManager\ma #
#                       in.c                                                 #
#    Command line    =  Z:\home\perk11\www\perk11.info\svn\SE\BookManager\ma #
#                       in.c -D NDEBUG -lC Z:\home\perk11\www\perk11.info\sv #
#                       n\SE\BookManager\Release\List\ -lA                   #
#                       Z:\home\perk11\www\perk11.info\svn\SE\BookManager\Re #
#                       lease\List\ -o Z:\home\perk11\www\perk11.info\svn\SE #
#                       \BookManager\Release\Obj\ -s9 --no_unroll            #
#                       --no_inline --cpu_mode arm --endian little --cpu     #
#                       ARM926EJ-S --stack_align 4 --interwork -e            #
#                       --enable_multibytes --fpu None --eec++               #
#                       --dlib_config Z:\home\perk11\IAR2\arm\LIB\dl5tpainl8 #
#                       n.h --preinclude ..\deleaker\mem2.h -I               #
#                       Z:\home\perk11\IAR2\arm\INC\                         #
#    List file       =  Z:\home\perk11\www\perk11.info\svn\SE\BookManager\Re #
#                       lease\List\main.lst                                  #
#    Object file     =  Z:\home\perk11\www\perk11.info\svn\SE\BookManager\Re #
#                       lease\Obj\main.r79                                   #
#                                                                            #
#                                                                            #
##############################################################################


   \                                 In segment CODE, align 4, keep-with-next
   \   __??Code32?? __code __interwork __atpcs LPARAM::LPARAM(int)
   \                     ??LPARAM:
   \   00000000   001080E5           STR      R1,[R0, #+0]
   \   00000004   1EFF2FE1           BX       LR               ;; return

   \                                 In segment CODE, align 4, keep-with-next
   \   __??Code32?? __code __interwork __atpcs LPARAM::LPARAM(void *)
   \                     ??LPARAM_1:
   \   00000000   001080E5           STR      R1,[R0, #+0]
   \   00000004   1EFF2FE1           BX       LR               ;; return

   \                                 In segment CODE, align 4, keep-with-next
   \   __??Code32?? __code __interwork __atpcs void INHERITANCECHECK<DISP_OBJ, DISP_OBJ>()
   \                     ??INHERITANCECHECK:
   \   00000000   1EFF2FE1           BX       LR               ;; return

   \                                 In segment CODE, align 4, keep-with-next
   \   __??Code32?? __code __interwork __atpcs KEYHOOKPROC MKKEYHOOKPROC(int (*)(int, int, int, _MYBOOK *, DISP_OBJ *))
   \                     ??MKKEYHOOKPROC:
   \   00000000   10402DE9           PUSH     {R4,LR}
   \   00000004   0040A0E1           MOV      R4,R0
   \   00000008   ........           _BLF     ??INHERITANCECHECK,??INHERITANCECHECK??rA
   \   0000000C   0400A0E1           MOV      R0,R4
   \   00000010   1080BDE8           POP      {R4,PC}          ;; return
Z:\home\perk11\www\perk11.info\svn\SE\BookManager\main.c
      1          #include "..\include\Lib_Clara.h"
      2          #include "..\include\Dir.h"
      3          #include "..\include\var_arg.h"
      4          #include "..\include\cfg_items.h"
      5          #include "conf_loader.h"
      6          #include "config_data.h"
      7          #include "shortcuts.h"
      8          #include "book_names.h"
      9          #include "main.h"
     10          
     11          

   \                                 In segment DATA_I, align 4, align-sorted
     12          wchar_t* id_digits[DIGITS_COUNT] =
   \                     id_digits:
   \   00000000                      DS8 40
   \   00000028                      REQUIRE `?<Initializer for id_digits>`
     13          {
     14          	IDN_DIGIT_0_ICON,
     15          	IDN_DIGIT_1_ICON,
     16          	IDN_DIGIT_2_ICON,
     17          	IDN_DIGIT_3_ICON,
     18          	IDN_DIGIT_4_ICON,
     19          	IDN_DIGIT_5_ICON,
     20          	IDN_DIGIT_6_ICON,
     21          	IDN_DIGIT_7_ICON,
     22          	IDN_DIGIT_8_ICON,
     23          	IDN_DIGIT_9_ICON,
     24          };
     25          
     26          
     27          wchar_t* id_names[ICONS_COUNT] =
   \                     id_names:
   \   00000028                      DS8 16
   \   00000038                      REQUIRE `?<Initializer for id_names>`
     28          {
     29          	IDN_BOOKS_DEACT_ICON,
     30          	IDN_BOOKS_ACT_ICON,
     31          	IDN_ELFS_DEACT_ICON,
     32          	IDN_ELFS_ACT_ICON
     33          };
     34          
     35          
     36          const wchar_t* img_digits[DIGITS_COUNT] =
   \                     img_digits:
   \   00000038                      DS8 40
   \   00000060                      REQUIRE `?<Initializer for img_digits>`
     37          {
     38          	digit0,
     39          	digit1,
     40          	digit2,
     41          	digit3,
     42          	digit4,
     43          	digit5,
     44          	digit6,
     45          	digit7,
     46          	digit8,
     47          	digit9,
     48          };
     49          
     50          
     51          const wchar_t* img_names[ICONS_COUNT] =
   \                     img_names:
   \   00000060                      DS8 16
   \   00000070                      REQUIRE `?<Initializer for img_names>`
     52          {
     53          	tab1_inact,
     54          	tab1_act,
     55          	tab2_inact,
     56          	tab2_act
     57          };
     58          
     59          
     60          //============= pages start ======================
     61          

   \                                 In segment DYN_PAGE, align 4, align-sorted
     62          const PAGE_MSG bk_main_msglst[] @ "DYN_PAGE" =
   \                     bk_main_msglst:
   \   00000000   42000000....       DC32 66, ??CreateBookList, 65, ??onRootListChanged, 83
   \              ....41000000
   \              ........5300
   \              0000        
   \   00000014   ........4C00       DC32 ??onUserInactivity, 76, ??RecreateBookList, 64, 0H
   \              0000........
   \              400000000000
   \              0000        
     63          {
     64          	PAGE_ENTER_EVENT_TAG, CreateBookList,
     65          	BOOK_DESTROYED_EVENT_TAG, onRootListChanged,
     66          	USER_INACTIVITY_EVENT_TAG, onUserInactivity,
     67          	ACCEPT_EVENT_TAG, RecreateBookList,
     68          	NIL_EVENT_TAG, 0
     69          };
     70          

   \                                 In segment DATA_C, align 4, align-sorted
     71          const PAGE_DESC BookManager_Main_Page = { "BookManager_Main_Page", 0, bk_main_msglst };
   \                     BookManager_Main_Page:
   \   00000000   ........0000       DC32 `?<Constant "BookManager_Main_Page">`, 0H, bk_main_msglst
   \              0000........
     72          
     73          

   \                                 In segment DYN_PAGE, align 4, align-sorted
     74          const PAGE_MSG bk_idle_msglst[] @ "DYN_PAGE" =
   \                     bk_idle_msglst:
   \   00000000   42000000....       DC32 66, ??IdlePage_EnterAction, 64, 0H
   \              ....40000000
   \              00000000    
     75          {
     76          	PAGE_ENTER_EVENT_TAG, IdlePage_EnterAction,
     77          	NIL_EVENT_TAG, 0
     78          };
     79          
     80          const PAGE_DESC BookManager_Idle_Page = { "BookManager_Idle_Page", 0, bk_idle_msglst };
     81          
     82          

   \                                 In segment DYN_PAGE, align 4, align-sorted
     83          const PAGE_MSG bk_base_msglst[] @ "DYN_PAGE" =
   \                     bk_base_msglst:
   \   00000000   E4030000....       DC32 996, ??ReconfigElf, 64, 0H
   \              ....40000000
   \              00000000    

   \                                 In segment DATA_C, align 4, align-sorted
   \                     `?<Constant "BookManager">`:
   \   00000000   426F6F6B4D61       DC8 "BookManager"
   \              6E6167657200
   \   0000000C   ........0000       DC32 `?<Constant "BookManager_Idle_Page">`, 0H, bk_idle_msglst
   \              0000........
   \   00000018   ........0000       DC32 `?<Constant "BookManager_Base_Page">`, 0H, bk_base_msglst
   \              0000........
     84          {
     85          	ELF_RECONFIG_EVENT, ReconfigElf,
     86          	NIL_EVENT_TAG, 0
     87          };
     88          
     89          const PAGE_DESC BookManager_Base_Page = { "BookManager_Base_Page", 0, bk_base_msglst };
     90          
     91          //============= pages end ======================
     92          
     93          

   \                                 In segment CODE, align 4, keep-with-next
     94          void elf_exit( void )
     95          {
   \                     ??elf_exit:
   \   00000000   00402DE9           PUSH     {LR}
     96          	trace_done();
     97          	kill_data( &ELF_BEGIN, ( void(*)(void*) )mfree_adr() );
   \   00000004   048100EF           SWI      +33028
   \   00000008   0010A0E1           MOV      R1,R0
   \   0000000C   04009FE5           LDR      R0,??elf_exit_1  ;; ELF_BEGIN
   \   00000010   0040BDE8           POP      {LR}             ;; Pop
   \   00000014   ........           _BF      kill_data,??kill_data??rA  ;; tailcall
   \                     ??elf_exit_1:
   \   00000018   ........           DC32     ELF_BEGIN
     98          }
     99          
    100          // ======================== всякая служебная ерунда start ===========================================
    101          

   \                                 In segment CODE, align 4, keep-with-next
    102          int GetActiveTab( MyBOOK* mbk )
    103          {
   \                     ??GetActiveTab:
   \   00000000   00402DE9           PUSH     {LR}
    104          	return TabMenuBar_GetFocusedTab( mbk->gui );
   \   00000004   180090E5           LDR      R0,[R0, #+24]
   \   00000008   5D0200EF           SWI      +605
   \   0000000C   0080BDE8           POP      {PC}             ;; return
    105          }
    106          
    107          

   \                                 In segment CODE, align 4, keep-with-next
    108          int isBookManager( BOOK* book )
    109          {
    110          	return 0 == strcmp( book->xbook->name, "BookManager" );
   \                     ??isBookManager:
   \   00000000   ........           LDR      R1,??DataTable0  ;; `?<Constant "BookManager">`
   \   00000004   00402DE9           PUSH     {LR}
   \   00000008   000090E5           LDR      R0,[R0, #+0]
   \   0000000C   040090E5           LDR      R0,[R0, #+4]
   \   00000010   590100EF           SWI      +345
   \   00000014   000050E3           CMP      R0,#+0
   \   00000018   0100A003           MOVEQ    R0,#+1
   \   0000001C   0080BD08           POPEQ    {PC}
   \   00000020   0000A0E3           MOV      R0,#+0
   \   00000024   0080BDE8           POP      {PC}             ;; return
    111          }
    112          
    113          
    114          // проверка, обрабатывает ли БЕЙЗ_ПЕЙДЖ книги событие

   \                                 In segment CODE, align 4, keep-with-next
    115          int CheckEv( BOOK* bk, int ev )
    116          {
    117          	if ( bk->base_page )
   \                     ??CheckEv:
   \   00000000   100090E5           LDR      R0,[R0, #+16]
   \   00000004   000050E3           CMP      R0,#+0
   \   00000008   1EFF2F01           BXEQ     LR
    118          	{
    119          		const PAGE_MSG* pm = bk->base_page->msg_lst;
   \   0000000C   080090E5           LDR      R0,[R0, #+8]
    120          
    121          		if ( pm )
   \   00000010   000050E3           CMP      R0,#+0
   \   00000014   0200001A           BNE      ??CheckEv_1
    122          		{
    123          			while ( pm->msg && pm->proc )
    124          			{
    125          				if ( pm->msg == ev )
    126          				{
    127          					return 1;
    128          				}
    129          				pm++;
    130          			}
    131          		}
    132          	}
    133          	return 0;
   \                     ??CheckEv_2:
   \   00000018   0000A0E3           MOV      R0,#+0
   \   0000001C   1EFF2FE1           BX       LR               ;; return
   \                     ??CheckEv_3:
   \   00000020   080080E2           ADD      R0,R0,#+8
   \                     ??CheckEv_1:
   \   00000024   002090E5           LDR      R2,[R0, #+0]
   \   00000028   000052E3           CMP      R2,#+0
   \   0000002C   04309015           LDRNE    R3,[R0, #+4]
   \   00000030   00005313           CMPNE    R3,#+0
   \   00000034   F7FFFF0A           BEQ      ??CheckEv_2
   \   00000038   010052E1           CMP      R2,R1
   \   0000003C   F7FFFF1A           BNE      ??CheckEv_3
   \   00000040   0100A0E3           MOV      R0,#+1
   \   00000044   1EFF2FE1           BX       LR
    134          }
    135          
    136          
    137          //Получить пользовательское имя книги

   \                                 In segment CODE, align 4, keep-with-next
    138          wchar_t * GetUserBookName(wchar_t * ini,wchar_t * orig_name,wchar_t * cur_name)
    139          {
   \                     ??GetUserBookName:
   \   00000000   F0402DE9           PUSH     {R4-R7,LR}
   \   00000004   6CD04DE2           SUB      SP,SP,#+108
   \   00000008   0040A0E1           MOV      R4,R0
   \   0000000C   0150A0E1           MOV      R5,R1
   \   00000010   0260A0E1           MOV      R6,R2
    140          	wchar_t * pos;
    141          
    142          	if (ini)
   \   00000014   000054E3           CMP      R4,#+0
   \   00000018   1300000A           BEQ      ??GetUserBookName_1
    143          	{
    144          		wchar_t uni_pair[MAX_BOOK_NAME_LEN + sizeof(": ")];
    145          		uni_pair[0]=0;
    146          		wstrcpy(uni_pair,orig_name);
    147          		wstrcat(uni_pair,L": ");
   \   0000001C   60709FE5           LDR      R7,??GetUserBookName_2  ;; `?<Constant L"\\x3a\\x20">`
   \   00000020   0010A0E3           MOV      R1,#+0
   \   00000024   B010CDE1           STRH     R1,[SP, #+0]
   \   00000028   0510A0E1           MOV      R1,R5
   \   0000002C   0D00A0E1           MOV      R0,SP
   \   00000030   520100EF           SWI      +338
   \   00000034   0710A0E1           MOV      R1,R7
   \   00000038   0D00A0E1           MOV      R0,SP
   \   0000003C   540100EF           SWI      +340
    148          
    149          		pos = wstrwstr(ini,uni_pair);
   \   00000040   0D10A0E1           MOV      R1,SP
   \   00000044   0400A0E1           MOV      R0,R4
   \   00000048   9E0200EF           SWI      +670
   \   0000004C   0040B0E1           MOVS     R4,R0
    150          
    151          		if (pos)
   \   00000050   0500000A           BEQ      ??GetUserBookName_1
    152          		{
    153          			swscanf(pos,L"%*[^:]: %l[^\r]",cur_name);
   \   00000054   0620A0E1           MOV      R2,R6
   \   00000058   081087E2           ADD      R1,R7,#+8
   \   0000005C   CC0300EF           SWI      +972
    154          			return pos;
   \   00000060   0400A0E1           MOV      R0,R4
   \   00000064   6CD08DE2           ADD      SP,SP,#+108
   \   00000068   F080BDE8           POP      {R4-R7,PC}
    155          		}
    156          	}
    157          
    158          	wstrcpy(cur_name,orig_name);
   \                     ??GetUserBookName_1:
   \   0000006C   0510A0E1           MOV      R1,R5
   \   00000070   0600A0E1           MOV      R0,R6
   \   00000074   520100EF           SWI      +338
    159          	return 0;
   \   00000078   0000A0E3           MOV      R0,#+0
   \   0000007C   6CD08DE2           ADD      SP,SP,#+108
   \   00000080   F080BDE8           POP      {R4-R7,PC}       ;; return
   \                     ??GetUserBookName_2:
   \   00000084   ........           DC32     `?<Constant L"\\x3a\\x20">`
    160          }
    161          
    162          
    163          // взять имя книги из ини-файла

   \                                 In segment CODE, align 4, keep-with-next
    164          TEXTID GetUserBookNameTEXTID( char* name )
    165          {
   \                     ??GetUserBookNameTEXTID:
   \   00000000   30402DE9           PUSH     {R4,R5,LR}
   \   00000004   D0D04DE2           SUB      SP,SP,#+208
   \   00000008   0040A0E1           MOV      R4,R0
    166          	wchar_t cur_name[MAX_BOOK_NAME_LEN+1];
    167          	wchar_t orig_name[MAX_BOOK_NAME_LEN+1];
    168          
    169          	MyBOOK* mbk = (MyBOOK*) FindBook( isBookManager );
   \   0000000C   ........           LDR      R0,??DataTable1  ;; ??isBookManager
   \   00000010   300100EF           SWI      +304
   \   00000014   0050A0E1           MOV      R5,R0
    170          
    171          	str2wstr(orig_name,name);
   \   00000018   0410A0E1           MOV      R1,R4
   \   0000001C   68008DE2           ADD      R0,SP,#+104
   \   00000020   580100EF           SWI      +344
    172          
    173          	GetUserBookName(mbk->booknames_buf, orig_name, cur_name);
   \   00000024   1C0095E5           LDR      R0,[R5, #+28]
   \   00000028   0D20A0E1           MOV      R2,SP
   \   0000002C   68108DE2           ADD      R1,SP,#+104
   \   00000030   ........           BL       ??GetUserBookName
    174          
    175          	return TextID_Create(cur_name, ENC_UCS2, TEXTID_ANY_LEN);
   \   00000034   FF20A0E3           MOV      R2,#+255
   \   00000038   FF2C82E3           ORR      R2,R2,#0xFF00
   \   0000003C   0010A0E3           MOV      R1,#+0
   \   00000040   0D00A0E1           MOV      R0,SP
   \   00000044   5D0100EF           SWI      +349
   \   00000048   D0D08DE2           ADD      SP,SP,#+208
   \   0000004C   3080BDE8           POP      {R4,R5,PC}       ;; return
    176          }
    177          
    178          
    179          // получить имя жавы

   \                                 In segment CODE, align 4, keep-with-next
    180          int GetJavaName( BOOK* bk )
    181          {
   \                     ??GetJavaName:
   \   00000000   10402DE9           PUSH     {R4,LR}
    182          	wchar_t ws[100];
    183          
    184          	TextID_GetWString( BookObj_GetSession( bk )->name, ws, MAXELEMS(ws) );
    185          
    186          	if ( !wstrncmp( ws, L"Foreign app", 11 ) )
   \   00000004   58409FE5           LDR      R4,??GetJavaName_1  ;; `?<Constant L"\\x46\\x6f\\x72\\x65\\x69\\x67\\x6e\\x20\\`
   \   00000008   C8D04DE2           SUB      SP,SP,#+200
   \   0000000C   430200EF           SWI      +579
   \   00000010   040090E5           LDR      R0,[R0, #+4]
   \   00000014   6420A0E3           MOV      R2,#+100
   \   00000018   0D10A0E1           MOV      R1,SP
   \   0000001C   5F0100EF           SWI      +351
   \   00000020   0B20A0E3           MOV      R2,#+11
   \   00000024   0410A0E1           MOV      R1,R4
   \   00000028   0D00A0E1           MOV      R0,SP
   \   0000002C   FB0100EF           SWI      +507
   \   00000030   000050E3           CMP      R0,#+0
   \   00000034   0200001A           BNE      ??GetJavaName_2
    187          	{
    188          		return JavaSession_GetName();
   \                     ??GetJavaName_3:
   \   00000038   410200EF           SWI      +577
   \   0000003C   C8D08DE2           ADD      SP,SP,#+200
   \   00000040   1080BDE8           POP      {R4,PC}
    189          	}
    190          
    191          	if ( !wstrcmp( ws, L"Java" ) )
   \                     ??GetJavaName_2:
   \   00000044   181084E2           ADD      R1,R4,#+24
   \   00000048   0D00A0E1           MOV      R0,SP
   \   0000004C   560100EF           SWI      +342
   \   00000050   000050E3           CMP      R0,#+0
   \   00000054   F7FFFF0A           BEQ      ??GetJavaName_3
    192          	{
    193          		return JavaSession_GetName();
    194          	}
    195          
    196          	return EMPTY_TEXTID;
   \   00000058   9004E0E3           MVN      R0,#-1879048192
   \   0000005C   C8D08DE2           ADD      SP,SP,#+200
   \   00000060   1080BDE8           POP      {R4,PC}          ;; return
   \                     ??GetJavaName_1:
   \   00000064   ........           DC32     `?<Constant L"\\x46\\x6f\\x72\\x65\\x69\\x67\\x6e\\x20\\`
    197          }
    198          
    199          
    200          //Получить ID жавы для ярлыка

   \                                 In segment CODE, align 4, keep-with-next
    201          int JavaShortcut_GetID(wchar_t * java_shortcut)
    202          {
    203          	int ret_val = -1;
    204          	wchar_t * hash_name = wstrwstr(java_shortcut,L"//") + 2;
   \                     ??JavaShortcut_GetID:
   \   00000000   8C109FE5           LDR      R1,??JavaShortcut_GetID_1  ;; `?<Constant L"\\x2f\\x2f">`
   \   00000004   70402DE9           PUSH     {R4-R6,LR}
   \   00000008   0CD04DE2           SUB      SP,SP,#+12
   \   0000000C   0040E0E3           MVN      R4,#+0
   \   00000010   9E0200EF           SWI      +670
   \   00000014   045080E2           ADD      R5,R0,#+4
    205          
    206          	//Find app
    207          	char sp1;
    208          	wchar_t* sp;
    209          	void* JavaDesc;
    210          	JavaDialog_Open( 0, &sp1, &JavaDesc );
   \   00000018   0D20A0E1           MOV      R2,SP
   \   0000001C   08108DE2           ADD      R1,SP,#+8
   \   00000020   0000A0E3           MOV      R0,#+0
   \   00000024   D60200EF           SWI      +726
    211          	if ( !JavaAppDesc_GetFirstApp( JavaDesc ) )
   \   00000028   00009DE5           LDR      R0,[SP, #+0]
   \   0000002C   D90200EF           SWI      +729
   \   00000030   000050E3           CMP      R0,#+0
   \   00000034   1200001A           BNE      ??JavaShortcut_GetID_2
   \   00000038   020000EA           B        ??JavaShortcut_GetID_3
    212          	{
    213          		int result = 0;
    214          		while ( !result )
    215          		{
    216          			JavaAppDesc_GetJavaAppInfo( JavaDesc, 4, &sp );
    217          			int cmp_res = wstrcmp(hash_name,sp);
    218          			delete(sp);
    219          			if (cmp_res) result = JavaAppDesc_GetNextApp( JavaDesc );
   \                     ??JavaShortcut_GetID_4:
   \   0000003C   DA0200EF           SWI      +730
   \   00000040   000050E3           CMP      R0,#+0
   \   00000044   0E00001A           BNE      ??JavaShortcut_GetID_2
   \                     ??JavaShortcut_GetID_3:
   \   00000048   00009DE5           LDR      R0,[SP, #+0]
   \   0000004C   04208DE2           ADD      R2,SP,#+4
   \   00000050   0410A0E3           MOV      R1,#+4
   \   00000054   DB0200EF           SWI      +731
   \   00000058   04109DE5           LDR      R1,[SP, #+4]
   \   0000005C   0500A0E1           MOV      R0,R5
   \   00000060   560100EF           SWI      +342
   \   00000064   0060A0E1           MOV      R6,R0
   \   00000068   04009DE5           LDR      R0,[SP, #+4]
   \   0000006C   ........           _BLF     `??operator delete`,`??operator delete??rA`
   \   00000070   00009DE5           LDR      R0,[SP, #+0]
   \   00000074   000056E3           CMP      R6,#+0
   \   00000078   EFFFFF1A           BNE      ??JavaShortcut_GetID_4
    220          			else
    221          			{
    222          				ret_val = JavaAppDesc_GetJavaAppID( JavaDesc );
   \   0000007C   0A0300EF           SWI      +778
   \   00000080   0040A0E1           MOV      R4,R0
    223          				break;
    224          			}
    225          		}
    226          	}
    227          	JavaDialog_Close( sp1 );
   \                     ??JavaShortcut_GetID_2:
   \   00000084   0800DDE5           LDRB     R0,[SP, #+8]
   \   00000088   D70200EF           SWI      +727
    228          	return(ret_val);
   \   0000008C   0400A0E1           MOV      R0,R4
   \   00000090   7E80BDE8           POP      {R1-R6,PC}       ;; return
   \                     ??JavaShortcut_GetID_1:
   \   00000094   ........           DC32     `?<Constant L"\\x2f\\x2f">`
    229          }
    230          
    231          

   \                                 In segment CODE, align 4, keep-with-next
    232          BOOK_LIST_ITEM * GetBookListItem( BOOK* bk, int list )
    233          {
   \                     ??GetBookListItem:
   \   00000000   00402DE9           PUSH     {LR}
    234          	MyBOOK* mbk = (MyBOOK*) bk;
    235          	BOOK_LIST_ITEM* elem;
    236          
    237          	switch ( list )
   \   00000004   000051E3           CMP      R1,#+0
   \   00000008   0300000A           BEQ      ??GetBookListItem_1
   \   0000000C   011051E2           SUBS     R1,R1,#+1
   \   00000010   1200000A           BEQ      ??GetBookListItem_2
   \   00000014   0200A0E1           MOV      R0,R2
   \   00000018   0080BDE8           POP      {PC}
    238          	{
    239          	case BOOKLIST:
    240          		if ( mbk->blistcnt )
   \                     ??GetBookListItem_1:
   \   0000001C   B818D0E1           LDRH     R1,[R0, #+136]
   \   00000020   000051E3           CMP      R1,#+0
   \   00000024   0B00000A           BEQ      ??GetBookListItem_3
    241          		{
    242          			if (MINIMIZE_TO_SESSION)
   \   00000028   ........           LDR      R1,??DataTable10  ;; MINIMIZE_TO_SESSION
   \   0000002C   001091E5           LDR      R1,[R1, #+0]
   \   00000030   000051E3           CMP      R1,#+0
   \   00000034   B418D0E1           LDRH     R1,[R0, #+132]
   \   00000038   0400000A           BEQ      ??GetBookListItem_4
    243          			{
    244          				SESSION_LIST_ITEM * ses_elem = (SESSION_LIST_ITEM*)List_Get( mbk->sessions_list, mbk->blistpos );
   \   0000003C   380090E5           LDR      R0,[R0, #+56]
   \   00000040   AD0100EF           SWI      +429
    245          				elem = (BOOK_LIST_ITEM*) List_Get( ses_elem->books_list, ses_elem->pos_subitem );
   \   00000044   B810D0E1           LDRH     R1,[R0, #+8]
   \   00000048   040090E5           LDR      R0,[R0, #+4]
   \   0000004C   080000EA           B        ??GetBookListItem_5
    246          			}
    247          			else
    248          				elem = (BOOK_LIST_ITEM*) List_Get( mbk->books_list, mbk->blistpos );
   \                     ??GetBookListItem_4:
   \   00000050   3C0090E5           LDR      R0,[R0, #+60]
   \   00000054   060000EA           B        ??GetBookListItem_5
    249          		}
    250          		else
    251          			return 0;
   \                     ??GetBookListItem_3:
   \   00000058   0000A0E3           MOV      R0,#+0
   \   0000005C   0080BDE8           POP      {PC}
    252          		break;
    253          
    254          	case ELFLIST:
    255          		if ( mbk->elistcnt )
   \                     ??GetBookListItem_2:
   \   00000060   BA18D0E1           LDRH     R1,[R0, #+138]
   \   00000064   000051E3           CMP      R1,#+0
   \   00000068   FAFFFF0A           BEQ      ??GetBookListItem_3
    256          			elem = (BOOK_LIST_ITEM*) List_Get( mbk->elfs_list, mbk->elistpos );
   \   0000006C   B618D0E1           LDRH     R1,[R0, #+134]
   \   00000070   400090E5           LDR      R0,[R0, #+64]
   \                     ??GetBookListItem_5:
   \   00000074   AD0100EF           SWI      +429
   \   00000078   0020A0E1           MOV      R2,R0
    257          		else
    258          			return 0;
    259          		break;
    260          	}
    261          	return elem;
   \   0000007C   0200A0E1           MOV      R0,R2
   \   00000080   0080BDE8           POP      {PC}             ;; return
    262          }
    263          
    264          
    265          // взять выбранную книгу из листа книг/эльфов

   \                                 In segment CODE, align 4, keep-with-next
    266          BOOK* GetBook( BOOK* bk, int list )
    267          {
   \                     ??GetBook:
   \   00000000   00402DE9           PUSH     {LR}
    268          	BOOK_LIST_ITEM * elem = GetBookListItem(bk,list);
   \   00000004   ........           BL       ??GetBookListItem
    269          	if (!elem) return 0;
   \   00000008   000050E3           CMP      R0,#+0
   \   0000000C   0080BD08           POPEQ    {PC}
    270          	else return elem->book;
   \   00000010   000090E5           LDR      R0,[R0, #+0]
   \   00000014   0080BDE8           POP      {PC}             ;; return
    271          }
    272          
    273          

   \                                 In segment CODE, align 4, keep-with-next
    274          int BOOK_LIST_ITEM_Filter(void * elem)
    275          {
    276          	if (elem) return(1);
   \                     ??BOOK_LIST_ITEM_Filter:
   \   00000000   000050E3           CMP      R0,#+0
   \   00000004   0100A013           MOVNE    R0,#+1
    277          	return(0);
   \   00000008   1EFF2FE1           BX       LR               ;; return
    278          }
    279          
    280          

   \                                 In segment CODE, align 4, keep-with-next
    281          void BOOK_LIST_ITEM_Destroy(void * data)
    282          {
   \                     ??BOOK_LIST_ITEM_Destroy:
   \   00000000   10402DE9           PUSH     {R4,LR}
   \   00000004   0040B0E1           MOVS     R4,R0
    283          	BOOK_LIST_ITEM * elem = (BOOK_LIST_ITEM*)data;
    284          
    285          	if (elem)
   \   00000008   1080BD08           POPEQ    {R4,PC}
    286          	{
    287          		delete(elem->book_name);
   \   0000000C   040094E5           LDR      R0,[R4, #+4]
   \   00000010   ........           _BLF     `??operator delete`,`??operator delete??rA`
    288          		delete(elem);
   \   00000014   0400A0E1           MOV      R0,R4
   \   00000018   ........           _BLF     `??operator delete`,`??operator delete??rA`
    289          	}
    290          }
   \   0000001C   1080BDE8           POP      {R4,PC}          ;; return
    291          
    292          

   \                                 In segment CODE, align 4, keep-with-next
    293          int SESSION_LIST_ITEM_Filter(void * elem)
    294          {
    295          	if (elem) return(1);
   \                     ??SESSION_LIST_ITEM_Filter:
   \   00000000   000050E3           CMP      R0,#+0
   \   00000004   0100A013           MOVNE    R0,#+1
    296          	return(0);
   \   00000008   1EFF2FE1           BX       LR               ;; return
    297          }
    298          
    299          

   \                                 In segment CODE, align 4, keep-with-next
    300          void SESSION_LIST_ITEM_Destroy(void * data)
    301          {
   \                     ??SESSION_LIST_ITEM_Destroy:
   \   00000000   10402DE9           PUSH     {R4,LR}
   \   00000004   0040B0E1           MOVS     R4,R0
    302          	SESSION_LIST_ITEM * elem = (SESSION_LIST_ITEM*)data;
    303          
    304          	if (elem)
   \   00000008   1080BD08           POPEQ    {R4,PC}
    305          	{
    306          		List_DestroyElements(elem->books_list,BOOK_LIST_ITEM_Filter,BOOK_LIST_ITEM_Destroy);
   \   0000000C   ........           LDR      R2,??DataTable6  ;; ??BOOK_LIST_ITEM_Destroy
   \   00000010   ........           LDR      R1,??DataTable5  ;; ??BOOK_LIST_ITEM_Filter
   \   00000014   040094E5           LDR      R0,[R4, #+4]
   \   00000018   970200EF           SWI      +663
    307          		List_Destroy(elem->books_list);
   \   0000001C   040094E5           LDR      R0,[R4, #+4]
   \   00000020   6A0100EF           SWI      +362
    308          		delete(elem);
   \   00000024   0400A0E1           MOV      R0,R4
   \   00000028   ........           _BLF     `??operator delete`,`??operator delete??rA`
    309          	}
    310          }
   \   0000002C   1080BDE8           POP      {R4,PC}          ;; return
    311          
    312          

   \                                 In segment CODE, align 4, keep-with-next
    313          void DestroyBookAndElfsLists( MyBOOK* mbk )
    314          {
   \                     ??DestroyBookAndElfsLists:
   \   00000000   F0402DE9           PUSH     {R4-R7,LR}
   \   00000004   0040A0E1           MOV      R4,R0
    315          	if ( mbk->sessions_list )
   \   00000008   380094E5           LDR      R0,[R4, #+56]
   \   0000000C   0050A0E3           MOV      R5,#+0
   \   00000010   000050E3           CMP      R0,#+0
   \   00000014   0500000A           BEQ      ??DestroyBookAndElfsLists_1
    316          	{
    317          		List_DestroyElements(mbk->sessions_list,SESSION_LIST_ITEM_Filter,SESSION_LIST_ITEM_Destroy);
   \   00000018   64209FE5           LDR      R2,??DestroyBookAndElfsLists_2  ;; ??SESSION_LIST_ITEM_Destroy
   \   0000001C   64109FE5           LDR      R1,??DestroyBookAndElfsLists_2+0x4  ;; ??SESSION_LIST_ITEM_Filter
   \   00000020   970200EF           SWI      +663
    318          		List_Destroy(mbk->sessions_list);
   \   00000024   380094E5           LDR      R0,[R4, #+56]
   \   00000028   6A0100EF           SWI      +362
    319          		mbk->sessions_list=0;
   \   0000002C   385084E5           STR      R5,[R4, #+56]
    320          	}
    321          
    322          	if ( mbk->books_list )
   \                     ??DestroyBookAndElfsLists_1:
   \   00000030   3C0094E5           LDR      R0,[R4, #+60]
   \   00000034   ........           LDR      R6,??DataTable5  ;; ??BOOK_LIST_ITEM_Filter
   \   00000038   ........           LDR      R7,??DataTable6  ;; ??BOOK_LIST_ITEM_Destroy
   \   0000003C   000050E3           CMP      R0,#+0
   \   00000040   0500000A           BEQ      ??DestroyBookAndElfsLists_3
    323          	{
    324          		List_DestroyElements(mbk->books_list,BOOK_LIST_ITEM_Filter,BOOK_LIST_ITEM_Destroy);
   \   00000044   0720A0E1           MOV      R2,R7
   \   00000048   0610A0E1           MOV      R1,R6
   \   0000004C   970200EF           SWI      +663
    325          		List_Destroy(mbk->books_list);
   \   00000050   3C0094E5           LDR      R0,[R4, #+60]
   \   00000054   6A0100EF           SWI      +362
    326          		mbk->books_list=0;
   \   00000058   3C5084E5           STR      R5,[R4, #+60]
    327          	}
    328          
    329          	if ( mbk->elfs_list )
   \                     ??DestroyBookAndElfsLists_3:
   \   0000005C   400094E5           LDR      R0,[R4, #+64]
   \   00000060   000050E3           CMP      R0,#+0
   \   00000064   F080BD08           POPEQ    {R4-R7,PC}
    330          	{
    331          		List_DestroyElements(mbk->elfs_list,BOOK_LIST_ITEM_Filter,BOOK_LIST_ITEM_Destroy);
   \   00000068   0720A0E1           MOV      R2,R7
   \   0000006C   0610A0E1           MOV      R1,R6
   \   00000070   970200EF           SWI      +663
    332          		List_Destroy(mbk->elfs_list);
   \   00000074   400094E5           LDR      R0,[R4, #+64]
   \   00000078   6A0100EF           SWI      +362
    333          		mbk->elfs_list=0;
   \   0000007C   405084E5           STR      R5,[R4, #+64]
    334          	}
    335          }
   \   00000080   F080BDE8           POP      {R4-R7,PC}       ;; return
   \                     ??DestroyBookAndElfsLists_2:
   \   00000084   ........           DC32     ??SESSION_LIST_ITEM_Destroy
   \   00000088   ........           DC32     ??SESSION_LIST_ITEM_Filter
    336          
    337          

   \                                 In segment CODE, align 4, keep-with-next
    338          int GetBooksFromSession(MyBOOK * mbk,UI_APP_SESSION * session,LIST * books_list,LIST * elfs_list)
    339          {
   \                     ??GetBooksFromSession:
   \   00000000   FE4F2DE9           PUSH     {R1-R11,LR}
   \   00000004   34D04DE2           SUB      SP,SP,#+52
   \   00000008   0040A0E1           MOV      R4,R0
    340          	int k;
    341          	int res=0;
   \   0000000C   0060A0E3           MOV      R6,#+0
    342          	int mask = ( (int)LastExtDB() )&FLASH_MASK;
   \   00000010   558200EF           SWI      +33365
   \   00000014   F85400E2           AND      R5,R0,#0xF8000000
    343          
    344          	for ( k = 0; k < session->listbook->FirstFree; k++ )
   \   00000018   34009DE5           LDR      R0,[SP, #+52]
   \   0000001C   0070A0E3           MOV      R7,#+0
   \   00000020   000090E5           LDR      R0,[R0, #+0]
   \   00000024   01A0A0E3           MOV      R10,#+1
   \   00000028   B200D0E1           LDRH     R0,[R0, #+2]
   \   0000002C   000050E3           CMP      R0,#+0
   \   00000030   0F00001A           BNE      ??GetBooksFromSession_1
    345          	{
    346          		BOOK * book = (BOOK*) List_Get( session->listbook, k );
    347          
    348          		if ( !isBookManager( book ) )
    349          		{
    350          			char s[MAX_BOOK_NAME_LEN+1];
    351          			BOOK_LIST_ITEM * elem = new BOOK_LIST_ITEM;
    352          			elem->book=book;
    353          			elem->gui_count = book->xguilist->guilist->FirstFree;
    354          			elem->isJava=FALSE;
    355          			elem->isJava_2010=FALSE;
    356          
    357          			if ( strcmp( book->xbook->name, JAVA_BOOK_NAME ) )
    358          			{
    359          				char * bn =new char[strlen(book->xbook->name)+1];
    360          				strcpy(bn,book->xbook->name);
    361          				elem->book_name = bn;
    362          			}
    363          			else
    364          			{
    365          				TextID_GetString( BookObj_GetSession(book)->name, s, MAXELEMS(s) );
    366          				char * bn =new char[strlen(s)+1];
    367          				strcpy(bn,s);
    368          				elem->book_name = bn;
    369          				elem->isJava=TRUE;
    370          			}
    371          
    372          			if ( mbk->hidden_buf_size && strstr(mbk->hidden_buf,elem->book_name) ) elem->isHidden=TRUE;
    373          			else elem->isHidden=FALSE;
    374          
    375          			TEXTID tmp = GetJavaName( book );
    376          
    377          			if ( tmp != EMPTY_TEXTID )
    378          			{
    379          				delete(elem->book_name);
    380          				TextID_GetString( tmp, s, MAXELEMS(s) );
    381          				char * java_name = new char[strlen(s)+1];
    382          				strcpy(java_name,s);
    383          				elem->book_name = java_name;
    384          				elem->isJava_2010=TRUE;
    385          				TextID_Destroy( tmp );
    386          			}
    387          
    388          			else if ( ( ((int)book->onClose)&FLASH_MASK ) == mask )
    389          			{
    390          				if (mbk->books_show_hid==FALSE && elem->isHidden==TRUE)
    391          					BOOK_LIST_ITEM_Destroy(elem);
    392          				else if (mbk->books_show_nogui==FALSE && !elem->gui_count)
    393          					BOOK_LIST_ITEM_Destroy(elem);
    394          				else
    395          					List_InsertFirst( books_list, elem );
    396          			}
    397          			else
    398          			{
    399          				if (mbk->elfs_show_hid==FALSE && elem->isHidden==TRUE)
    400          					BOOK_LIST_ITEM_Destroy(elem);
    401          				else if (mbk->elfs_show_nogui==FALSE && !elem->gui_count)
    402          					BOOK_LIST_ITEM_Destroy(elem);
    403          				else
    404          				{
    405          					List_InsertFirst( elfs_list, elem );
    406          					res=1;
    407          				}
    408          			}
    409          		}
    410          	}
    411          	return res;
   \                     ??GetBooksFromSession_2:
   \   00000034   0600A0E1           MOV      R0,R6
   \   00000038   40D08DE2           ADD      SP,SP,#+64
   \   0000003C   F08FBDE8           POP      {R4-R11,PC}      ;; return
   \                     ??GetBooksFromSession_3:
   \   00000040   9C2094E5           LDR      R2,[R4, #+156]
   \   00000044   000052E3           CMP      R2,#+0
   \   00000048   01005003           CMPEQ    R0,#+1
   \   0000004C   6900000A           BEQ      ??GetBooksFromSession_4
   \   00000050   A00094E5           LDR      R0,[R4, #+160]
   \   00000054   000050E3           CMP      R0,#+0
   \   00000058   00005103           CMPEQ    R1,#+0
   \   0000005C   6500000A           BEQ      ??GetBooksFromSession_4
   \   00000060   3C009DE5           LDR      R0,[SP, #+60]
   \   00000064   0910A0E1           MOV      R1,R9
   \   00000068   6B0100EF           SWI      +363
   \   0000006C   0160A0E3           MOV      R6,#+1
   \                     ??GetBooksFromSession_5:
   \   00000070   017087E2           ADD      R7,R7,#+1
   \                     ??GetBooksFromSession_1:
   \   00000074   34009DE5           LDR      R0,[SP, #+52]
   \   00000078   000090E5           LDR      R0,[R0, #+0]
   \   0000007C   B210D0E1           LDRH     R1,[R0, #+2]
   \   00000080   010057E1           CMP      R7,R1
   \   00000084   EAFFFFAA           BGE      ??GetBooksFromSession_2
   \   00000088   0710A0E1           MOV      R1,R7
   \   0000008C   AD0100EF           SWI      +429
   \   00000090   0080A0E1           MOV      R8,R0
   \   00000094   ........           BL       ??isBookManager
   \   00000098   000050E3           CMP      R0,#+0
   \   0000009C   F3FFFF1A           BNE      ??GetBooksFromSession_5
   \   000000A0   1800A0E3           MOV      R0,#+24
   \   000000A4   ........           _BLF     `??operator new`,`??operator new??rA`
   \   000000A8   74119FE5           LDR      R1,??GetBooksFromSession_6  ;; `?<Constant "CUIDisplayableBook">`
   \   000000AC   0090A0E1           MOV      R9,R0
   \   000000B0   008089E5           STR      R8,[R9, #+0]
   \   000000B4   140098E5           LDR      R0,[R8, #+20]
   \   000000B8   040090E5           LDR      R0,[R0, #+4]
   \   000000BC   B200D0E1           LDRH     R0,[R0, #+2]
   \   000000C0   080089E5           STR      R0,[R9, #+8]
   \   000000C4   0000A0E3           MOV      R0,#+0
   \   000000C8   0C0089E5           STR      R0,[R9, #+12]
   \   000000CC   100089E5           STR      R0,[R9, #+16]
   \   000000D0   000098E5           LDR      R0,[R8, #+0]
   \   000000D4   040090E5           LDR      R0,[R0, #+4]
   \   000000D8   590100EF           SWI      +345
   \   000000DC   000050E3           CMP      R0,#+0
   \   000000E0   0A00000A           BEQ      ??GetBooksFromSession_7
   \   000000E4   000098E5           LDR      R0,[R8, #+0]
   \   000000E8   040090E5           LDR      R0,[R0, #+4]
   \   000000EC   5A0100EF           SWI      +346
   \   000000F0   010080E2           ADD      R0,R0,#+1
   \   000000F4   ........           _BLF     `??operator new[]`,`??operator new[]??rA`
   \   000000F8   00B0A0E1           MOV      R11,R0
   \   000000FC   000098E5           LDR      R0,[R8, #+0]
   \   00000100   041090E5           LDR      R1,[R0, #+4]
   \   00000104   0B00A0E1           MOV      R0,R11
   \   00000108   A00100EF           SWI      +416
   \   0000010C   0D0000EA           B        ??GetBooksFromSession_8
   \                     ??GetBooksFromSession_7:
   \   00000110   0800A0E1           MOV      R0,R8
   \   00000114   430200EF           SWI      +579
   \   00000118   040090E5           LDR      R0,[R0, #+4]
   \   0000011C   3320A0E3           MOV      R2,#+51
   \   00000120   0D10A0E1           MOV      R1,SP
   \   00000124   5E0100EF           SWI      +350
   \   00000128   0D00A0E1           MOV      R0,SP
   \   0000012C   5A0100EF           SWI      +346
   \   00000130   010080E2           ADD      R0,R0,#+1
   \   00000134   ........           _BLF     `??operator new[]`,`??operator new[]??rA`
   \   00000138   00B0A0E1           MOV      R11,R0
   \   0000013C   0D10A0E1           MOV      R1,SP
   \   00000140   A00100EF           SWI      +416
   \   00000144   0CA089E5           STR      R10,[R9, #+12]
   \                     ??GetBooksFromSession_8:
   \   00000148   04B089E5           STR      R11,[R9, #+4]
   \   0000014C   300094E5           LDR      R0,[R4, #+48]
   \   00000150   000050E3           CMP      R0,#+0
   \   00000154   0400000A           BEQ      ??GetBooksFromSession_9
   \   00000158   2C0094E5           LDR      R0,[R4, #+44]
   \   0000015C   0B10A0E1           MOV      R1,R11
   \   00000160   980200EF           SWI      +664
   \   00000164   000050E3           CMP      R0,#+0
   \   00000168   0100A013           MOVNE    R0,#+1
   \                     ??GetBooksFromSession_9:
   \   0000016C   140089E5           STR      R0,[R9, #+20]
   \   00000170   0800A0E1           MOV      R0,R8
   \   00000174   ........           BL       ??GetJavaName
   \   00000178   00B0A0E1           MOV      R11,R0
   \   0000017C   9004E0E3           MVN      R0,#-1879048192
   \   00000180   00005BE1           CMP      R11,R0
   \   00000184   1100000A           BEQ      ??GetBooksFromSession_10
   \   00000188   040099E5           LDR      R0,[R9, #+4]
   \   0000018C   ........           _BLF     `??operator delete`,`??operator delete??rA`
   \   00000190   3320A0E3           MOV      R2,#+51
   \   00000194   0D10A0E1           MOV      R1,SP
   \   00000198   0B00A0E1           MOV      R0,R11
   \   0000019C   5E0100EF           SWI      +350
   \   000001A0   0D00A0E1           MOV      R0,SP
   \   000001A4   5A0100EF           SWI      +346
   \   000001A8   010080E2           ADD      R0,R0,#+1
   \   000001AC   ........           _BLF     `??operator new[]`,`??operator new[]??rA`
   \   000001B0   0080A0E1           MOV      R8,R0
   \   000001B4   0D10A0E1           MOV      R1,SP
   \   000001B8   A00100EF           SWI      +416
   \   000001BC   048089E5           STR      R8,[R9, #+4]
   \   000001C0   10A089E5           STR      R10,[R9, #+16]
   \   000001C4   0B00A0E1           MOV      R0,R11
   \   000001C8   610100EF           SWI      +353
   \   000001CC   A7FFFFEA           B        ??GetBooksFromSession_5
   \                     ??GetBooksFromSession_10:
   \   000001D0   042098E5           LDR      R2,[R8, #+4]
   \   000001D4   081099E5           LDR      R1,[R9, #+8]
   \   000001D8   140099E5           LDR      R0,[R9, #+20]
   \   000001DC   F82402E2           AND      R2,R2,#0xF8000000
   \   000001E0   050052E1           CMP      R2,R5
   \   000001E4   95FFFF1A           BNE      ??GetBooksFromSession_3
   \   000001E8   942094E5           LDR      R2,[R4, #+148]
   \   000001EC   000052E3           CMP      R2,#+0
   \   000001F0   01005003           CMPEQ    R0,#+1
   \   000001F4   0200001A           BNE      ??GetBooksFromSession_11
   \                     ??GetBooksFromSession_4:
   \   000001F8   0900A0E1           MOV      R0,R9
   \   000001FC   ........           BL       ??BOOK_LIST_ITEM_Destroy
   \   00000200   9AFFFFEA           B        ??GetBooksFromSession_5
   \                     ??GetBooksFromSession_11:
   \   00000204   980094E5           LDR      R0,[R4, #+152]
   \   00000208   000050E3           CMP      R0,#+0
   \   0000020C   00005103           CMPEQ    R1,#+0
   \   00000210   F8FFFF0A           BEQ      ??GetBooksFromSession_4
   \   00000214   38009DE5           LDR      R0,[SP, #+56]
   \   00000218   0910A0E1           MOV      R1,R9
   \   0000021C   6B0100EF           SWI      +363
   \   00000220   92FFFFEA           B        ??GetBooksFromSession_5
   \                     ??GetBooksFromSession_6:
   \   00000224   ........           DC32     `?<Constant "CUIDisplayableBook">`
    412          }
    413          
    414          
    415          // создаём список книг

   \                                 In segment CODE, align 4, keep-with-next
    416          void CreateBookAndElfsLists( MyBOOK* mbk )
    417          {
   \                     ??CreateBookAndElfsLists:
   \   00000000   F0432DE9           PUSH     {R4-R9,LR}
   \   00000004   0040A0E1           MOV      R4,R0
    418          	int i, j, isElf;
    419          	UI_APP_SESSION* session;
    420          
    421          	if (MINIMIZE_TO_SESSION)
   \   00000008   ........           LDR      R0,??DataTable10  ;; MINIMIZE_TO_SESSION
   \   0000000C   005090E5           LDR      R5,[R0, #+0]
   \   00000010   000055E3           CMP      R5,#+0
   \   00000014   0200000A           BEQ      ??CreateBookAndElfsLists_1
    422          		mbk->sessions_list = List_Create();
   \   00000018   690100EF           SWI      +361
   \   0000001C   380084E5           STR      R0,[R4, #+56]
   \   00000020   010000EA           B        ??CreateBookAndElfsLists_2
    423          	else
    424          		mbk->books_list = List_Create();
   \                     ??CreateBookAndElfsLists_1:
   \   00000024   690100EF           SWI      +361
   \   00000028   3C0084E5           STR      R0,[R4, #+60]
    425          
    426          	mbk->elfs_list = List_Create();
   \                     ??CreateBookAndElfsLists_2:
   \   0000002C   690100EF           SWI      +361
   \   00000030   400084E5           STR      R0,[R4, #+64]
    427          
    428          	i = root_list_get_session_count();
   \   00000034   F30100EF           SWI      +499
   \   00000038   0060A0E1           MOV      R6,R0
    429          
    430          	for ( j = 0; j < i; j++ )
   \   0000003C   0070A0E3           MOV      R7,#+0
   \   00000040   010056E3           CMP      R6,#+1
   \   00000044   090000AA           BGE      ??CreateBookAndElfsLists_3
    431          	{
    432          		session = root_list_get_session( j );
    433          
    434          		if (MINIMIZE_TO_SESSION)
    435          		{
    436          			SESSION_LIST_ITEM * elem = new SESSION_LIST_ITEM;
    437          			elem->session=session;
    438          			elem->books_list=List_Create();
    439          			elem->pos_subitem=0;
    440          
    441          			isElf = GetBooksFromSession(mbk,session,elem->books_list,mbk->elfs_list);
    442          
    443          			if ( !elem->books_list->FirstFree || isElf )
    444          				SESSION_LIST_ITEM_Destroy(elem);
    445          			else
    446          				List_InsertFirst( mbk->sessions_list, elem );
    447          		}
    448          		else
    449          			GetBooksFromSession(mbk,session,mbk->books_list,mbk->elfs_list);
    450          	}
    451          
    452          	if (MINIMIZE_TO_SESSION)
   \                     ??CreateBookAndElfsLists_4:
   \   00000048   000055E3           CMP      R5,#+0
   \   0000004C   3C009405           LDREQ    R0,[R4, #+60]
    453          		mbk->blistcnt = mbk->sessions_list->FirstFree;
   \   00000050   38009415           LDRNE    R0,[R4, #+56]
   \   00000054   260000EA           B        ??CreateBookAndElfsLists_5
   \                     ??CreateBookAndElfsLists_6:
   \   00000058   403094E5           LDR      R3,[R4, #+64]
   \   0000005C   3C2094E5           LDR      R2,[R4, #+60]
   \   00000060   0910A0E1           MOV      R1,R9
   \   00000064   0400A0E1           MOV      R0,R4
   \   00000068   ........           BL       ??GetBooksFromSession
   \                     ??CreateBookAndElfsLists_7:
   \   0000006C   017087E2           ADD      R7,R7,#+1
   \                     ??CreateBookAndElfsLists_3:
   \   00000070   060057E1           CMP      R7,R6
   \   00000074   F3FFFFAA           BGE      ??CreateBookAndElfsLists_4
   \   00000078   0700A0E1           MOV      R0,R7
   \   0000007C   F40100EF           SWI      +500
   \   00000080   0090A0E1           MOV      R9,R0
   \   00000084   000055E3           CMP      R5,#+0
   \   00000088   F2FFFF0A           BEQ      ??CreateBookAndElfsLists_6
   \   0000008C   0C00A0E3           MOV      R0,#+12
   \   00000090   ........           _BLF     `??operator new`,`??operator new??rA`
   \   00000094   0080A0E1           MOV      R8,R0
   \   00000098   009088E5           STR      R9,[R8, #+0]
   \   0000009C   690100EF           SWI      +361
   \   000000A0   040088E5           STR      R0,[R8, #+4]
   \   000000A4   0000A0E3           MOV      R0,#+0
   \   000000A8   B800C8E1           STRH     R0,[R8, #+8]
   \   000000AC   403094E5           LDR      R3,[R4, #+64]
   \   000000B0   042098E5           LDR      R2,[R8, #+4]
   \   000000B4   0910A0E1           MOV      R1,R9
   \   000000B8   0400A0E1           MOV      R0,R4
   \   000000BC   ........           BL       ??GetBooksFromSession
   \   000000C0   041098E5           LDR      R1,[R8, #+4]
   \   000000C4   B210D1E1           LDRH     R1,[R1, #+2]
   \   000000C8   000051E3           CMP      R1,#+0
   \   000000CC   0100000A           BEQ      ??CreateBookAndElfsLists_8
   \   000000D0   000050E3           CMP      R0,#+0
   \   000000D4   0200000A           BEQ      ??CreateBookAndElfsLists_9
   \                     ??CreateBookAndElfsLists_8:
   \   000000D8   0800A0E1           MOV      R0,R8
   \   000000DC   ........           BL       ??SESSION_LIST_ITEM_Destroy
   \   000000E0   E1FFFFEA           B        ??CreateBookAndElfsLists_7
   \                     ??CreateBookAndElfsLists_9:
   \   000000E4   380094E5           LDR      R0,[R4, #+56]
   \   000000E8   0810A0E1           MOV      R1,R8
   \   000000EC   6B0100EF           SWI      +363
   \   000000F0   DDFFFFEA           B        ??CreateBookAndElfsLists_7
   \                     ??CreateBookAndElfsLists_5:
   \   000000F4   B200D0E1           LDRH     R0,[R0, #+2]
   \   000000F8   B808C4E1           STRH     R0,[R4, #+136]
    454          	else
    455          		mbk->blistcnt = mbk->books_list->FirstFree;
    456          
    457          	mbk->elistcnt = mbk->elfs_list->FirstFree;
   \   000000FC   400094E5           LDR      R0,[R4, #+64]
   \   00000100   B200D0E1           LDRH     R0,[R0, #+2]
   \   00000104   BA08C4E1           STRH     R0,[R4, #+138]
    458          }
   \   00000108   F083BDE8           POP      {R4-R9,PC}       ;; return
    459          
    460          

   \                                 In segment CODE, align 4, keep-with-next
    461          wchar_t* get_path()
    462          {
   \                     ??get_path:
   \   00000000   10402DE9           PUSH     {R4,LR}
    463          	wchar_t* path = new wchar_t[wstrlen( GetDir( DIR_INI ) ) + sizeof("/bookman")];
   \   00000004   1600A0E3           MOV      R0,#+22
   \   00000008   050100EF           SWI      +261
   \   0000000C   570100EF           SWI      +343
   \   00000010   090080E2           ADD      R0,R0,#+9
   \   00000014   8000A0E1           LSL      R0,R0,#+1
   \   00000018   ........           _BLF     `??operator new[]`,`??operator new[]??rA`
   \   0000001C   0040A0E1           MOV      R4,R0
    464          	wstrcpy( path, GetDir( DIR_INI ) );
   \   00000020   1600A0E3           MOV      R0,#+22
   \   00000024   050100EF           SWI      +261
   \   00000028   0010A0E1           MOV      R1,R0
   \   0000002C   0400A0E1           MOV      R0,R4
   \   00000030   520100EF           SWI      +338
    465          	wstrcat( path, L"/bookman" );
   \   00000034   0C109FE5           LDR      R1,??get_path_1  ;; `?<Constant L"\\x2f\\x62\\x6f\\x6f\\x6b\\x6d\\x61\\x6e"`
   \   00000038   0400A0E1           MOV      R0,R4
   \   0000003C   540100EF           SWI      +340
    466          	return path;
   \   00000040   0400A0E1           MOV      R0,R4
   \   00000044   1080BDE8           POP      {R4,PC}          ;; return
   \                     ??get_path_1:
   \   00000048   ........           DC32     `?<Constant L"\\x2f\\x62\\x6f\\x6f\\x6b\\x6d\\x61\\x6e"`
    467          }
    468          
    469          

   \                                 In segment CODE, align 4, keep-with-next
    470          int get_file( wchar_t* name, void** buf_set )
    471          {
   \                     ??get_file:
   \   00000000   F0412DE9           PUSH     {R4-R8,LR}
   \   00000004   1CD04DE2           SUB      SP,SP,#+28
   \   00000008   0070A0E1           MOV      R7,R0
   \   0000000C   0140A0E1           MOV      R4,R1
    472          	int size = 0;
   \   00000010   0080A0E3           MOV      R8,#+0
    473          	int file;
    474          	void* buf = 0;
   \   00000014   0060A0E3           MOV      R6,#+0
    475          	FSTAT _fstat;
    476          
    477          	wchar_t* path = get_path();
   \   00000018   ........           BL       ??get_path
   \   0000001C   0050A0E1           MOV      R5,R0
    478          
    479          	if ( fstat( path, name, &_fstat ) == 0 )
   \   00000020   0D20A0E1           MOV      R2,SP
   \   00000024   0710A0E1           MOV      R1,R7
   \   00000028   1C0100EF           SWI      +284
   \   0000002C   000050E3           CMP      R0,#+0
   \   00000030   1300001A           BNE      ??get_file_1
    480          	{
    481          		if ( ( file = _fopen( path, name, FSX_O_RDONLY, FSX_S_IREAD|FSX_S_IWRITE, 0 ) ) >= 0 )
   \   00000034   01002DE9           PUSH     {R0}
   \   00000038   603FA0E3           MOV      R3,#+384
   \   0000003C   0120A0E3           MOV      R2,#+1
   \   00000040   0710A0E1           MOV      R1,R7
   \   00000044   0500A0E1           MOV      R0,R5
   \   00000048   160100EF           SWI      +278
   \   0000004C   0070B0E1           MOVS     R7,R0
   \   00000050   04D08DE2           ADD      SP,SP,#+4
   \   00000054   0A00004A           BMI      ??get_file_1
    482          		{
    483          			buf = malloc( _fstat.fsize+1 );
   \   00000058   08009DE5           LDR      R0,[SP, #+8]
   \   0000005C   010080E2           ADD      R0,R0,#+1
   \   00000060   030100EF           SWI      +259
    484          			fread( file, buf, _fstat.fsize );
   \   00000064   08209DE5           LDR      R2,[SP, #+8]
   \   00000068   0060A0E1           MOV      R6,R0
   \   0000006C   0610A0E1           MOV      R1,R6
   \   00000070   0700A0E1           MOV      R0,R7
   \   00000074   180100EF           SWI      +280
    485          			fclose( file );
   \   00000078   0700A0E1           MOV      R0,R7
   \   0000007C   170100EF           SWI      +279
    486          			size = _fstat.fsize;
   \   00000080   08809DE5           LDR      R8,[SP, #+8]
    487          		}
    488          	}
    489          
    490          	*buf_set = buf;
   \                     ??get_file_1:
   \   00000084   006084E5           STR      R6,[R4, #+0]
    491          	delete( path );
   \   00000088   0500A0E1           MOV      R0,R5
   \   0000008C   ........           _BLF     `??operator delete`,`??operator delete??rA`
    492          	return size;
   \   00000090   0800A0E1           MOV      R0,R8
   \   00000094   1CD08DE2           ADD      SP,SP,#+28
   \   00000098   F081BDE8           POP      {R4-R8,PC}       ;; return
    493          }
    494          
    495          

   \                                 In segment CODE, align 4, keep-with-next
    496          void get_iconsID( MyBOOK* mbk )
    497          {
   \                     ??get_iconsID:
   \   00000000   F0432DE9           PUSH     {R4-R9,LR}
    498          	int i;
    499          	IMAGEID imgID;
    500          	int _imgID;
    501          	wchar_t wstr_path[100];
    502          
    503          	for ( i = 0;i < ICONS_COUNT;i++ )
   \   00000004   5C519FE5           LDR      R5,??get_iconsID_1  ;; id_digits
   \   00000008   D0D04DE2           SUB      SP,SP,#+208
   \   0000000C   0040A0E1           MOV      R4,R0
   \   00000010   0070A0E3           MOV      R7,#+0
   \   00000014   FF60A0E3           MOV      R6,#+255
   \   00000018   FF6C86E3           ORR      R6,R6,#0xFF00
    504          	{
    505          		iconidname2id(id_names[i],TEXTID_ANY_LEN,&_imgID);
   \                     ??get_iconsID_2:
   \   0000001C   04208DE2           ADD      R2,SP,#+4
   \   00000020   0610A0E1           MOV      R1,R6
   \   00000024   070185E0           ADD      R0,R5,R7, LSL #+2
   \   00000028   280090E5           LDR      R0,[R0, #+40]
   \   0000002C   860200EF           SWI      +646
    506          		mbk->tabs_image[i].ImageID = _imgID;
   \   00000030   04109DE5           LDR      R1,[SP, #+4]
   \   00000034   870084E0           ADD      R0,R4,R7, LSL #+1
   \   00000038   B416C0E1           STRH     R1,[R0, #+100]
    507          	}
   \   0000003C   017087E2           ADD      R7,R7,#+1
   \   00000040   040057E3           CMP      R7,#+4
   \   00000044   F4FFFFBA           BLT      ??get_iconsID_2
    508          	for ( i = 0;i < DIGITS_COUNT;i++ )
   \   00000048   0070A0E3           MOV      R7,#+0
    509          	{
    510          		iconidname2id(id_digits[i],TEXTID_ANY_LEN,&_imgID);
   \                     ??get_iconsID_3:
   \   0000004C   070195E7           LDR      R0,[R5, +R7, LSL #+2]
   \   00000050   04208DE2           ADD      R2,SP,#+4
   \   00000054   0610A0E1           MOV      R1,R6
   \   00000058   860200EF           SWI      +646
    511          		mbk->digs_image[i].ImageID = _imgID;
   \   0000005C   04109DE5           LDR      R1,[SP, #+4]
   \   00000060   870084E0           ADD      R0,R4,R7, LSL #+1
   \   00000064   BC16C0E1           STRH     R1,[R0, #+108]
    512          	}
   \   00000068   017087E2           ADD      R7,R7,#+1
   \   0000006C   0A0057E3           CMP      R7,#+10
   \   00000070   F5FFFFBA           BLT      ??get_iconsID_3
    513          	for ( i = 0;i < ICONS_COUNT;i++ )
   \   00000074   0070A0E3           MOV      R7,#+0
   \   00000078   0060A0E3           MOV      R6,#+0
    514          	{
    515          		wchar_t * wstr_name = wstrrchr(img_names[i],L'/');
    516          		if ( wstr_name++ )
   \                     ??get_iconsID_4:
   \   0000007C   079185E0           ADD      R9,R5,R7, LSL #+2
   \   00000080   600099E5           LDR      R0,[R9, #+96]
   \   00000084   2F10A0E3           MOV      R1,#+47
   \   00000088   AE0100EF           SWI      +430
   \   0000008C   028080E2           ADD      R8,R0,#+2
   \   00000090   000050E3           CMP      R0,#+0
   \   00000094   1100000A           BEQ      ??get_iconsID_5
    517          		{
    518          			int path_len = wstr_name-img_names[i]-1;
   \   00000098   601099E5           LDR      R1,[R9, #+96]
   \   0000009C   A800A0E1           LSR      R0,R8,#+1
   \   000000A0   A10040E0           SUB      R0,R0,R1, LSR #+1
   \   000000A4   019040E2           SUB      R9,R0,#+1
    519          			wstrncpy(wstr_path,img_names[i],path_len);
   \   000000A8   0920A0E1           MOV      R2,R9
   \   000000AC   08008DE2           ADD      R0,SP,#+8
   \   000000B0   530100EF           SWI      +339
    520          			wstr_path[path_len]=0;
   \   000000B4   08008DE2           ADD      R0,SP,#+8
   \   000000B8   890080E0           ADD      R0,R0,R9, LSL #+1
   \   000000BC   B060C0E1           STRH     R6,[R0, #+0]
    521          			if (ImageID_Get( wstr_path, wstr_name, &imgID ) >= 0 )
   \   000000C0   0D20A0E1           MOV      R2,SP
   \   000000C4   0810A0E1           MOV      R1,R8
   \   000000C8   08008DE2           ADD      R0,SP,#+8
   \   000000CC   CC0200EF           SWI      +716
   \   000000D0   000050E3           CMP      R0,#+0
    522          			{
    523          				mbk->tabs_image[i].ImageID=imgID;
   \   000000D4   B010DD51           LDRHPL   R1,[SP, #+0]
   \   000000D8   87008450           ADDPL    R0,R4,R7, LSL #+1
   \   000000DC   B416C051           STRHPL   R1,[R0, #+100]
    524          			}
    525          		}
    526          	}
   \                     ??get_iconsID_5:
   \   000000E0   017087E2           ADD      R7,R7,#+1
   \   000000E4   040057E3           CMP      R7,#+4
   \   000000E8   E3FFFFBA           BLT      ??get_iconsID_4
    527          	for ( i = 0;i < DIGITS_COUNT;i++ )
   \   000000EC   0070A0E3           MOV      R7,#+0
    528          	{
    529          		wchar_t * wstr_name = wstrrchr(img_digits[i],L'/');
    530          		if ( wstr_name++ )
   \                     ??get_iconsID_6:
   \   000000F0   079185E0           ADD      R9,R5,R7, LSL #+2
   \   000000F4   380099E5           LDR      R0,[R9, #+56]
   \   000000F8   2F10A0E3           MOV      R1,#+47
   \   000000FC   AE0100EF           SWI      +430
   \   00000100   028080E2           ADD      R8,R0,#+2
   \   00000104   000050E3           CMP      R0,#+0
   \   00000108   1100000A           BEQ      ??get_iconsID_7
    531          		{
    532          			int path_len = wstr_name-img_digits[i]-1;
   \   0000010C   381099E5           LDR      R1,[R9, #+56]
   \   00000110   A800A0E1           LSR      R0,R8,#+1
   \   00000114   A10040E0           SUB      R0,R0,R1, LSR #+1
   \   00000118   019040E2           SUB      R9,R0,#+1
    533          			wstrncpy(wstr_path,img_digits[i],path_len);
   \   0000011C   0920A0E1           MOV      R2,R9
   \   00000120   08008DE2           ADD      R0,SP,#+8
   \   00000124   530100EF           SWI      +339
    534          			wstr_path[path_len]=0;
   \   00000128   08008DE2           ADD      R0,SP,#+8
   \   0000012C   890080E0           ADD      R0,R0,R9, LSL #+1
   \   00000130   B060C0E1           STRH     R6,[R0, #+0]
    535          			if (ImageID_Get( wstr_path, wstr_name, &imgID ) >= 0 )
   \   00000134   0D20A0E1           MOV      R2,SP
   \   00000138   0810A0E1           MOV      R1,R8
   \   0000013C   08008DE2           ADD      R0,SP,#+8
   \   00000140   CC0200EF           SWI      +716
   \   00000144   000050E3           CMP      R0,#+0
    536          			{
    537          				mbk->digs_image[i].ImageID=imgID;
   \   00000148   B010DD51           LDRHPL   R1,[SP, #+0]
   \   0000014C   87008450           ADDPL    R0,R4,R7, LSL #+1
   \   00000150   BC16C051           STRHPL   R1,[R0, #+108]
    538          			}
    539          		}
    540          	}
   \                     ??get_iconsID_7:
   \   00000154   017087E2           ADD      R7,R7,#+1
   \   00000158   0A0057E3           CMP      R7,#+10
   \   0000015C   E3FFFFBA           BLT      ??get_iconsID_6
    541          }
   \   00000160   D0D08DE2           ADD      SP,SP,#+208      ;; stack cleaning
   \   00000164   F083BDE8           POP      {R4-R9,PC}       ;; return
   \                     ??get_iconsID_1:
   \   00000168   ........           DC32     id_digits
    542          
    543          
    544          //Загрузить ини файлы

   \                                 In segment CODE, align 4, keep-with-next
    545          void LoadBookNames(MyBOOK * mbk)
    546          {
   \                     ??LoadBookNames:
   \   00000000   10402DE9           PUSH     {R4,LR}
   \   00000004   04D04DE2           SUB      SP,SP,#+4
   \   00000008   0040A0E1           MOV      R4,R0
    547          	if ( mbk->booknames_buf )
   \   0000000C   1C0094E5           LDR      R0,[R4, #+28]
   \   00000010   000050E3           CMP      R0,#+0
   \   00000014   0200000A           BEQ      ??LoadBookNames_1
    548          	{
    549          		delete (mbk->booknames_buf);
   \   00000018   ........           _BLF     `??operator delete`,`??operator delete??rA`
    550          		mbk->booknames_buf=0;
   \   0000001C   0000A0E3           MOV      R0,#+0
   \   00000020   1C0084E5           STR      R0,[R4, #+28]
    551          	}
    552          	void* sp;
    553          	mbk->booknames_buf_size = get_file( INI_BOOK_NAMES, &sp );
   \                     ??LoadBookNames_1:
   \   00000024   14009FE5           LDR      R0,??LoadBookNames_2  ;; `?<Constant L"\\x62\\x6f\\x6f\\x6b\\x6e\\x61\\x6d\\x65\\`
   \   00000028   0D10A0E1           MOV      R1,SP
   \   0000002C   ........           BL       ??get_file
   \   00000030   200084E5           STR      R0,[R4, #+32]
    554          	mbk->booknames_buf = (wchar_t*)sp;
   \   00000034   00009DE5           LDR      R0,[SP, #+0]
   \   00000038   1C0084E5           STR      R0,[R4, #+28]
    555          }
   \   0000003C   1180BDE8           POP      {R0,R4,PC}       ;; return
   \                     ??LoadBookNames_2:
   \   00000040   ........           DC32     `?<Constant L"\\x62\\x6f\\x6f\\x6b\\x6e\\x61\\x6d\\x65\\`
    556          
    557          

   \                                 In segment CODE, align 4, keep-with-next
    558          void LoadShortcuts(MyBOOK * mbk)
    559          {
   \                     ??LoadShortcuts:
   \   00000000   10402DE9           PUSH     {R4,LR}
   \   00000004   04D04DE2           SUB      SP,SP,#+4
   \   00000008   0040A0E1           MOV      R4,R0
    560          	if ( mbk->shortcuts_buf )
   \   0000000C   240094E5           LDR      R0,[R4, #+36]
   \   00000010   000050E3           CMP      R0,#+0
   \   00000014   0200000A           BEQ      ??LoadShortcuts_1
    561          	{
    562          		delete (mbk->shortcuts_buf);
   \   00000018   ........           _BLF     `??operator delete`,`??operator delete??rA`
    563          		mbk->shortcuts_buf=0;
   \   0000001C   0000A0E3           MOV      R0,#+0
   \   00000020   240084E5           STR      R0,[R4, #+36]
    564          	}
    565          	void* sp;
    566          	mbk->shortcuts_buf_size = get_file( INI_SHORTCUTS, &sp );
   \                     ??LoadShortcuts_1:
   \   00000024   14009FE5           LDR      R0,??LoadShortcuts_2  ;; `?<Constant L"\\x73\\x68\\x6f\\x72\\x74\\x63\\x75\\x74\\`
   \   00000028   0D10A0E1           MOV      R1,SP
   \   0000002C   ........           BL       ??get_file
   \   00000030   280084E5           STR      R0,[R4, #+40]
    567          	mbk->shortcuts_buf = (char*)sp;
   \   00000034   00009DE5           LDR      R0,[SP, #+0]
   \   00000038   240084E5           STR      R0,[R4, #+36]
    568          }
   \   0000003C   1180BDE8           POP      {R0,R4,PC}       ;; return
   \                     ??LoadShortcuts_2:
   \   00000040   ........           DC32     `?<Constant L"\\x73\\x68\\x6f\\x72\\x74\\x63\\x75\\x74\\`
    569          
    570          

   \                                 In segment CODE, align 4, keep-with-next
    571          void LoadHidden(MyBOOK * mbk)
    572          {
   \                     ??LoadHidden:
   \   00000000   10402DE9           PUSH     {R4,LR}
   \   00000004   04D04DE2           SUB      SP,SP,#+4
   \   00000008   0040A0E1           MOV      R4,R0
    573          	if ( mbk->hidden_buf )
   \   0000000C   2C0094E5           LDR      R0,[R4, #+44]
   \   00000010   000050E3           CMP      R0,#+0
   \   00000014   0200000A           BEQ      ??LoadHidden_1
    574          	{
    575          		delete (mbk->hidden_buf);
   \   00000018   ........           _BLF     `??operator delete`,`??operator delete??rA`
    576          		mbk->hidden_buf=0;
   \   0000001C   0000A0E3           MOV      R0,#+0
   \   00000020   2C0084E5           STR      R0,[R4, #+44]
    577          	}
    578          	void* sp;
    579          	mbk->hidden_buf_size = get_file( INI_HIDDEN, &sp );
   \                     ??LoadHidden_1:
   \   00000024   ........           LDR      R0,??DataTable17  ;; `?<Constant L"\\x68\\x69\\x64\\x64\\x65\\x6e\\x2e\\x69\\`
   \   00000028   0D10A0E1           MOV      R1,SP
   \   0000002C   ........           BL       ??get_file
   \   00000030   300084E5           STR      R0,[R4, #+48]
    580          	mbk->hidden_buf = (char*)sp;
   \   00000034   00009DE5           LDR      R0,[SP, #+0]
   \   00000038   2C0084E5           STR      R0,[R4, #+44]
    581          }
   \   0000003C   1180BDE8           POP      {R0,R4,PC}       ;; return
    582          
    583          // ======================== всякая служебная ерунда end ===========================================
    584          
    585          
    586          // при убийстве какой либо книги

   \                                 In segment CODE, align 4, keep-with-next
    587          int onRootListChanged( void* r0, BOOK* bk )
    588          {
   \                     ??onRootListChanged:
   \   00000000   10402DE9           PUSH     {R4,LR}
   \   00000004   0140A0E1           MOV      R4,R1
    589          	MyBOOK* mbk = (MyBOOK*) bk;
    590          	if ( !mbk->mode_list && !mbk->but_list )
   \   00000008   540094E5           LDR      R0,[R4, #+84]
   \   0000000C   000050E3           CMP      R0,#+0
   \   00000010   58009405           LDREQ    R0,[R4, #+88]
   \   00000014   00005003           CMPEQ    R0,#+0
   \   00000018   0400001A           BNE      ??onRootListChanged_1
    591          	{
    592          		// создали меню
    593          		mbk->ActiveTAB=GetActiveTab(mbk);
   \   0000001C   0400A0E1           MOV      R0,R4
   \   00000020   ........           BL       ??GetActiveTab
   \   00000024   BC08C4E1           STRH     R0,[R4, #+140]
    594          		CreateBookManagerGUI( mbk );
   \   00000028   0400A0E1           MOV      R0,R4
   \   0000002C   ........           BL       ??CreateBookManagerGUI
    595          	}
    596          	return 0;
   \                     ??onRootListChanged_1:
   \   00000030   0000A0E3           MOV      R0,#+0
   \   00000034   1080BDE8           POP      {R4,PC}          ;; return
    597          }
    598          
    599          
    600          // если юзер заснул...

   \                                 In segment CODE, align 4, keep-with-next
    601          int onUserInactivity( void* r0, BOOK* bk )
    602          {
   \                     ??onUserInactivity:
   \   00000000   0100A0E1           MOV      R0,R1
    603          	if ( UserInactivityEventEnabled )
   \   00000004   1C109FE5           LDR      R1,??onUserInactivity_1  ;; UserInactivityEventEnabled
   \   00000008   00402DE9           PUSH     {LR}
   \   0000000C   001091E5           LDR      R1,[R1, #+0]
   \   00000010   000051E3           CMP      R1,#+0
   \   00000014   0100000A           BEQ      ??onUserInactivity_2
    604          		CloseMyBook( bk, 0 );
   \   00000018   0010A0E3           MOV      R1,#+0
   \   0000001C   ........           BL       ??CloseMyBook
    605          	return 0;
   \                     ??onUserInactivity_2:
   \   00000020   0000A0E3           MOV      R0,#+0
   \   00000024   0080BDE8           POP      {PC}             ;; return
   \                     ??onUserInactivity_1:
   \   00000028   ........           DC32     UserInactivityEventEnabled
    606          }
    607          
    608          

   \                                 In segment CODE, align 4, keep-with-next
    609          TEXTID onCallback_Books_GetItemName(BOOK_LIST_ITEM * elem)
    610          {
   \                     ??onCallback_Books_GetItemName:
   \   00000000   30402DE9           PUSH     {R4,R5,LR}
   \   00000004   08D04DE2           SUB      SP,SP,#+8
   \   00000008   0040A0E1           MOV      R4,R0
    611          	TEXTID name;
    612          
    613          	name = GetUserBookNameTEXTID(elem->book_name);
   \   0000000C   040094E5           LDR      R0,[R4, #+4]
   \   00000010   ........           BL       ??GetUserBookNameTEXTID
   \   00000014   0050A0E1           MOV      R5,R0
    614          	if (elem->isHidden)
   \   00000018   140094E5           LDR      R0,[R4, #+20]
   \   0000001C   000050E3           CMP      R0,#+0
   \   00000020   0B00000A           BEQ      ??onCallback_Books_GetItemName_1
    615          	{
    616          		TEXTID tmp[2];
    617          		tmp[0]=TextID_Create("[H] ",ENC_LAT1,TEXTID_ANY_LEN);
   \   00000024   ........           LDR      R0,??DataTable11  ;; `?<Constant "[H] ">`
   \   00000028   FF20A0E3           MOV      R2,#+255
   \   0000002C   FF2C82E3           ORR      R2,R2,#0xFF00
   \   00000030   0610A0E3           MOV      R1,#+6
   \   00000034   5D0100EF           SWI      +349
   \   00000038   00008DE5           STR      R0,[SP, #+0]
    618          		tmp[1]=name;
   \   0000003C   04508DE5           STR      R5,[SP, #+4]
    619          		name=TextID_Create(tmp,ENC_TEXTID,2);
   \   00000040   0220A0E3           MOV      R2,#+2
   \   00000044   0510A0E3           MOV      R1,#+5
   \   00000048   0D00A0E1           MOV      R0,SP
   \   0000004C   5D0100EF           SWI      +349
   \   00000050   0050A0E1           MOV      R5,R0
    620          	}
    621          	return name;
   \                     ??onCallback_Books_GetItemName_1:
   \   00000054   0500A0E1           MOV      R0,R5
   \   00000058   3680BDE8           POP      {R1,R2,R4,R5,PC}  ;; return
    622          }
    623          
    624          
    625          // устанавливаем тексты в пунктах меню

   \                                 In segment CODE, align 4, keep-with-next
    626          int onCallback_Books( GUI_MESSAGE* msg )
    627          {
   \                     ??onCallback_Books:
   \   00000000   F0432DE9           PUSH     {R4-R9,LR}
    628          	MyBOOK* mbk = (MyBOOK*) GUIonMessage_GetBook( msg );
    629          	int item;
    630          	int parent_item;
    631          	SESSION_LIST_ITEM * ses_elem;
    632          	BOOK_LIST_ITEM * elem;
    633          
    634          	switch( GUIonMessage_GetMsg( msg ) )
   \   00000004   CC619FE5           LDR      R6,??onCallback_Books_1  ;; `?<Constant L"\\x43\\x61\\x6e\\x27\\x74\\x20\\x73\\x65\\_1`
   \   00000008   0040A0E1           MOV      R4,R0
   \   0000000C   FF70A0E3           MOV      R7,#+255
   \   00000010   750300EF           SWI      +885
   \   00000014   0050A0E1           MOV      R5,R0
   \   00000018   FF7C87E3           ORR      R7,R7,#0xFF00
   \   0000001C   0400A0E1           MOV      R0,R4
   \   00000020   740300EF           SWI      +884
   \   00000024   000050E3           CMP      R0,#+0
   \   00000028   3600000A           BEQ      ??onCallback_Books_2
   \   0000002C   010050E2           SUBS     R0,R0,#+1
   \   00000030   0400000A           BEQ      ??onCallback_Books_3
   \   00000034   010050E2           SUBS     R0,R0,#+1
   \   00000038   4E00000A           BEQ      ??onCallback_Books_4
   \   0000003C   010050E2           SUBS     R0,R0,#+1
   \   00000040   3400000A           BEQ      ??onCallback_Books_5
   \   00000044   180000EA           B        ??onCallback_Books_6
    635          	{
    636          	case LISTMSG_GetItem:
    637          		if ( mbk->blistcnt )
   \                     ??onCallback_Books_3:
   \   00000048   B808D5E1           LDRH     R0,[R5, #+136]
   \   0000004C   000050E3           CMP      R0,#+0
   \   00000050   5E00000A           BEQ      ??onCallback_Books_7
    638          		{
    639          			item = GUIonMessage_GetCreatedItemIndex( msg );
   \   00000054   0400A0E1           MOV      R0,R4
   \   00000058   370100EF           SWI      +311
   \   0000005C   0080A0E1           MOV      R8,R0
    640          
    641          			if (MINIMIZE_TO_SESSION)
   \   00000060   ........           LDR      R0,??DataTable10  ;; MINIMIZE_TO_SESSION
   \   00000064   0810A0E1           MOV      R1,R8
   \   00000068   000090E5           LDR      R0,[R0, #+0]
   \   0000006C   000050E3           CMP      R0,#+0
   \   00000070   0F00000A           BEQ      ??onCallback_Books_8
    642          			{
    643          				ses_elem = (SESSION_LIST_ITEM*) List_Get( mbk->sessions_list, item );
   \   00000074   380095E5           LDR      R0,[R5, #+56]
   \   00000078   AD0100EF           SWI      +429
   \   0000007C   0090A0E1           MOV      R9,R0
    644          
    645          				GUIonMessage_SetNumberOfSubItems(msg,0,ses_elem->books_list->FirstFree);
   \   00000080   040099E5           LDR      R0,[R9, #+4]
   \   00000084   0010A0E3           MOV      R1,#+0
   \   00000088   B220D0E1           LDRH     R2,[R0, #+2]
   \   0000008C   0400A0E1           MOV      R0,R4
   \   00000090   440200EF           SWI      +580
    646          				GUIonMessage_SetMenuItemText( msg, TextID_Copy(ses_elem->session->name) );
   \   00000094   000099E5           LDR      R0,[R9, #+0]
   \   00000098   040090E5           LDR      R0,[R0, #+4]
   \   0000009C   420200EF           SWI      +578
   \   000000A0   0010A0E1           MOV      R1,R0
   \   000000A4   0400A0E1           MOV      R0,R4
   \   000000A8   380100EF           SWI      +312
   \                     ??onCallback_Books_6:
   \   000000AC   0100A0E3           MOV      R0,#+1
   \   000000B0   F083BDE8           POP      {R4-R9,PC}
    647          			}
    648          			else
    649          			{
    650          				elem = (BOOK_LIST_ITEM*) List_Get( mbk->books_list, item );
   \                     ??onCallback_Books_8:
   \   000000B4   3C0095E5           LDR      R0,[R5, #+60]
   \   000000B8   AD0100EF           SWI      +429
   \   000000BC   0080A0E1           MOV      R8,R0
    651          
    652          				GUIonMessage_SetMenuItemText( msg, onCallback_Books_GetItemName(elem) );
   \   000000C0   ........           BL       ??onCallback_Books_GetItemName
   \   000000C4   0010A0E1           MOV      R1,R0
   \   000000C8   0400A0E1           MOV      R0,R4
   \   000000CC   380100EF           SWI      +312
    653          
    654          				if ( !elem->gui_count )
   \   000000D0   080098E5           LDR      R0,[R8, #+8]
   \   000000D4   000050E3           CMP      R0,#+0
   \   000000D8   3C00001A           BNE      ??onCallback_Books_7
    655          				{
    656          					GUIonMessage_SetItemDisabled( msg, TRUE );
   \   000000DC   0110A0E3           MOV      R1,#+1
   \   000000E0   0400A0E1           MOV      R0,R4
   \   000000E4   820200EF           SWI      +642
    657          					GUIonMessage_SetMenuItemUnavailableText( msg, STR( "Can't set focus to book without GUI..." ) );
   \   000000E8   0720A0E1           MOV      R2,R7
   \   000000EC   0010A0E3           MOV      R1,#+0
   \   000000F0   0600A0E1           MOV      R0,R6
   \   000000F4   5D0100EF           SWI      +349
   \   000000F8   0010A0E1           MOV      R1,R0
   \   000000FC   0400A0E1           MOV      R0,R4
   \   00000100   3B0100EF           SWI      +315
   \   00000104   E8FFFFEA           B        ??onCallback_Books_6
    658          				}
    659          			}
    660          		}
    661          		break;
    662          
    663          	case LISTMSG_HighlightChanged:
    664          		mbk->blistpos = GUIonMessage_GetSelectedItem( msg );
   \                     ??onCallback_Books_2:
   \   00000108   0400A0E1           MOV      R0,R4
   \   0000010C   770300EF           SWI      +887
   \   00000110   B408C5E1           STRH     R0,[R5, #+132]
    665          		RefreshBookSoftkeys( mbk );
   \   00000114   2B0000EA           B        ??onCallback_Books_9
    666          		break;
    667          
    668          	case LISTMSG_GetSubItem:
    669          		parent_item = GUIonMessage_SubItem_GetCreatedParentIndex(msg);
   \                     ??onCallback_Books_5:
   \   00000118   0400A0E1           MOV      R0,R4
   \   0000011C   460200EF           SWI      +582
   \   00000120   0060A0E1           MOV      R6,R0
    670          		item = GUIonMessage_SubItem_GetCreatedIndex(msg);
   \   00000124   0400A0E1           MOV      R0,R4
   \   00000128   520200EF           SWI      +594
   \   0000012C   0080A0E1           MOV      R8,R0
    671          		ses_elem = (SESSION_LIST_ITEM*) List_Get( mbk->sessions_list, parent_item );
   \   00000130   380095E5           LDR      R0,[R5, #+56]
   \   00000134   0610A0E1           MOV      R1,R6
   \   00000138   AD0100EF           SWI      +429
    672          		elem = (BOOK_LIST_ITEM*)List_Get(ses_elem->books_list,item);
   \   0000013C   040090E5           LDR      R0,[R0, #+4]
   \   00000140   0810A0E1           MOV      R1,R8
   \   00000144   AD0100EF           SWI      +429
   \   00000148   0080A0E1           MOV      R8,R0
    673          
    674          		GUIonMessage_SubItem_SetText(msg,onCallback_Books_GetItemName(elem));
   \   0000014C   ........           BL       ??onCallback_Books_GetItemName
   \   00000150   0010A0E1           MOV      R1,R0
   \   00000154   0400A0E1           MOV      R0,R4
   \   00000158   450200EF           SWI      +581
    675          
    676          		if ( !elem->gui_count )
   \   0000015C   080098E5           LDR      R0,[R8, #+8]
   \   00000160   000050E3           CMP      R0,#+0
   \   00000164   1900001A           BNE      ??onCallback_Books_7
    677          		{
    678          			GUIonMessage_SubItem_SetDisabled( msg, TRUE );
   \   00000168   0110A0E3           MOV      R1,#+1
   \   0000016C   0400A0E1           MOV      R0,R4
   \   00000170   490200EF           SWI      +585
   \   00000174   CCFFFFEA           B        ??onCallback_Books_6
    679          			//GUIonMessage_SetMenuItemUnavailableText( msg, STR( "Can't set focus to book without GUI..." ) );
    680          		}
    681          		break;
    682          
    683          	case LISTMSG_SubItemHighlightChanged:
    684          		ses_elem = (SESSION_LIST_ITEM*) List_Get( mbk->sessions_list, mbk->blistpos );
   \                     ??onCallback_Books_4:
   \   00000178   380095E5           LDR      R0,[R5, #+56]
   \   0000017C   B418D5E1           LDRH     R1,[R5, #+132]
   \   00000180   AD0100EF           SWI      +429
   \   00000184   0090A0E1           MOV      R9,R0
    685          		ses_elem->pos_subitem = GUIonMessage_SubItem_GetSelectedIndex(msg);
   \   00000188   0400A0E1           MOV      R0,R4
   \   0000018C   480200EF           SWI      +584
   \   00000190   B800C9E1           STRH     R0,[R9, #+8]
    686          
    687          		elem=(BOOK_LIST_ITEM*)List_Get(ses_elem->books_list,ses_elem->pos_subitem);
   \   00000194   040099E5           LDR      R0,[R9, #+4]
   \   00000198   B810D9E1           LDRH     R1,[R9, #+8]
   \   0000019C   AD0100EF           SWI      +429
    688          		if ( !elem->gui_count ) GUIonMessage_SetMenuItemUnavailableText( msg, STR( "Can't set focus to book without GUI..." ) );
   \   000001A0   080090E5           LDR      R0,[R0, #+8]
   \   000001A4   000050E3           CMP      R0,#+0
   \   000001A8   0600001A           BNE      ??onCallback_Books_9
   \   000001AC   0720A0E1           MOV      R2,R7
   \   000001B0   0010A0E3           MOV      R1,#+0
   \   000001B4   0600A0E1           MOV      R0,R6
   \   000001B8   5D0100EF           SWI      +349
   \   000001BC   0010A0E1           MOV      R1,R0
   \   000001C0   0400A0E1           MOV      R0,R4
   \   000001C4   3B0100EF           SWI      +315
    689          
    690          		RefreshBookSoftkeys( mbk );
   \                     ??onCallback_Books_9:
   \   000001C8   0500A0E1           MOV      R0,R5
   \   000001CC   ........           BL       ??RefreshBookSoftkeys
    691          		break;
    692          	}
    693          
    694          	return 1;
   \                     ??onCallback_Books_7:
   \   000001D0   0100A0E3           MOV      R0,#+1
   \   000001D4   F083BDE8           POP      {R4-R9,PC}       ;; return
   \                     ??onCallback_Books_1:
   \   000001D8   ........           DC32     `?<Constant L"\\x43\\x61\\x6e\\x27\\x74\\x20\\x73\\x65\\_1`
    695          }
    696          
    697          

   \                                 In segment CODE, align 4, keep-with-next
    698          int onCallback_Elfs( GUI_MESSAGE* msg )
    699          {
   \                     ??onCallback_Elfs:
   \   00000000   F0412DE9           PUSH     {R4-R8,LR}
   \   00000004   08D04DE2           SUB      SP,SP,#+8
   \   00000008   0040A0E1           MOV      R4,R0
    700          	MyBOOK* mbk = (MyBOOK*) GUIonMessage_GetBook( msg );
   \   0000000C   750300EF           SWI      +885
   \   00000010   0050A0E1           MOV      R5,R0
    701          	int item;
    702          	BOOK_LIST_ITEM* elem;
    703          	TEXTID name;
    704          
    705          	switch( GUIonMessage_GetMsg( msg ) )
   \   00000014   0400A0E1           MOV      R0,R4
   \   00000018   740300EF           SWI      +884
   \   0000001C   000050E3           CMP      R0,#+0
   \   00000020   3000000A           BEQ      ??onCallback_Elfs_1
   \   00000024   010050E2           SUBS     R0,R0,#+1
   \   00000028   3400001A           BNE      ??onCallback_Elfs_2
    706          	{
    707          	case LISTMSG_GetItem:
    708          		if ( mbk->elistcnt )
   \   0000002C   BA08D5E1           LDRH     R0,[R5, #+138]
   \   00000030   000050E3           CMP      R0,#+0
   \   00000034   3100000A           BEQ      ??onCallback_Elfs_2
    709          		{
    710          			item = GUIonMessage_GetCreatedItemIndex( msg );
   \   00000038   0400A0E1           MOV      R0,R4
   \   0000003C   370100EF           SWI      +311
    711          			elem = (BOOK_LIST_ITEM*)List_Get( mbk->elfs_list, item );
   \   00000040   0010A0E1           MOV      R1,R0
   \   00000044   400095E5           LDR      R0,[R5, #+64]
    712          			name = GetUserBookNameTEXTID(elem->book_name);
    713          			if (elem->isHidden)
   \   00000048   ........           LDR      R5,??DataTable11  ;; `?<Constant "[H] ">`
   \   0000004C   AD0100EF           SWI      +429
   \   00000050   0070A0E1           MOV      R7,R0
   \   00000054   040097E5           LDR      R0,[R7, #+4]
   \   00000058   FF60A0E3           MOV      R6,#+255
   \   0000005C   ........           BL       ??GetUserBookNameTEXTID
   \   00000060   0080A0E1           MOV      R8,R0
   \   00000064   140097E5           LDR      R0,[R7, #+20]
   \   00000068   FF6C86E3           ORR      R6,R6,#0xFF00
   \   0000006C   000050E3           CMP      R0,#+0
   \   00000070   0A00000A           BEQ      ??onCallback_Elfs_3
    714          			{
    715          				TEXTID tmp[2];
    716          				tmp[0]=TextID_Create("[H] ",ENC_LAT1,TEXTID_ANY_LEN);
   \   00000074   0620A0E1           MOV      R2,R6
   \   00000078   0610A0E3           MOV      R1,#+6
   \   0000007C   0500A0E1           MOV      R0,R5
   \   00000080   5D0100EF           SWI      +349
   \   00000084   00008DE5           STR      R0,[SP, #+0]
    717          				tmp[1]=name;
   \   00000088   04808DE5           STR      R8,[SP, #+4]
    718          				name=TextID_Create(tmp,ENC_TEXTID,2);
   \   0000008C   0220A0E3           MOV      R2,#+2
   \   00000090   0510A0E3           MOV      R1,#+5
   \   00000094   0D00A0E1           MOV      R0,SP
   \   00000098   5D0100EF           SWI      +349
   \   0000009C   0080A0E1           MOV      R8,R0
    719          			}
    720          			GUIonMessage_SetMenuItemText( msg, name );
   \                     ??onCallback_Elfs_3:
   \   000000A0   0810A0E1           MOV      R1,R8
   \   000000A4   0400A0E1           MOV      R0,R4
   \   000000A8   380100EF           SWI      +312
    721          
    722          			if ( !elem->gui_count )
   \   000000AC   080097E5           LDR      R0,[R7, #+8]
   \   000000B0   000050E3           CMP      R0,#+0
   \   000000B4   1100001A           BNE      ??onCallback_Elfs_2
    723          			{
    724          				GUIonMessage_SetItemDisabled( msg, TRUE );
   \   000000B8   0110A0E3           MOV      R1,#+1
   \   000000BC   0400A0E1           MOV      R0,R4
   \   000000C0   820200EF           SWI      +642
    725          				GUIonMessage_SetMenuItemUnavailableText( msg, STR( "Can't set focus to elf without GUI..." ) );
   \   000000C4   0620A0E1           MOV      R2,R6
   \   000000C8   0010A0E3           MOV      R1,#+0
   \   000000CC   080085E2           ADD      R0,R5,#+8
   \   000000D0   5D0100EF           SWI      +349
   \   000000D4   0010A0E1           MOV      R1,R0
   \   000000D8   0400A0E1           MOV      R0,R4
   \   000000DC   3B0100EF           SWI      +315
   \   000000E0   0100A0E3           MOV      R0,#+1
   \   000000E4   F681BDE8           POP      {R1,R2,R4-R8,PC}
    726          			}
    727          		}
    728          		break;
    729          	case LISTMSG_HighlightChanged:
    730          		mbk->elistpos = GUIonMessage_GetSelectedItem( msg );
   \                     ??onCallback_Elfs_1:
   \   000000E8   0400A0E1           MOV      R0,R4
   \   000000EC   770300EF           SWI      +887
   \   000000F0   B608C5E1           STRH     R0,[R5, #+134]
    731          		RefreshElfSoftkeys( mbk, mbk->elistpos );
   \   000000F4   B618D5E1           LDRH     R1,[R5, #+134]
   \   000000F8   0500A0E1           MOV      R0,R5
   \   000000FC   ........           BL       ??RefreshElfSoftkeys
    732          		break;
    733          	}
    734          	return 1;
   \                     ??onCallback_Elfs_2:
   \   00000100   0100A0E3           MOV      R0,#+1
   \   00000104   F681BDE8           POP      {R1,R2,R4-R8,PC}  ;; return
    735          }
    736          
    737          
    738          // при выборе пункта

   \                                 In segment CODE, align 4, keep-with-next
    739          void onEnterPressed_Books( BOOK* book, GUI* lt )
    740          {
   \                     ??onEnterPressed_Books:
   \   00000000   10402DE9           PUSH     {R4,LR}
    741          	BookObj_SetFocus( GetBook( book, BOOKLIST ), 0 );
   \   00000004   0010A0E3           MOV      R1,#+0
   \   00000008   0040A0E1           MOV      R4,R0
   \   0000000C   ........           BL       ??GetBook
   \   00000010   0010A0E3           MOV      R1,#+0
   \   00000014   320100EF           SWI      +306
    742          	CloseMyBook( book, 0 );
   \   00000018   0010A0E3           MOV      R1,#+0
   \   0000001C   0400A0E1           MOV      R0,R4
   \   00000020   1040BDE8           POP      {R4,LR}          ;; Pop
   \   00000024   ........           B        ??CloseMyBook    ;; tailcall
    743          }
    744          
    745          
    746          // при выборе эльфа

   \                                 In segment CODE, align 4, keep-with-next
    747          void onEnterPressed_Elfs( BOOK* book, GUI* lt )
    748          {
   \                     ??onEnterPressed_Elfs:
   \   00000000   10402DE9           PUSH     {R4,LR}
    749          	BOOK* bk = GetBook( book, ELFLIST );
   \   00000004   0110A0E3           MOV      R1,#+1
   \   00000008   0040A0E1           MOV      R4,R0
   \   0000000C   ........           BL       ??GetBook
    750          	if ( bk )
   \   00000010   000050E3           CMP      R0,#+0
   \   00000014   1080BD08           POPEQ    {R4,PC}
    751          	{
    752          		BookObj_SetFocus( bk, 0 );
   \   00000018   0010A0E3           MOV      R1,#+0
   \   0000001C   320100EF           SWI      +306
    753          		CloseMyBook( book, 0 );
   \   00000020   0010A0E3           MOV      R1,#+0
   \   00000024   0400A0E1           MOV      R0,R4
   \   00000028   ........           BL       ??CloseMyBook
    754          	}
    755          }
   \   0000002C   1080BDE8           POP      {R4,PC}          ;; return
    756          
    757          

   \                                 In segment CODE, align 4, keep-with-next
    758          int List_Find_Back_Action( SOFTKEY_DESC * elem, int act )
    759          {
    760            if ( elem->action == act ) return(0);
   \                     ??List_Find_Back_Action:
   \   00000000   B000D0E1           LDRH     R0,[R0, #+0]
   \   00000004   010050E1           CMP      R0,R1
   \   00000008   0000A003           MOVEQ    R0,#+0
   \   0000000C   1EFF2F01           BXEQ     LR
    761            return(1);
   \   00000010   0100A0E3           MOV      R0,#+1
   \   00000014   1EFF2FE1           BX       LR               ;; return
    762          }
    763          
    764          

   \                                 In segment CODE, align 4, keep-with-next
    765          int List_Find_Back_Action_A2( SOFTKEY_DESC_A2 * elem, int act )
    766          {
    767            if ( elem->action == act ) return(0);
   \                     ??List_Find_Back_Action_A2:
   \   00000000   B000D0E1           LDRH     R0,[R0, #+0]
   \   00000004   010050E1           CMP      R0,R1
   \   00000008   0000A003           MOVEQ    R0,#+0
   \   0000000C   1EFF2F01           BXEQ     LR
    768            return(1);
   \   00000010   0100A0E3           MOV      R0,#+1
   \   00000014   1EFF2FE1           BX       LR               ;; return
    769          }
    770          
    771          
    772          // при нажатии "С"

   \                                 In segment CODE, align 4, keep-with-next
    773          void onDelPressed_Books( BOOK* book )
    774          {
   \                     ??onDelPressed_Books:
   \   00000000   F0402DE9           PUSH     {R4-R7,LR}
   \   00000004   0040A0E1           MOV      R4,R0
    775                  MyBOOK* mbk = (MyBOOK*) book;
    776                  
    777                  BOOK * sby_book=Find_StandbyBook();
   \   00000008   310100EF           SWI      +305
   \   0000000C   0070A0E1           MOV      R7,R0
    778          	BOOK_LIST_ITEM * elem = GetBookListItem( mbk, BOOKLIST );
   \   00000010   0010A0E3           MOV      R1,#+0
   \   00000014   0400A0E1           MOV      R0,R4
   \   00000018   ........           BL       ??GetBookListItem
   \   0000001C   0050B0E1           MOVS     R5,R0
    779          
    780          	if (elem )
    781          	{
    782          		BOOK* bk = elem->book;
   \   00000020   00609515           LDRNE    R6,[R5, #+0]
    783          
    784                          if (bk != sby_book )
   \   00000024   07005611           CMPNE    R6,R7
   \   00000028   F080BD08           POPEQ    {R4-R7,PC}
    785                          {
    786          		      if (elem->isJava_2010==TRUE) JavaSession_Manager( 0x0E );
   \   0000002C   100095E5           LDR      R0,[R5, #+16]
   \   00000030   010050E3           CMP      R0,#+1
   \   00000034   0200001A           BNE      ??onDelPressed_Books_1
   \   00000038   0E00A0E3           MOV      R0,#+14
   \   0000003C   400200EF           SWI      +576
   \   00000040   F080BDE8           POP      {R4-R7,PC}
    787          		      else if (elem->isJava==TRUE) UI_Event_toBookID( TERMINATE_SESSION_EVENT, BookObj_GetBookID( bk ) );
   \                     ??onDelPressed_Books_1:
   \   00000044   C4009FE5           LDR      R0,??onDelPressed_Books_2  ;; TERMINATE_SESSION_EVENT
   \   00000048   007090E5           LDR      R7,[R0, #+0]
   \   0000004C   0C0095E5           LDR      R0,[R5, #+12]
   \   00000050   010050E3           CMP      R0,#+1
   \   00000054   0600A001           MOVEQ    R0,R6
   \   00000058   1300000A           BEQ      ??onDelPressed_Books_3
    788          		      else
    789                		      {
    790          			      if ( CheckEv( bk, TERMINATE_SESSION_EVENT ) )
   \   0000005C   0710A0E1           MOV      R1,R7
   \   00000060   0600A0E1           MOV      R0,R6
   \   00000064   ........           BL       ??CheckEv
   \   00000068   000050E3           CMP      R0,#+0
   \   0000006C   0600001A           BNE      ??onDelPressed_Books_4
    791          	      			      UI_Event_toBookID( TERMINATE_SESSION_EVENT, BookObj_GetBookID( (BOOK*)List_Get( bk->xbook->app_session->listbook, bk->xbook->app_session->listbook->FirstFree - 1 ) ) );
    792                			      else if ( CheckEv( bk, RETURN_TO_STANDBY_EVENT ) )
   \   00000070   ........           LDR      R0,??DataTable20  ;; RETURN_TO_STANDBY_EVENT
   \   00000074   007090E5           LDR      R7,[R0, #+0]
   \   00000078   0600A0E1           MOV      R0,R6
   \   0000007C   0710A0E1           MOV      R1,R7
   \   00000080   ........           BL       ??CheckEv
   \   00000084   000050E3           CMP      R0,#+0
   \   00000088   0C00000A           BEQ      ??onDelPressed_Books_5
    793          		      		      UI_Event_toBookID( RETURN_TO_STANDBY_EVENT, BookObj_GetBookID( (BOOK*)List_Get( bk->xbook->app_session->listbook, bk->xbook->app_session->listbook->FirstFree - 1 ) ) );
   \                     ??onDelPressed_Books_4:
   \   0000008C   000096E5           LDR      R0,[R6, #+0]
   \   00000090   081090E5           LDR      R1,[R0, #+8]
   \   00000094   080090E5           LDR      R0,[R0, #+8]
   \   00000098   001091E5           LDR      R1,[R1, #+0]
   \   0000009C   000090E5           LDR      R0,[R0, #+0]
   \   000000A0   B210D1E1           LDRH     R1,[R1, #+2]
   \   000000A4   011041E2           SUB      R1,R1,#+1
   \   000000A8   AD0100EF           SWI      +429
   \                     ??onDelPressed_Books_3:
   \   000000AC   FA0100EF           SWI      +506
   \   000000B0   0010A0E1           MOV      R1,R0
   \   000000B4   0700A0E1           MOV      R0,R7
   \   000000B8   AA0100EF           SWI      +426
   \   000000BC   F080BDE8           POP      {R4-R7,PC}
    794                                        else
    795                                        {
    796                                                if ( elem->gui_count )
   \                     ??onDelPressed_Books_5:
   \   000000C0   080095E5           LDR      R0,[R5, #+8]
   \   000000C4   000050E3           CMP      R0,#+0
   \   000000C8   F080BD08           POPEQ    {R4-R7,PC}
    797                                                {
    798                                                        BookObj_SetFocus(bk,0);
   \   000000CC   0010A0E3           MOV      R1,#+0
   \   000000D0   0600A0E1           MOV      R0,R6
   \   000000D4   320100EF           SWI      +306
    799                                                        GUI * gui = (GUI*)List_Get( bk->xguilist->guilist, elem->gui_count - 1 );
   \   000000D8   080095E5           LDR      R0,[R5, #+8]
   \   000000DC   011040E2           SUB      R1,R0,#+1
   \   000000E0   140096E5           LDR      R0,[R6, #+20]
   \   000000E4   040090E5           LDR      R0,[R0, #+4]
   \   000000E8   AD0100EF           SWI      +429
    800                                                        GUIObject_SoftKeys_ExecuteAction( gui, ACTION_LONG_BACK );
   \   000000EC   ........           LDR      R1,??DataTable13  ;; ACTION_LONG_BACK
   \   000000F0   001091E5           LDR      R1,[R1, #+0]
   \   000000F4   0118A0E1           MOV      R1,R1, LSL #+16
   \   000000F8   2118A0E1           MOV      R1,R1, LSR #+16
   \   000000FC   700300EF           SWI      +880
    801                                                        BookObj_SetFocus(mbk,0);
   \   00000100   0010A0E3           MOV      R1,#+0
   \   00000104   0400A0E1           MOV      R0,R4
   \   00000108   320100EF           SWI      +306
    802                                                }
    803                                        }
    804          		      }
    805                          }
    806          	}
    807          }
   \   0000010C   F080BDE8           POP      {R4-R7,PC}       ;; return
   \                     ??onDelPressed_Books_2:
   \   00000110   ........           DC32     TERMINATE_SESSION_EVENT
    808          
    809          
    810          // при нажатии "С" на эльфе

   \                                 In segment CODE, align 4, keep-with-next
    811          void onDelPressed_Elfs( BOOK* book )
    812          {
   \                     ??onDelPressed_Elfs:
   \   00000000   70402DE9           PUSH     {R4-R6,LR}
   \   00000004   0040A0E1           MOV      R4,R0
    813          	BOOK* bk = GetBook( book, ELFLIST );
   \   00000008   0110A0E3           MOV      R1,#+1
   \   0000000C   ........           BL       ??GetBook
   \   00000010   0050B0E1           MOVS     R5,R0
    814          	if (bk)
   \   00000014   7080BD08           POPEQ    {R4-R6,PC}
    815          	{
    816          		if ( CheckEv( bk, RETURN_TO_STANDBY_EVENT ) )
   \   00000018   ........           LDR      R0,??DataTable20  ;; RETURN_TO_STANDBY_EVENT
   \   0000001C   006090E5           LDR      R6,[R0, #+0]
   \   00000020   0500A0E1           MOV      R0,R5
   \   00000024   0610A0E1           MOV      R1,R6
   \   00000028   ........           BL       ??CheckEv
   \   0000002C   000050E3           CMP      R0,#+0
   \   00000030   0600001A           BNE      ??onDelPressed_Elfs_1
    817          		{
    818          			UI_Event_toBookID( RETURN_TO_STANDBY_EVENT, BookObj_GetBookID( bk ) );
    819          		}
    820          		else
    821          		{
    822          			if ( CheckEv( bk, ELF_TERMINATE_EVENT ) )
   \   00000034   E560A0E3           MOV      R6,#+229
   \   00000038   C06F86E3           ORR      R6,R6,#0x300
   \   0000003C   0610A0E1           MOV      R1,R6
   \   00000040   0500A0E1           MOV      R0,R5
   \   00000044   ........           BL       ??CheckEv
   \   00000048   000050E3           CMP      R0,#+0
   \   0000004C   0500000A           BEQ      ??onDelPressed_Elfs_2
    823          			{
    824          				UI_Event_toBookID( ELF_TERMINATE_EVENT, BookObj_GetBookID( bk )/* bk->BookID*/ );
   \                     ??onDelPressed_Elfs_1:
   \   00000050   0500A0E1           MOV      R0,R5
   \   00000054   FA0100EF           SWI      +506
   \   00000058   0010A0E1           MOV      R1,R0
   \   0000005C   0600A0E1           MOV      R0,R6
   \   00000060   AA0100EF           SWI      +426
   \   00000064   7080BDE8           POP      {R4-R6,PC}
    825          			}
    826          			else
    827          			{
    828          				MessageBox(EMPTY_TEXTID,STR("TerminateEvent not supported by elf..."),NOIMAGE,1,3000,book);
   \                     ??onDelPressed_Elfs_2:
   \   00000068   3C009FE5           LDR      R0,??onDelPressed_Elfs_3  ;; `?<Constant L"\\x54\\x65\\x72\\x6d\\x69\\x6e\\x61\\x74\\`
   \   0000006C   FF50A0E3           MOV      R5,#+255
   \   00000070   FF5C85E3           ORR      R5,R5,#0xFF00
   \   00000074   0520A0E1           MOV      R2,R5
   \   00000078   0010A0E3           MOV      R1,#+0
   \   0000007C   5D0100EF           SWI      +349
   \   00000080   10002DE9           PUSH     {R4}
   \   00000084   B810A0E3           MOV      R1,#+184
   \   00000088   B01E81E3           ORR      R1,R1,#0xB00
   \   0000008C   02002DE9           PUSH     {R1}
   \   00000090   0130A0E3           MOV      R3,#+1
   \   00000094   0520A0E1           MOV      R2,R5
   \   00000098   0010A0E1           MOV      R1,R0
   \   0000009C   9004E0E3           MVN      R0,#-1879048192
   \   000000A0   570200EF           SWI      +599
   \   000000A4   08D08DE2           ADD      SP,SP,#+8
    829          			}
    830          		}
    831          	}
    832          }
   \   000000A8   7080BDE8           POP      {R4-R6,PC}       ;; return
   \                     ??onDelPressed_Elfs_3:
   \   000000AC   ........           DC32     `?<Constant L"\\x54\\x65\\x72\\x6d\\x69\\x6e\\x61\\x74\\`
    833          
    834          

   \                                 In segment CODE, align 4, keep-with-next
    835          void onDelPressed()
    836          {
    837          	MyBOOK* mbk = (MyBOOK*) FindBook( isBookManager );
   \                     ??onDelPressed:
   \   00000000   ........           LDR      R0,??DataTable19  ;; ??isBookManager
   \   00000004   10402DE9           PUSH     {R4,LR}
   \   00000008   300100EF           SWI      +304
   \   0000000C   0040A0E1           MOV      R4,R0
    838          
    839          	if (GetActiveTab(mbk)==BOOKLIST)
   \   00000010   ........           BL       ??GetActiveTab
   \   00000014   000050E3           CMP      R0,#+0
   \   00000018   0400A0E1           MOV      R0,R4
   \   0000001C   0100001A           BNE      ??onDelPressed_1
    840          		onDelPressed_Books(mbk);
   \   00000020   1040BDE8           POP      {R4,LR}          ;; Pop
   \   00000024   ........           B        ??onDelPressed_Books  ;; tailcall
    841          	else
    842          		onDelPressed_Elfs(mbk);
   \                     ??onDelPressed_1:
   \   00000028   1040BDE8           POP      {R4,LR}          ;; Pop
   \   0000002C   ........           B        ??onDelPressed_Elfs  ;; tailcall
    843          }
    844          
    845          
    846          // при нажатии "Автора!" на эльфе

   \                                 In segment CODE, align 4, keep-with-next
    847          void Author( BOOK* book, GUI* lt )
    848          {
   \                     ??Author:
   \   00000000   F0402DE9           PUSH     {R4-R7,LR}
   \   00000004   0040A0E1           MOV      R4,R0
    849          	BOOK* bk = GetBook( book, ELFLIST );
   \   00000008   0110A0E3           MOV      R1,#+1
   \   0000000C   ........           BL       ??GetBook
   \   00000010   0050B0E1           MOVS     R5,R0
    850          	if ( bk )
   \   00000014   F080BD08           POPEQ    {R4-R7,PC}
    851          	{
    852          		if ( CheckEv( bk, ELF_SHOW_INFO_EVENT ) )
   \   00000018   E660A0E3           MOV      R6,#+230
   \   0000001C   C06F86E3           ORR      R6,R6,#0x300
   \   00000020   0610A0E1           MOV      R1,R6
   \   00000024   ........           BL       ??CheckEv
   \   00000028   000050E3           CMP      R0,#+0
   \   0000002C   0D00000A           BEQ      ??Author_1
    853          		{
    854          			MSG* msg = new MSG;
   \   00000030   0400A0E3           MOV      R0,#+4
   \   00000034   ........           _BLF     `??operator new`,`??operator new??rA`
   \   00000038   0070A0E1           MOV      R7,R0
    855          			msg->book = book;
   \   0000003C   004087E5           STR      R4,[R7, #+0]
    856          			UI_Event_toBookIDwData( ELF_SHOW_INFO_EVENT, BookObj_GetBookID( bk ), msg, ( void(*)( void*) )mfree_adr() );
   \   00000040   048100EF           SWI      +33028
   \   00000044   0040A0E1           MOV      R4,R0
   \   00000048   0500A0E1           MOV      R0,R5
   \   0000004C   FA0100EF           SWI      +506
   \   00000050   0430A0E1           MOV      R3,R4
   \   00000054   0720A0E1           MOV      R2,R7
   \   00000058   0010A0E1           MOV      R1,R0
   \   0000005C   0600A0E1           MOV      R0,R6
   \   00000060   AB0100EF           SWI      +427
   \   00000064   F080BDE8           POP      {R4-R7,PC}
    857          		}
    858          		else
    859          		{
    860          			MessageBox(EMPTY_TEXTID,STR("Author unknown"),NOIMAGE,1,3000,book);
   \                     ??Author_1:
   \   00000068   3C009FE5           LDR      R0,??Author_2    ;; `?<Constant L"\\x41\\x75\\x74\\x68\\x6f\\x72\\x20\\x75\\`
   \   0000006C   FF50A0E3           MOV      R5,#+255
   \   00000070   FF5C85E3           ORR      R5,R5,#0xFF00
   \   00000074   0520A0E1           MOV      R2,R5
   \   00000078   0010A0E3           MOV      R1,#+0
   \   0000007C   5D0100EF           SWI      +349
   \   00000080   0010A0E1           MOV      R1,R0
   \   00000084   10002DE9           PUSH     {R4}
   \   00000088   B800A0E3           MOV      R0,#+184
   \   0000008C   B00E80E3           ORR      R0,R0,#0xB00
   \   00000090   01002DE9           PUSH     {R0}
   \   00000094   0130A0E3           MOV      R3,#+1
   \   00000098   0520A0E1           MOV      R2,R5
   \   0000009C   9004E0E3           MVN      R0,#-1879048192
   \   000000A0   570200EF           SWI      +599
   \   000000A4   08D08DE2           ADD      SP,SP,#+8
    861          		}
    862          	}
    863          }
   \   000000A8   F080BDE8           POP      {R4-R7,PC}       ;; return
   \                     ??Author_2:
   \   000000AC   ........           DC32     `?<Constant L"\\x41\\x75\\x74\\x68\\x6f\\x72\\x20\\x75\\`
    864          
    865          

   \                                 In segment CODE, align 4, keep-with-next
    866          void Copyright( BOOK* book, GUI* lt )
    867          {
   \                     ??Copyright:
   \   00000000   30402DE9           PUSH     {R4,R5,LR}
    868          	MessageBox(EMPTY_TEXTID,COPYRIGHT_STRING,NOIMAGE,1,3000,book);
   \   00000004   0010A0E3           MOV      R1,#+0
   \   00000008   0040A0E1           MOV      R4,R0
   \   0000000C   34009FE5           LDR      R0,??Copyright_1  ;; `?<Constant L"\\xa\\x42\\x6f\\x6f\\x6b\\x4d\\x61\\x6e\\x`
   \   00000010   FF50A0E3           MOV      R5,#+255
   \   00000014   FF5C85E3           ORR      R5,R5,#0xFF00
   \   00000018   0520A0E1           MOV      R2,R5
   \   0000001C   5D0100EF           SWI      +349
   \   00000020   10002DE9           PUSH     {R4}
   \   00000024   B810A0E3           MOV      R1,#+184
   \   00000028   B01E81E3           ORR      R1,R1,#0xB00
   \   0000002C   02002DE9           PUSH     {R1}
   \   00000030   0130A0E3           MOV      R3,#+1
   \   00000034   0520A0E1           MOV      R2,R5
   \   00000038   0010A0E1           MOV      R1,R0
   \   0000003C   9004E0E3           MVN      R0,#-1879048192
   \   00000040   570200EF           SWI      +599
    869          }
   \   00000044   3380BDE8           POP      {R0,R1,R4,R5,PC}  ;; return
   \                     ??Copyright_1:
   \   00000048   ........           DC32     `?<Constant L"\\xa\\x42\\x6f\\x6f\\x6b\\x4d\\x61\\x6e\\x`
    870          
    871          

   \                                 In segment CODE, align 4, keep-with-next
    872          void HideBook( BOOK* bk, GUI* gui )
    873          {
   \                     ??HideBook:
   \   00000000   F0402DE9           PUSH     {R4-R7,LR}
   \   00000004   3CD04DE2           SUB      SP,SP,#+60
   \   00000008   0040A0E1           MOV      R4,R0
    874          	MyBOOK* mbk = (MyBOOK*) bk;
    875          
    876          	int f;
    877          	wchar_t* path = get_path();
   \   0000000C   ........           BL       ??get_path
   \   00000010   0050A0E1           MOV      R5,R0
    878          
    879          	mbk->ActiveTAB=GetActiveTab(mbk);
   \   00000014   0400A0E1           MOV      R0,R4
   \   00000018   ........           BL       ??GetActiveTab
   \   0000001C   BC08C4E1           STRH     R0,[R4, #+140]
    880          	BOOK_LIST_ITEM* elem = GetBookListItem(mbk,mbk->ActiveTAB);
   \   00000020   BC18D4E1           LDRH     R1,[R4, #+140]
   \   00000024   0400A0E1           MOV      R0,R4
   \   00000028   ........           BL       ??GetBookListItem
    881          
    882          	if ( ( f = _fopen( path, INI_HIDDEN, FSX_O_CREAT|FSX_O_APPEND, FSX_S_IREAD|FSX_S_IWRITE, 0 ) ) >= 0 )
   \   0000002C   ........           LDR      R1,??DataTable17  ;; `?<Constant L"\\x68\\x69\\x64\\x64\\x65\\x6e\\x2e\\x69\\`
   \   00000030   0060A0E1           MOV      R6,R0
   \   00000034   0000A0E3           MOV      R0,#+0
   \   00000038   01002DE9           PUSH     {R0}
   \   0000003C   603FA0E3           MOV      R3,#+384
   \   00000040   422FA0E3           MOV      R2,#+264
   \   00000044   0500A0E1           MOV      R0,R5
   \   00000048   160100EF           SWI      +278
   \   0000004C   0070B0E1           MOVS     R7,R0
   \   00000050   04D08DE2           ADD      SP,SP,#+4
   \   00000054   0D00004A           BMI      ??HideBook_1
    883          	{
    884          		char temp_buf[MAX_BOOK_NAME_LEN+10];
    885          		strcpy( temp_buf, elem->book_name );
   \   00000058   041096E5           LDR      R1,[R6, #+4]
   \   0000005C   0D00A0E1           MOV      R0,SP
   \   00000060   A00100EF           SWI      +416
    886          		strcat( temp_buf, "\r\n" );
   \   00000064   111F8FE2           ADR      R1,??HideBook_2  ;; "\r\n"
   \   00000068   0D00A0E1           MOV      R0,SP
   \   0000006C   800200EF           SWI      +640
    887          		fwrite( f, temp_buf, strlen( temp_buf ) );
   \   00000070   0D00A0E1           MOV      R0,SP
   \   00000074   5A0100EF           SWI      +346
   \   00000078   0020A0E1           MOV      R2,R0
   \   0000007C   0D10A0E1           MOV      R1,SP
   \   00000080   0700A0E1           MOV      R0,R7
   \   00000084   190100EF           SWI      +281
    888          		fclose( f );
   \   00000088   0700A0E1           MOV      R0,R7
   \   0000008C   170100EF           SWI      +279
    889          	}
    890          
    891          	delete path;
   \                     ??HideBook_1:
   \   00000090   0500A0E1           MOV      R0,R5
   \   00000094   ........           _BLF     `??operator delete`,`??operator delete??rA`
    892          
    893          	LoadHidden(mbk);
   \   00000098   0400A0E1           MOV      R0,R4
   \   0000009C   ........           BL       ??LoadHidden
    894          
    895          	CreateBookManagerGUI( mbk );
   \   000000A0   0400A0E1           MOV      R0,R4
   \   000000A4   ........           BL       ??CreateBookManagerGUI
    896          }
   \   000000A8   3CD08DE2           ADD      SP,SP,#+60
   \   000000AC   F080BDE8           POP      {R4-R7,PC}       ;; return
   \                     ??HideBook_2:
   \   000000B0   0D0A0000           DC8      "\r\n",+0
    897          
    898          

   \                                 In segment CODE, align 4, keep-with-next
    899          void ShowBook( BOOK* bk, GUI* gui )
    900          {
   \                     ??ShowBook:
   \   00000000   F0432DE9           PUSH     {R4-R9,LR}
   \   00000004   0040A0E1           MOV      R4,R0
    901          	MyBOOK* mbk = (MyBOOK*) bk;
    902          
    903          	int f;
    904          	char* pos;
    905          	char* end_pos;
    906          	wchar_t* path = get_path();
   \   00000008   ........           BL       ??get_path
   \   0000000C   0050A0E1           MOV      R5,R0
    907          
    908          	mbk->ActiveTAB=GetActiveTab(mbk);
   \   00000010   0400A0E1           MOV      R0,R4
   \   00000014   ........           BL       ??GetActiveTab
   \   00000018   BC08C4E1           STRH     R0,[R4, #+140]
    909          	BOOK_LIST_ITEM* elem = GetBookListItem(mbk,mbk->ActiveTAB);
   \   0000001C   BC18D4E1           LDRH     R1,[R4, #+140]
   \   00000020   0400A0E1           MOV      R0,R4
   \   00000024   ........           BL       ??GetBookListItem
   \   00000028   0060A0E1           MOV      R6,R0
    910          
    911          	if ( mbk->hidden_buf )
   \   0000002C   2C0094E5           LDR      R0,[R4, #+44]
   \   00000030   000050E3           CMP      R0,#+0
   \   00000034   1E00000A           BEQ      ??ShowBook_1
    912          	{
    913          		pos = strstr( mbk->hidden_buf, elem->book_name );
   \   00000038   041096E5           LDR      R1,[R6, #+4]
   \   0000003C   980200EF           SWI      +664
   \   00000040   0070A0E1           MOV      R7,R0
    914          		end_pos = pos + strlen(elem->book_name) + sizeof("\r\n") - sizeof("");
   \   00000044   040096E5           LDR      R0,[R6, #+4]
   \   00000048   5A0100EF           SWI      +346
    915          		f = _fopen( path, INI_HIDDEN, FSX_O_RDWR|FSX_O_TRUNC, FSX_S_IREAD|FSX_S_IWRITE, 0 );
   \   0000004C   ........           LDR      R1,??DataTable17  ;; `?<Constant L"\\x68\\x69\\x64\\x64\\x65\\x6e\\x2e\\x69\\`
   \   00000050   070080E0           ADD      R0,R0,R7
   \   00000054   028080E2           ADD      R8,R0,#+2
   \   00000058   0000A0E3           MOV      R0,#+0
   \   0000005C   01002DE9           PUSH     {R0}
   \   00000060   603FA0E3           MOV      R3,#+384
   \   00000064   812FA0E3           MOV      R2,#+516
   \   00000068   0500A0E1           MOV      R0,R5
   \   0000006C   160100EF           SWI      +278
   \   00000070   0090A0E1           MOV      R9,R0
    916          		fwrite( f, mbk->hidden_buf, pos - mbk->hidden_buf );
   \   00000074   2C0094E5           LDR      R0,[R4, #+44]
   \   00000078   002047E0           SUB      R2,R7,R0
   \   0000007C   0010A0E1           MOV      R1,R0
   \   00000080   0900A0E1           MOV      R0,R9
   \   00000084   190100EF           SWI      +281
    917          		fwrite( f, end_pos, mbk->hidden_buf_size - (end_pos - mbk->hidden_buf) );
   \   00000088   300094E5           LDR      R0,[R4, #+48]
   \   0000008C   2C1094E5           LDR      R1,[R4, #+44]
   \   00000090   011048E0           SUB      R1,R8,R1
   \   00000094   012040E0           SUB      R2,R0,R1
   \   00000098   0810A0E1           MOV      R1,R8
   \   0000009C   0900A0E1           MOV      R0,R9
   \   000000A0   190100EF           SWI      +281
    918          		fclose( f );
   \   000000A4   0900A0E1           MOV      R0,R9
   \   000000A8   170100EF           SWI      +279
   \   000000AC   04D08DE2           ADD      SP,SP,#+4
    919          	}
    920          
    921          	elem->isHidden=FALSE;
   \   000000B0   0000A0E3           MOV      R0,#+0
   \                     ??ShowBook_1:
   \   000000B4   140086E5           STR      R0,[R6, #+20]
    922          
    923          	delete path;
   \   000000B8   0500A0E1           MOV      R0,R5
   \   000000BC   ........           _BLF     `??operator delete`,`??operator delete??rA`
    924          
    925          	LoadHidden(mbk);
   \   000000C0   0400A0E1           MOV      R0,R4
   \   000000C4   ........           BL       ??LoadHidden
    926          
    927          	mbk->ActiveTAB=GetActiveTab(mbk);
   \   000000C8   0400A0E1           MOV      R0,R4
   \   000000CC   ........           BL       ??GetActiveTab
   \   000000D0   BC08C4E1           STRH     R0,[R4, #+140]
    928          	CreateBookManagerGUI( mbk );
   \   000000D4   0400A0E1           MOV      R0,R4
   \   000000D8   ........           BL       ??CreateBookManagerGUI
    929          }
   \   000000DC   F083BDE8           POP      {R4-R9,PC}       ;; return
    930          
    931          

   \                                 In segment CODE, align 4, keep-with-next
    932          void HiddenMode( BOOK* bk, GUI* gui )
    933          {
   \                     ??HiddenMode:
   \   00000000   10402DE9           PUSH     {R4,LR}
   \   00000004   0040A0E1           MOV      R4,R0
    934          	MyBOOK* mbk = (MyBOOK*) bk;
    935          
    936          	mbk->ActiveTAB=GetActiveTab(mbk);
   \   00000008   ........           BL       ??GetActiveTab
   \   0000000C   BC08C4E1           STRH     R0,[R4, #+140]
    937          
    938          	if (mbk->ActiveTAB==BOOKLIST)
   \   00000010   BC28D4E1           LDRH     R2,[R4, #+140]
   \   00000014   0100A0E3           MOV      R0,#+1
   \   00000018   0010A0E3           MOV      R1,#+0
   \   0000001C   000052E3           CMP      R2,#+0
   \   00000020   0600001A           BNE      ??HiddenMode_1
    939          	{
    940          		if (mbk->books_show_hid==FALSE) mbk->books_show_hid=TRUE;
   \   00000024   942094E5           LDR      R2,[R4, #+148]
   \   00000028   000052E3           CMP      R2,#+0
   \   0000002C   94108415           STRNE    R1,[R4, #+148]
   \   00000030   94008405           STREQ    R0,[R4, #+148]
   \   00000034   0400A0E1           MOV      R0,R4
   \   00000038   1040BDE8           POP      {R4,LR}          ;; Pop
   \   0000003C   ........           B        ??CreateBookManagerGUI  ;; tailcall
    941          		else mbk->books_show_hid=FALSE;
    942          	}
    943          	else
    944          	{
    945          		if (mbk->elfs_show_hid==FALSE) mbk->elfs_show_hid=TRUE;
   \                     ??HiddenMode_1:
   \   00000040   9C2094E5           LDR      R2,[R4, #+156]
   \   00000044   000052E3           CMP      R2,#+0
   \   00000048   9C008405           STREQ    R0,[R4, #+156]
    946          		else mbk->elfs_show_hid=FALSE;
   \   0000004C   9C108415           STRNE    R1,[R4, #+156]
    947          	}
    948          
    949          	CreateBookManagerGUI( mbk );
   \   00000050   0400A0E1           MOV      R0,R4
   \   00000054   1040BDE8           POP      {R4,LR}          ;; Pop
   \   00000058   ........           B        ??CreateBookManagerGUI  ;; tailcall
    950          }
    951          
    952          

   \                                 In segment CODE, align 4, keep-with-next
    953          void NoGUIMode( BOOK* bk, GUI* gui )
    954          {
   \                     ??NoGUIMode:
   \   00000000   10402DE9           PUSH     {R4,LR}
   \   00000004   0040A0E1           MOV      R4,R0
    955          	MyBOOK* mbk = (MyBOOK*) bk;
    956          
    957          	mbk->ActiveTAB=GetActiveTab(mbk);
   \   00000008   ........           BL       ??GetActiveTab
   \   0000000C   BC08C4E1           STRH     R0,[R4, #+140]
    958          
    959          	if (mbk->ActiveTAB==BOOKLIST)
   \   00000010   BC28D4E1           LDRH     R2,[R4, #+140]
   \   00000014   0100A0E3           MOV      R0,#+1
   \   00000018   0010A0E3           MOV      R1,#+0
   \   0000001C   000052E3           CMP      R2,#+0
   \   00000020   0600001A           BNE      ??NoGUIMode_1
    960          	{
    961          		if (mbk->books_show_nogui==FALSE) mbk->books_show_nogui=TRUE;
   \   00000024   982094E5           LDR      R2,[R4, #+152]
   \   00000028   000052E3           CMP      R2,#+0
   \   0000002C   98108415           STRNE    R1,[R4, #+152]
   \   00000030   98008405           STREQ    R0,[R4, #+152]
   \   00000034   0400A0E1           MOV      R0,R4
   \   00000038   1040BDE8           POP      {R4,LR}          ;; Pop
   \   0000003C   ........           B        ??CreateBookManagerGUI  ;; tailcall
    962          		else mbk->books_show_nogui=FALSE;
    963          	}
    964          	else
    965          	{
    966          		if (mbk->elfs_show_nogui==FALSE) mbk->elfs_show_nogui=TRUE;
   \                     ??NoGUIMode_1:
   \   00000040   A02094E5           LDR      R2,[R4, #+160]
   \   00000044   000052E3           CMP      R2,#+0
   \   00000048   A0008405           STREQ    R0,[R4, #+160]
    967          		else mbk->elfs_show_nogui=FALSE;
   \   0000004C   A0108415           STRNE    R1,[R4, #+160]
    968          	}
    969          
    970          	CreateBookManagerGUI( mbk );
   \   00000050   0400A0E1           MOV      R0,R4
   \   00000054   1040BDE8           POP      {R4,LR}          ;; Pop
   \   00000058   ........           B        ??CreateBookManagerGUI  ;; tailcall
    971          }
    972          
    973          

   \                                 In segment CODE, align 4, keep-with-next
    974          int StartElf( wchar_t* path, char* name )
    975          {
   \                     ??StartElf:
   \   00000000   F0432DE9           PUSH     {R4-R9,LR}
   \   00000004   0060A0E1           MOV      R6,R0
   \   00000008   0170A0E1           MOV      R7,R1
    976          	int res = -1;
   \   0000000C   0040E0E3           MVN      R4,#+0
    977          	wchar_t* elfname = new wchar_t[wstrlen( path )+strlen( name )+1];
   \   00000010   570100EF           SWI      +343
   \   00000014   0050A0E1           MOV      R5,R0
   \   00000018   0700A0E1           MOV      R0,R7
   \   0000001C   5A0100EF           SWI      +346
   \   00000020   050080E0           ADD      R0,R0,R5
   \   00000024   010080E2           ADD      R0,R0,#+1
   \   00000028   8000A0E1           LSL      R0,R0,#+1
   \   0000002C   ........           _BLF     `??operator new[]`,`??operator new[]??rA`
   \   00000030   0050A0E1           MOV      R5,R0
    978          	wchar_t* wname = new wchar_t[strlen( name )+1];
   \   00000034   0700A0E1           MOV      R0,R7
   \   00000038   5A0100EF           SWI      +346
   \   0000003C   010080E2           ADD      R0,R0,#+1
   \   00000040   8000A0E1           LSL      R0,R0,#+1
   \   00000044   ........           _BLF     `??operator new[]`,`??operator new[]??rA`
   \   00000048   0080A0E1           MOV      R8,R0
    979          	str2wstr( wname, name );
   \   0000004C   0710A0E1           MOV      R1,R7
   \   00000050   580100EF           SWI      +344
    980          	wstrcpy( elfname, path );
   \   00000054   0610A0E1           MOV      R1,R6
   \   00000058   0500A0E1           MOV      R0,R5
   \   0000005C   520100EF           SWI      +338
    981          	wstrcat( elfname, wname );
   \   00000060   0810A0E1           MOV      R1,R8
   \   00000064   0500A0E1           MOV      R0,R5
   \   00000068   540100EF           SWI      +340
    982          
    983          	{
    984          		wchar_t* path;
    985          		wchar_t* name;
    986          		int len;
    987          		name = wstrrchr( elfname, '/' );
   \   0000006C   2F10A0E3           MOV      R1,#+47
   \   00000070   0500A0E1           MOV      R0,R5
   \   00000074   AE0100EF           SWI      +430
   \   00000078   0060B0E1           MOVS     R6,R0
    988          		if ( name )
   \   0000007C   1900000A           BEQ      ??StartElf_1
    989          		{
    990          			path = new wchar_t[ ( len = name-elfname ) + 1 ];
   \   00000080   A600A0E1           LSR      R0,R6,#+1
   \   00000084   A57040E0           SUB      R7,R0,R5, LSR #+1
   \   00000088   010087E2           ADD      R0,R7,#+1
   \   0000008C   8000A0E1           LSL      R0,R0,#+1
   \   00000090   ........           _BLF     `??operator new[]`,`??operator new[]??rA`
   \   00000094   0090A0E1           MOV      R9,R0
    991          			memcpy( path, elfname, len * sizeof(wchar_t) );
   \   00000098   8720A0E1           LSL      R2,R7,#+1
   \   0000009C   0510A0E1           MOV      R1,R5
   \   000000A0   130100EF           SWI      +275
    992          			path[len] = 0;
   \   000000A4   870089E0           ADD      R0,R9,R7, LSL #+1
   \   000000A8   0010A0E3           MOV      R1,#+0
   \   000000AC   B010C0E1           STRH     R1,[R0, #+0]
    993          			name++;
    994          			if ( !fstat( path, name, 0 ) )
   \   000000B0   0020A0E3           MOV      R2,#+0
   \   000000B4   021086E2           ADD      R1,R6,#+2
   \   000000B8   0900A0E1           MOV      R0,R9
   \   000000BC   1C0100EF           SWI      +284
   \   000000C0   000050E3           CMP      R0,#+0
   \   000000C4   0500001A           BNE      ??StartElf_2
    995          			{
    996          				res = elfload( elfname, 0, 0, 0 );
   \   000000C8   0030A0E3           MOV      R3,#+0
   \   000000CC   0020A0E3           MOV      R2,#+0
   \   000000D0   0210A0E1           MOV      R1,R2
   \   000000D4   0500A0E1           MOV      R0,R5
   \   000000D8   0D0100EF           SWI      +269
   \   000000DC   0040A0E1           MOV      R4,R0
    997          			}
    998          			delete( path );
   \                     ??StartElf_2:
   \   000000E0   0900A0E1           MOV      R0,R9
   \   000000E4   ........           _BLF     `??operator delete`,`??operator delete??rA`
    999          		}
   1000          	}
   1001          	delete( elfname );
   \                     ??StartElf_1:
   \   000000E8   0500A0E1           MOV      R0,R5
   \   000000EC   ........           _BLF     `??operator delete`,`??operator delete??rA`
   1002          	delete( wname );
   \   000000F0   0800A0E1           MOV      R0,R8
   \   000000F4   ........           _BLF     `??operator delete`,`??operator delete??rA`
   1003          	return res;
   \   000000F8   0400A0E1           MOV      R0,R4
   \   000000FC   F083BDE8           POP      {R4-R9,PC}       ;; return
   1004          }
   1005          
   1006          

   \                                 In segment CODE, align 4, keep-with-next
   1007          void StartShortcut_Internal(char * param)
   1008          {
   \                     ??StartShortcut_Internal:
   \   00000000   10402DE9           PUSH     {R4,LR}
   \   00000004   81DF4DE2           SUB      SP,SP,#+516
   \   00000008   0040A0E1           MOV      R4,R0
   1009          	wchar_t par[256];
   1010          
   1011          	str2wstr( par, param );
   \   0000000C   0410A0E1           MOV      R1,R4
   \   00000010   04008DE2           ADD      R0,SP,#+4
   \   00000014   580100EF           SWI      +344
   1012          
   1013          	if ( strstr( param, "java:" ) )
   \   00000018   3C109FE5           LDR      R1,??StartShortcut_Internal_1  ;; `?<Constant "java:">`
   \   0000001C   0400A0E1           MOV      R0,R4
   \   00000020   980200EF           SWI      +664
   \   00000024   000050E3           CMP      R0,#+0
   \   00000028   04008DE2           ADD      R0,SP,#+4
   \   0000002C   0700000A           BEQ      ??StartShortcut_Internal_2
   1014          	{
   1015          		char sp_flag;
   1016          		REQUEST_UI_OAF_START_APPLICATION( ASYNC, JavaShortcut_GetID(par)+0x10000, &sp_flag );
   \   00000030   ........           BL       ??JavaShortcut_GetID
   \   00000034   401B80E2           ADD      R1,R0,#+65536
   \   00000038   20009FE5           LDR      R0,??StartShortcut_Internal_1+0x4  ;; ASYNC
   \   0000003C   0D20A0E1           MOV      R2,SP
   \   00000040   000090E5           LDR      R0,[R0, #+0]
   \   00000044   0B0300EF           SWI      +779
   \   00000048   81DF8DE2           ADD      SP,SP,#+516
   \   0000004C   1080BDE8           POP      {R4,PC}
   1017          	}
   1018          	else
   1019          	{
   1020          		Shortcut_Run( par );
   \                     ??StartShortcut_Internal_2:
   \   00000050   8E0200EF           SWI      +654
   1021          	}
   1022          }
   \   00000054   81DF8DE2           ADD      SP,SP,#+516
   \   00000058   1080BDE8           POP      {R4,PC}          ;; return
   \                     ??StartShortcut_Internal_1:
   \   0000005C   ........           DC32     `?<Constant "java:">`
   \   00000060   ........           DC32     ASYNC
   1023          
   1024          

   \                                 In segment CODE, align 4, keep-with-next
   1025          void StartShortcut_External(char * param)
   1026          {
   \                     ??StartShortcut_External:
   \   00000000   70402DE9           PUSH     {R4-R6,LR}
   \   00000004   0CD04DE2           SUB      SP,SP,#+12
   \   00000008   0040A0E1           MOV      R4,R0
   1027          	if( StartElf( GetDir( DIR_ELFS | MEM_INTERNAL ), param ) < 0 )
   \   0000000C   1100A0E3           MOV      R0,#+17
   \   00000010   050100EF           SWI      +261
   \   00000014   0410A0E1           MOV      R1,R4
   \   00000018   ........           BL       ??StartElf
   \   0000001C   000050E3           CMP      R0,#+0
   \   00000020   7780BD58           POPPL    {R0-R2,R4-R6,PC}
   1028          		if ( StartElf( GetDir( DIR_ELFS | MEM_EXTERNAL ), param ) < 0 )
   \   00000024   1000A0E3           MOV      R0,#+16
   \   00000028   050100EF           SWI      +261
   \   0000002C   0410A0E1           MOV      R1,R4
   \   00000030   ........           BL       ??StartElf
   \   00000034   000050E3           CMP      R0,#+0
   \   00000038   7780BD58           POPPL    {R0-R2,R4-R6,PC}
   1029          		{
   1030          			int ms[3];
   1031          			ms[0] = STR( "ZBin" );
   \   0000003C   90509FE5           LDR      R5,??StartShortcut_External_1  ;; `?<Constant L"\\x5a\\x42\\x69\\x6e">`
   \   00000040   FF60A0E3           MOV      R6,#+255
   \   00000044   FF6C86E3           ORR      R6,R6,#0xFF00
   \   00000048   0620A0E1           MOV      R2,R6
   \   0000004C   0010A0E3           MOV      R1,#+0
   \   00000050   0500A0E1           MOV      R0,R5
   \   00000054   5D0100EF           SWI      +349
   \   00000058   00008DE5           STR      R0,[SP, #+0]
   1032          			ms[1] = TextID_Create( param, ENC_LAT1, strlen( param ) );
   \   0000005C   0400A0E1           MOV      R0,R4
   \   00000060   5A0100EF           SWI      +346
   \   00000064   0020A0E1           MOV      R2,R0
   \   00000068   0610A0E3           MOV      R1,#+6
   \   0000006C   0400A0E1           MOV      R0,R4
   \   00000070   5D0100EF           SWI      +349
   \   00000074   04008DE5           STR      R0,[SP, #+4]
   1033          			ms[2] = STR( "\n\nnot found.." );
   \   00000078   0620A0E1           MOV      R2,R6
   \   0000007C   0010A0E3           MOV      R1,#+0
   \   00000080   0C0085E2           ADD      R0,R5,#+12
   \   00000084   5D0100EF           SWI      +349
   \   00000088   08008DE5           STR      R0,[SP, #+8]
   1034          			MessageBox( EMPTY_TEXTID,TextID_Create(ms,ENC_TEXTID,3),NOIMAGE,1,3000,FindBook(isBookManager));
   \   0000008C   ........           LDR      R0,??DataTable19  ;; ??isBookManager
   \   00000090   300100EF           SWI      +304
   \   00000094   0040A0E1           MOV      R4,R0
   \   00000098   0320A0E3           MOV      R2,#+3
   \   0000009C   0510A0E3           MOV      R1,#+5
   \   000000A0   0D00A0E1           MOV      R0,SP
   \   000000A4   5D0100EF           SWI      +349
   \   000000A8   0010A0E1           MOV      R1,R0
   \   000000AC   10002DE9           PUSH     {R4}
   \   000000B0   B800A0E3           MOV      R0,#+184
   \   000000B4   B00E80E3           ORR      R0,R0,#0xB00
   \   000000B8   01002DE9           PUSH     {R0}
   \   000000BC   0130A0E3           MOV      R3,#+1
   \   000000C0   0620A0E1           MOV      R2,R6
   \   000000C4   9004E0E3           MVN      R0,#-1879048192
   \   000000C8   570200EF           SWI      +599
   \   000000CC   08D08DE2           ADD      SP,SP,#+8
   1035          		}
   1036          }
   \   000000D0   7780BDE8           POP      {R0-R2,R4-R6,PC}  ;; return
   \                     ??StartShortcut_External_1:
   \   000000D4   ........           DC32     `?<Constant L"\\x5a\\x42\\x69\\x6e">`
   1037          
   1038          
   1039          // патченый onKey от своей менюхи...; )

   \                                 In segment CODE, align 4, keep-with-next
   1040          void myOnKey_Unified( DISP_OBJ* p, int keyID, int i2, int i3, int press_mode )
   1041          {
   \                     ??myOnKey_Unified:
   \   00000000   F0432DE9           PUSH     {R4-R9,LR}
   \   00000004   14D04DE2           SUB      SP,SP,#+20
   \   00000008   30609DE5           LDR      R6,[SP, #+48]
   \   0000000C   0070A0E1           MOV      R7,R0
   1042          	MyBOOK* mbk = (MyBOOK*) FindBook( isBookManager );
   \   00000010   ........           LDR      R0,??DataTable19  ;; ??isBookManager
   \   00000014   0140A0E1           MOV      R4,R1
   \   00000018   0280A0E1           MOV      R8,R2
   \   0000001C   0390A0E1           MOV      R9,R3
   \   00000020   300100EF           SWI      +304
   \   00000024   0050A0E1           MOV      R5,R0
   1043          
   1044          	mbk->oldOnKey( p, keyID, i2, i3, press_mode );
   \   00000028   0600A0E1           MOV      R0,R6
   \   0000002C   01002DE9           PUSH     {R0}
   \   00000030   0930A0E1           MOV      R3,R9
   \   00000034   0820A0E1           MOV      R2,R8
   \   00000038   0410A0E1           MOV      R1,R4
   \   0000003C   0700A0E1           MOV      R0,R7
   \   00000040   347095E5           LDR      R7,[R5, #+52]
   \   00000044   37FF2FE1           BLX      R7
   1045          
   1046          	if ( keyID == KEY_DEL && press_mode == KBD_SHORT_RELEASE )
   \   00000048   64019FE5           LDR      R0,??myOnKey_Unified_1  ;; KEY_DEL
   \   0000004C   000090E5           LDR      R0,[R0, #+0]
   \   00000050   04D08DE2           ADD      SP,SP,#+4
   \   00000054   000054E1           CMP      R4,R0
   \   00000058   0400001A           BNE      ??myOnKey_Unified_2
   \   0000005C   54019FE5           LDR      R0,??myOnKey_Unified_1+0x4  ;; KBD_SHORT_RELEASE
   \   00000060   000090E5           LDR      R0,[R0, #+0]
   \   00000064   000056E1           CMP      R6,R0
   \   00000068   0000001A           BNE      ??myOnKey_Unified_2
   1047          		onDelPressed();
   \   0000006C   ........           BL       ??onDelPressed
   1048          
   1049          	if ( keyID == KeyMinimize && press_mode == KeyMinimizePressMode )
   \                     ??myOnKey_Unified_2:
   \   00000070   44019FE5           LDR      R0,??myOnKey_Unified_1+0x8  ;; KeyMinimize
   \   00000074   000090E5           LDR      R0,[R0, #+0]
   \   00000078   000054E1           CMP      R4,R0
   \   0000007C   0900001A           BNE      ??myOnKey_Unified_3
   \   00000080   38019FE5           LDR      R0,??myOnKey_Unified_1+0xC  ;; KeyMinimizePressMode
   \   00000084   000090E5           LDR      R0,[R0, #+0]
   \   00000088   000056E1           CMP      R6,R0
   \   0000008C   0500001A           BNE      ??myOnKey_Unified_3
   1050          	{
   1051          		BOOK* stby_bk = Find_StandbyBook();
   \   00000090   310100EF           SWI      +305
   1052          		if ( stby_bk ) BookObj_SetFocus( stby_bk, 0 );
   \   00000094   000050E3           CMP      R0,#+0
   \   00000098   4000000A           BEQ      ??myOnKey_Unified_4
   \   0000009C   0010A0E3           MOV      R1,#+0
   \   000000A0   320100EF           SWI      +306
   1053          		CloseMyBook( mbk, 0 );
   \   000000A4   3D0000EA           B        ??myOnKey_Unified_4
   1054          	}
   1055          
   1056          	else if ( keyID == KeyCloseAll && press_mode == KeyCloseAllPressMode )
   \                     ??myOnKey_Unified_3:
   \   000000A8   14019FE5           LDR      R0,??myOnKey_Unified_1+0x10  ;; KeyCloseAll
   \   000000AC   000090E5           LDR      R0,[R0, #+0]
   \   000000B0   000054E1           CMP      R4,R0
   \   000000B4   0700001A           BNE      ??myOnKey_Unified_5
   \   000000B8   08019FE5           LDR      R0,??myOnKey_Unified_1+0x14  ;; KeyCloseAllPressMode
   \   000000BC   000090E5           LDR      R0,[R0, #+0]
   \   000000C0   000056E1           CMP      R6,R0
   \   000000C4   0300001A           BNE      ??myOnKey_Unified_5
   1057          	{
   1058          		UI_Event( RETURN_TO_STANDBY_EVENT );
   \   000000C8   ........           LDR      R0,??DataTable20  ;; RETURN_TO_STANDBY_EVENT
   \   000000CC   000090E5           LDR      R0,[R0, #+0]
   \   000000D0   A80100EF           SWI      +424
   1059          		CloseMyBook( mbk, 0 );
   \   000000D4   310000EA           B        ??myOnKey_Unified_4
   1060          	}
   1061          
   1062          	else if ( press_mode == KBD_SHORT_RELEASE || press_mode == KBD_LONG_PRESS )
   \                     ??myOnKey_Unified_5:
   \   000000D8   D8009FE5           LDR      R0,??myOnKey_Unified_1+0x4  ;; KBD_SHORT_RELEASE
   \   000000DC   000090E5           LDR      R0,[R0, #+0]
   \   000000E0   000056E1           CMP      R6,R0
   \   000000E4   0300000A           BEQ      ??myOnKey_Unified_6
   \   000000E8   DC009FE5           LDR      R0,??myOnKey_Unified_1+0x18  ;; KBD_LONG_PRESS
   \   000000EC   000090E5           LDR      R0,[R0, #+0]
   \   000000F0   000056E1           CMP      R6,R0
   \   000000F4   2C00001A           BNE      ??myOnKey_Unified_7
   1063          	{
   1064          		if ( mbk->shortcuts_buf )
   \                     ??myOnKey_Unified_6:
   \   000000F8   240095E5           LDR      R0,[R5, #+36]
   \   000000FC   000050E3           CMP      R0,#+0
   \   00000100   2900000A           BEQ      ??myOnKey_Unified_7
   1065          		{
   1066          			char key[20];
   1067          
   1068          			if ( GetActiveTab(mbk)==BOOKLIST || ShortcutsMode )
   \   00000104   C4709FE5           LDR      R7,??myOnKey_Unified_1+0x1C  ;; `?<Constant "[S_KEY%d]">`
   \   00000108   0500A0E1           MOV      R0,R5
   \   0000010C   ........           BL       ??GetActiveTab
   \   00000110   000050E3           CMP      R0,#+0
   \   00000114   0300000A           BEQ      ??myOnKey_Unified_8
   \   00000118   B4009FE5           LDR      R0,??myOnKey_Unified_1+0x20  ;; ShortcutsMode
   \   0000011C   000090E5           LDR      R0,[R0, #+0]
   \   00000120   000050E3           CMP      R0,#+0
   \   00000124   0600000A           BEQ      ??myOnKey_Unified_9
   1069          				sprintf( key, press_mode == 3?"[S_KEY%d]":"[L_KEY%d]", keyID-KEY_DIGITAL_0 );
   \                     ??myOnKey_Unified_8:
   \   00000128   A8009FE5           LDR      R0,??myOnKey_Unified_1+0x24  ;; KEY_DIGITAL_0
   \   0000012C   030056E3           CMP      R6,#+3
   \   00000130   000090E5           LDR      R0,[R0, #+0]
   \   00000134   0C708712           ADDNE    R7,R7,#+12
   \   00000138   002044E0           SUB      R2,R4,R0
   \   0000013C   0710A0E1           MOV      R1,R7
   \   00000140   050000EA           B        ??myOnKey_Unified_10
   1070          			else
   1071          				sprintf( key, press_mode == 3 ? "[ES_KEY%d]" : "[EL_KEY%d]", keyID - KEY_DIGITAL_0 );
   \                     ??myOnKey_Unified_9:
   \   00000144   8C009FE5           LDR      R0,??myOnKey_Unified_1+0x24  ;; KEY_DIGITAL_0
   \   00000148   030056E3           CMP      R6,#+3
   \   0000014C   000090E5           LDR      R0,[R0, #+0]
   \   00000150   18108702           ADDEQ    R1,R7,#+24
   \   00000154   24108712           ADDNE    R1,R7,#+36
   \   00000158   002044E0           SUB      R2,R4,R0
   \                     ??myOnKey_Unified_10:
   \   0000015C   0D00A0E1           MOV      R0,SP
   \   00000160   140100EF           SWI      +276
   1072          
   1073          			char* param = manifest_GetParam( mbk->shortcuts_buf, key, 0 );
   \   00000164   240095E5           LDR      R0,[R5, #+36]
   \   00000168   0020A0E3           MOV      R2,#+0
   \   0000016C   0D10A0E1           MOV      R1,SP
   \   00000170   750100EF           SWI      +373
   \   00000174   0040B0E1           MOVS     R4,R0
   1074          			if ( param )
   \   00000178   0B00000A           BEQ      ??myOnKey_Unified_7
   1075          			{
   1076          				if (param[0]=='/')
   \   0000017C   0000D4E5           LDRB     R0,[R4, #+0]
   \   00000180   2F0050E3           CMP      R0,#+47
   \   00000184   0400A0E1           MOV      R0,R4
   \   00000188   0100001A           BNE      ??myOnKey_Unified_11
   1077          					StartShortcut_External(param);
   \   0000018C   ........           BL       ??StartShortcut_External
   \   00000190   000000EA           B        ??myOnKey_Unified_12
   1078          				else
   1079          					StartShortcut_Internal(param);
   \                     ??myOnKey_Unified_11:
   \   00000194   ........           BL       ??StartShortcut_Internal
   1080          
   1081          				mfree( param );
   \                     ??myOnKey_Unified_12:
   \   00000198   0400A0E1           MOV      R0,R4
   \   0000019C   040100EF           SWI      +260
   1082          				CloseMyBook( mbk, 0 );
   \                     ??myOnKey_Unified_4:
   \   000001A0   0010A0E3           MOV      R1,#+0
   \   000001A4   0500A0E1           MOV      R0,R5
   \   000001A8   ........           BL       ??CloseMyBook
   1083          			}
   1084          		}
   1085          	}
   1086          }
   \                     ??myOnKey_Unified_7:
   \   000001AC   14D08DE2           ADD      SP,SP,#+20       ;; stack cleaning
   \   000001B0   F083BDE8           POP      {R4-R9,PC}       ;; return
   \                     ??myOnKey_Unified_1:
   \   000001B4   ........           DC32     KEY_DEL
   \   000001B8   ........           DC32     KBD_SHORT_RELEASE
   \   000001BC   ........           DC32     KeyMinimize
   \   000001C0   ........           DC32     KeyMinimizePressMode
   \   000001C4   ........           DC32     KeyCloseAll
   \   000001C8   ........           DC32     KeyCloseAllPressMode
   \   000001CC   ........           DC32     KBD_LONG_PRESS
   \   000001D0   ........           DC32     `?<Constant "[S_KEY%d]">`
   \   000001D4   ........           DC32     ShortcutsMode
   \   000001D8   ........           DC32     KEY_DIGITAL_0
   1087          
   1088          

   \                                 In segment CODE, align 4, keep-with-next
   1089          void RefreshElfSoftkeys( MyBOOK* mbk, int item )
   1090          {
   \                     ??RefreshElfSoftkeys:
   \   00000000   30402DE9           PUSH     {R4,R5,LR}
   \   00000004   0040A0E1           MOV      R4,R0
   1091          	if ( mbk->elistcnt )
   \   00000008   BA08D4E1           LDRH     R0,[R4, #+138]
   \   0000000C   000050E3           CMP      R0,#+0
   \   00000010   1E00000A           BEQ      ??RefreshElfSoftkeys_1
   1092          	{
   1093          		BOOK_LIST_ITEM* elem = (BOOK_LIST_ITEM*) List_Get( mbk->elfs_list, item );
   \   00000014   400094E5           LDR      R0,[R4, #+64]
   \   00000018   AD0100EF           SWI      +429
   \   0000001C   0050A0E1           MOV      R5,R0
   1094          		if ( !elem->gui_count )
   \   00000020   080095E5           LDR      R0,[R5, #+8]
   \   00000024   000050E3           CMP      R0,#+0
   1095          			GUIObject_SoftKeys_SetVisible( mbk->elist, ACTION_SELECT1, FALSE );
   1096          		else
   1097          			GUIObject_SoftKeys_SetVisible( mbk->elist, ACTION_SELECT1, TRUE );
   \   00000028   ........           LDR      R0,??DataTable32  ;; ACTION_SELECT1
   \   0000002C   0020A003           MOVEQ    R2,#+0
   \   00000030   001090E5           LDR      R1,[R0, #+0]
   \   00000034   500094E5           LDR      R0,[R4, #+80]
   \   00000038   0120A013           MOVNE    R2,#+1
   \   0000003C   0118A0E1           MOV      R1,R1, LSL #+16
   \   00000040   2118A0E1           MOV      R1,R1, LSR #+16
   \   00000044   500100EF           SWI      +336
   1098          
   1099          		GUIObject_SoftKeys_SetVisible( mbk->elist, TAB_ELFS_HIDEBOOK_SOFTKEY, 1 - elem->isHidden );
   \   00000048   140095E5           LDR      R0,[R5, #+20]
   \   0000004C   0410A0E3           MOV      R1,#+4
   \   00000050   012060E2           RSB      R2,R0,#+1
   \   00000054   500094E5           LDR      R0,[R4, #+80]
   \   00000058   500100EF           SWI      +336
   1100          		GUIObject_SoftKeys_SetVisible( mbk->elist, TAB_ELFS_SHOWBOOK_SOFTKEY, elem->isHidden );
   \   0000005C   142095E5           LDR      R2,[R5, #+20]
   \   00000060   500094E5           LDR      R0,[R4, #+80]
   \   00000064   0510A0E3           MOV      R1,#+5
   \   00000068   500100EF           SWI      +336
   1101          		GUIObject_SoftKeys_SetVisible( mbk->elist, TAB_ELFS_RENAME_SOFTKEY, TRUE );
   \   0000006C   500094E5           LDR      R0,[R4, #+80]
   \   00000070   0120A0E3           MOV      R2,#+1
   \   00000074   0110A0E3           MOV      R1,#+1
   \   00000078   500100EF           SWI      +336
   1102          		GUIObject_SoftKeys_SetVisible( mbk->elist, TAB_ELFS_AUTHOR_SOFTKEY, TRUE );
   \   0000007C   500094E5           LDR      R0,[R4, #+80]
   \   00000080   0120A0E3           MOV      R2,#+1
   \   00000084   0210A0E3           MOV      R1,#+2
   \   00000088   500100EF           SWI      +336
   \   0000008C   200000EA           B        ??RefreshElfSoftkeys_2
   1103          	}
   1104          	else
   1105          	{
   1106          		ListMenu_SetNoItemText( mbk->elist, STR( "No elfs in memory" ) );
   \                     ??RefreshElfSoftkeys_1:
   \   00000090   C8009FE5           LDR      R0,??RefreshElfSoftkeys_3  ;; `?<Constant L"\\x4e\\x6f\\x20\\x65\\x6c\\x66\\x73\\x20\\`
   \   00000094   FF20A0E3           MOV      R2,#+255
   \   00000098   FF2C82E3           ORR      R2,R2,#0xFF00
   \   0000009C   0010A0E3           MOV      R1,#+0
   \   000000A0   5D0100EF           SWI      +349
   \   000000A4   0010A0E1           MOV      R1,R0
   \   000000A8   500094E5           LDR      R0,[R4, #+80]
   \   000000AC   880200EF           SWI      +648
   1107          		GUIObject_SoftKeys_SetVisible( mbk->elist, ACTION_SELECT1, FALSE );
   \   000000B0   ........           LDR      R0,??DataTable32  ;; ACTION_SELECT1
   \   000000B4   0020A0E3           MOV      R2,#+0
   \   000000B8   001090E5           LDR      R1,[R0, #+0]
   \   000000BC   500094E5           LDR      R0,[R4, #+80]
   \   000000C0   0118A0E1           MOV      R1,R1, LSL #+16
   \   000000C4   2118A0E1           MOV      R1,R1, LSR #+16
   \   000000C8   500100EF           SWI      +336
   1108          		GUIObject_SoftKeys_SetVisible( mbk->elist, TAB_ELFS_RENAME_SOFTKEY, FALSE );
   \   000000CC   500094E5           LDR      R0,[R4, #+80]
   \   000000D0   0020A0E3           MOV      R2,#+0
   \   000000D4   0110A0E3           MOV      R1,#+1
   \   000000D8   500100EF           SWI      +336
   1109          		GUIObject_SoftKeys_SetVisible( mbk->elist, TAB_ELFS_AUTHOR_SOFTKEY, FALSE );
   \   000000DC   500094E5           LDR      R0,[R4, #+80]
   \   000000E0   0020A0E3           MOV      R2,#+0
   \   000000E4   0210A0E3           MOV      R1,#+2
   \   000000E8   500100EF           SWI      +336
   1110          		GUIObject_SoftKeys_SetVisible( mbk->elist, TAB_ELFS_HIDEBOOK_SOFTKEY, FALSE );
   \   000000EC   500094E5           LDR      R0,[R4, #+80]
   \   000000F0   0020A0E3           MOV      R2,#+0
   \   000000F4   0410A0E3           MOV      R1,#+4
   \   000000F8   500100EF           SWI      +336
   1111          		GUIObject_SoftKeys_SetVisible( mbk->elist, TAB_ELFS_SHOWBOOK_SOFTKEY, FALSE );
   \   000000FC   500094E5           LDR      R0,[R4, #+80]
   \   00000100   0020A0E3           MOV      R2,#+0
   \   00000104   0510A0E3           MOV      R1,#+5
   \   00000108   500100EF           SWI      +336
   1112          		mbk->elistpos = 0;
   \   0000010C   0000A0E3           MOV      R0,#+0
   \   00000110   B608C4E1           STRH     R0,[R4, #+134]
   1113          	}
   1114          
   1115          	GUIObject_SoftKeys_SetVisible( mbk->elist, TAB_ELFS_SHOWHIDDEN_SOFTKEY, 1 - mbk->elfs_show_hid );
   \                     ??RefreshElfSoftkeys_2:
   \   00000114   9C0094E5           LDR      R0,[R4, #+156]
   \   00000118   0610A0E3           MOV      R1,#+6
   \   0000011C   012060E2           RSB      R2,R0,#+1
   \   00000120   500094E5           LDR      R0,[R4, #+80]
   \   00000124   500100EF           SWI      +336
   1116          	GUIObject_SoftKeys_SetVisible( mbk->elist, TAB_ELFS_HIDEHIDDEN_SOFTKEY, mbk->elfs_show_hid );
   \   00000128   9C2094E5           LDR      R2,[R4, #+156]
   \   0000012C   500094E5           LDR      R0,[R4, #+80]
   \   00000130   0710A0E3           MOV      R1,#+7
   \   00000134   500100EF           SWI      +336
   1117          
   1118          	GUIObject_SoftKeys_SetVisible( mbk->elist, TAB_ELFS_SHOWNOGUI_SOFTKEY, 1 - mbk->elfs_show_nogui );
   \   00000138   A00094E5           LDR      R0,[R4, #+160]
   \   0000013C   0810A0E3           MOV      R1,#+8
   \   00000140   012060E2           RSB      R2,R0,#+1
   \   00000144   500094E5           LDR      R0,[R4, #+80]
   \   00000148   500100EF           SWI      +336
   1119          	GUIObject_SoftKeys_SetVisible( mbk->elist, TAB_ELFS_HIDENOGUI_SOFTKEY, mbk->elfs_show_nogui );
   \   0000014C   A02094E5           LDR      R2,[R4, #+160]
   \   00000150   500094E5           LDR      R0,[R4, #+80]
   \   00000154   0910A0E3           MOV      R1,#+9
   \   00000158   500100EF           SWI      +336
   1120          }
   \   0000015C   3080BDE8           POP      {R4,R5,PC}       ;; return
   \                     ??RefreshElfSoftkeys_3:
   \   00000160   ........           DC32     `?<Constant L"\\x4e\\x6f\\x20\\x65\\x6c\\x66\\x73\\x20\\`
   1121          
   1122          

   \                                 In segment CODE, align 4, keep-with-next
   1123          void RefreshBookSoftkeys( MyBOOK* mbk )
   1124          {
   \                     ??RefreshBookSoftkeys:
   \   00000000   30402DE9           PUSH     {R4,R5,LR}
   \   00000004   0040A0E1           MOV      R4,R0
   1125          	if ( mbk->blistcnt )
   \   00000008   B808D4E1           LDRH     R0,[R4, #+136]
   \   0000000C   000050E3           CMP      R0,#+0
   \   00000010   1B00000A           BEQ      ??RefreshBookSoftkeys_1
   1126          	{
   1127          		BOOK_LIST_ITEM * elem = GetBookListItem(mbk,BOOKLIST);
   \   00000014   0010A0E3           MOV      R1,#+0
   \   00000018   0400A0E1           MOV      R0,R4
   \   0000001C   ........           BL       ??GetBookListItem
   \   00000020   0050A0E1           MOV      R5,R0
   1128          
   1129          		if ( elem->gui_count )
   \   00000024   080095E5           LDR      R0,[R5, #+8]
   \   00000028   000050E3           CMP      R0,#+0
   1130          			GUIObject_SoftKeys_SetVisible( mbk->blist, ACTION_SELECT1, TRUE );
   1131          		else
   1132          			GUIObject_SoftKeys_SetVisible( mbk->blist, ACTION_SELECT1, FALSE );
   \   0000002C   ........           LDR      R0,??DataTable32  ;; ACTION_SELECT1
   \   00000030   0120A013           MOVNE    R2,#+1
   \   00000034   001090E5           LDR      R1,[R0, #+0]
   \   00000038   4C0094E5           LDR      R0,[R4, #+76]
   \   0000003C   0020A003           MOVEQ    R2,#+0
   \   00000040   0118A0E1           MOV      R1,R1, LSL #+16
   \   00000044   2118A0E1           MOV      R1,R1, LSR #+16
   \   00000048   500100EF           SWI      +336
   1133          
   1134          		GUIObject_SoftKeys_SetVisible( mbk->blist, TAB_BOOKS_HIDEBOOK_SOFTKEY, 1 - elem->isHidden );
   \   0000004C   140095E5           LDR      R0,[R5, #+20]
   \   00000050   0410A0E3           MOV      R1,#+4
   \   00000054   012060E2           RSB      R2,R0,#+1
   \   00000058   4C0094E5           LDR      R0,[R4, #+76]
   \   0000005C   500100EF           SWI      +336
   1135          		GUIObject_SoftKeys_SetVisible( mbk->blist, TAB_BOOKS_SHOWBOOK_SOFTKEY, elem->isHidden );
   \   00000060   142095E5           LDR      R2,[R5, #+20]
   \   00000064   4C0094E5           LDR      R0,[R4, #+76]
   \   00000068   0510A0E3           MOV      R1,#+5
   \   0000006C   500100EF           SWI      +336
   1136          		GUIObject_SoftKeys_SetVisible( mbk->blist, TAB_BOOKS_RENAME_SOFTKEY, TRUE );
   \   00000070   4C0094E5           LDR      R0,[R4, #+76]
   \   00000074   0120A0E3           MOV      R2,#+1
   \   00000078   0110A0E3           MOV      R1,#+1
   \   0000007C   500100EF           SWI      +336
   \   00000080   1C0000EA           B        ??RefreshBookSoftkeys_2
   1137          	}
   1138          	else
   1139          	{
   1140          		ListMenu_SetNoItemText( mbk->blist, STR( "No books in memory" ) );
   \                     ??RefreshBookSoftkeys_1:
   \   00000084   B8009FE5           LDR      R0,??RefreshBookSoftkeys_3  ;; `?<Constant L"\\x4e\\x6f\\x20\\x62\\x6f\\x6f\\x6b\\x73\\`
   \   00000088   FF20A0E3           MOV      R2,#+255
   \   0000008C   FF2C82E3           ORR      R2,R2,#0xFF00
   \   00000090   0010A0E3           MOV      R1,#+0
   \   00000094   5D0100EF           SWI      +349
   \   00000098   0010A0E1           MOV      R1,R0
   \   0000009C   4C0094E5           LDR      R0,[R4, #+76]
   \   000000A0   880200EF           SWI      +648
   1141          		GUIObject_SoftKeys_SetVisible( mbk->blist, ACTION_SELECT1, FALSE );
   \   000000A4   ........           LDR      R0,??DataTable32  ;; ACTION_SELECT1
   \   000000A8   0020A0E3           MOV      R2,#+0
   \   000000AC   001090E5           LDR      R1,[R0, #+0]
   \   000000B0   4C0094E5           LDR      R0,[R4, #+76]
   \   000000B4   0118A0E1           MOV      R1,R1, LSL #+16
   \   000000B8   2118A0E1           MOV      R1,R1, LSR #+16
   \   000000BC   500100EF           SWI      +336
   1142          		GUIObject_SoftKeys_SetVisible( mbk->blist, TAB_BOOKS_RENAME_SOFTKEY, FALSE );
   \   000000C0   4C0094E5           LDR      R0,[R4, #+76]
   \   000000C4   0020A0E3           MOV      R2,#+0
   \   000000C8   0110A0E3           MOV      R1,#+1
   \   000000CC   500100EF           SWI      +336
   1143          		GUIObject_SoftKeys_SetVisible( mbk->blist, TAB_BOOKS_HIDEBOOK_SOFTKEY, FALSE );
   \   000000D0   4C0094E5           LDR      R0,[R4, #+76]
   \   000000D4   0020A0E3           MOV      R2,#+0
   \   000000D8   0410A0E3           MOV      R1,#+4
   \   000000DC   500100EF           SWI      +336
   1144          		GUIObject_SoftKeys_SetVisible( mbk->blist, TAB_BOOKS_SHOWBOOK_SOFTKEY, FALSE );
   \   000000E0   4C0094E5           LDR      R0,[R4, #+76]
   \   000000E4   0020A0E3           MOV      R2,#+0
   \   000000E8   0510A0E3           MOV      R1,#+5
   \   000000EC   500100EF           SWI      +336
   1145          		mbk->blistpos = 0;
   \   000000F0   0000A0E3           MOV      R0,#+0
   \   000000F4   B408C4E1           STRH     R0,[R4, #+132]
   1146          	}
   1147          
   1148          	GUIObject_SoftKeys_SetVisible( mbk->blist, TAB_BOOKS_SHOWHIDDEN_SOFTKEY, 1 - mbk->books_show_hid );
   \                     ??RefreshBookSoftkeys_2:
   \   000000F8   940094E5           LDR      R0,[R4, #+148]
   \   000000FC   0610A0E3           MOV      R1,#+6
   \   00000100   012060E2           RSB      R2,R0,#+1
   \   00000104   4C0094E5           LDR      R0,[R4, #+76]
   \   00000108   500100EF           SWI      +336
   1149          	GUIObject_SoftKeys_SetVisible( mbk->blist, TAB_BOOKS_HIDEHIDDEN_SOFTKEY, mbk->books_show_hid );
   \   0000010C   942094E5           LDR      R2,[R4, #+148]
   \   00000110   4C0094E5           LDR      R0,[R4, #+76]
   \   00000114   0710A0E3           MOV      R1,#+7
   \   00000118   500100EF           SWI      +336
   1150          
   1151          	GUIObject_SoftKeys_SetVisible( mbk->blist, TAB_BOOKS_SHOWNOGUI_SOFTKEY, 1 - mbk->books_show_nogui );
   \   0000011C   980094E5           LDR      R0,[R4, #+152]
   \   00000120   0810A0E3           MOV      R1,#+8
   \   00000124   012060E2           RSB      R2,R0,#+1
   \   00000128   4C0094E5           LDR      R0,[R4, #+76]
   \   0000012C   500100EF           SWI      +336
   1152          	GUIObject_SoftKeys_SetVisible( mbk->blist, TAB_BOOKS_HIDENOGUI_SOFTKEY, mbk->books_show_nogui );
   \   00000130   982094E5           LDR      R2,[R4, #+152]
   \   00000134   4C0094E5           LDR      R0,[R4, #+76]
   \   00000138   0910A0E3           MOV      R1,#+9
   \   0000013C   500100EF           SWI      +336
   1153          }
   \   00000140   3080BDE8           POP      {R4,R5,PC}       ;; return
   \                     ??RefreshBookSoftkeys_3:
   \   00000144   ........           DC32     `?<Constant L"\\x4e\\x6f\\x20\\x62\\x6f\\x6f\\x6b\\x73\\`
   1154          
   1155          
   1156          // создание меню

   \                                 In segment CODE, align 4, keep-with-next
   1157          void CreateBookManagerGUI( MyBOOK* mbk )
   1158          {
   \                     ??CreateBookManagerGUI:
   \   00000000   F04F2DE9           PUSH     {R4-R11,LR}
   \   00000004   0CD04DE2           SUB      SP,SP,#+12
   \   00000008   0040A0E1           MOV      R4,R0
   1159          	int str_id;
   1160          
   1161          	DestroyBookAndElfsLists( mbk );
   \   0000000C   ........           BL       ??DestroyBookAndElfsLists
   1162          	CreateBookAndElfsLists( mbk );
   \   00000010   0400A0E1           MOV      R0,R4
   \   00000014   ........           BL       ??CreateBookAndElfsLists
   1163          
   1164          	if ( !mbk->gui )
   \   00000018   180094E5           LDR      R0,[R4, #+24]
   \   0000001C   000050E3           CMP      R0,#+0
   \   00000020   1800001A           BNE      ??CreateBookManagerGUI_1
   1165          	{
   1166          		mbk->gui = CreateTabMenuBar( mbk );
   \   00000024   0400A0E1           MOV      R0,R4
   \   00000028   CA0100EF           SWI      +458
   \   0000002C   180084E5           STR      R0,[R4, #+24]
   1167          		TabMenuBar_SetTabCount( mbk->gui, 2 );
   \   00000030   0210A0E3           MOV      R1,#+2
   \   00000034   CB0100EF           SWI      +459
   1168          
   1169          		TabMenuBar_SetTabIcon( mbk->gui, 0, mbk->tabs_image[0].ImageID, 0 );
   \   00000038   B426D4E1           LDRH     R2,[R4, #+100]
   \   0000003C   180094E5           LDR      R0,[R4, #+24]
   \   00000040   0030A0E3           MOV      R3,#+0
   \   00000044   0010A0E3           MOV      R1,#+0
   \   00000048   CD0100EF           SWI      +461
   1170          		TabMenuBar_SetTabIcon( mbk->gui, 0, mbk->tabs_image[1].ImageID, 1 );
   \   0000004C   B626D4E1           LDRH     R2,[R4, #+102]
   \   00000050   180094E5           LDR      R0,[R4, #+24]
   \   00000054   0130A0E3           MOV      R3,#+1
   \   00000058   0010A0E3           MOV      R1,#+0
   \   0000005C   CD0100EF           SWI      +461
   1171          
   1172          		TabMenuBar_SetTabIcon( mbk->gui, 1, mbk->tabs_image[2].ImageID, 0 );
   \   00000060   B826D4E1           LDRH     R2,[R4, #+104]
   \   00000064   180094E5           LDR      R0,[R4, #+24]
   \   00000068   0030A0E3           MOV      R3,#+0
   \   0000006C   0110A0E3           MOV      R1,#+1
   \   00000070   CD0100EF           SWI      +461
   1173          		TabMenuBar_SetTabIcon( mbk->gui, 1, mbk->tabs_image[3].ImageID, 1 );
   \   00000074   BA26D4E1           LDRH     R2,[R4, #+106]
   \   00000078   180094E5           LDR      R0,[R4, #+24]
   \   0000007C   0130A0E3           MOV      R3,#+1
   \   00000080   0310A0E1           MOV      R1,R3
   \   00000084   CD0100EF           SWI      +461
   1174          	}
   1175          
   1176          	if ( mbk->blistpos > mbk->blistcnt-1 ) mbk->blistpos = mbk->blistcnt-1;
   \                     ??CreateBookManagerGUI_1:
   \   00000088   B808D4E1           LDRH     R0,[R4, #+136]
   \   0000008C   B428D4E1           LDRH     R2,[R4, #+132]
   1177          
   1178          	if ( mbk->blist )
   \   00000090   00679FE5           LDR      R6,??CreateBookManagerGUI_2  ;; ??NoGUIMode
   \   00000094   FF50A0E3           MOV      R5,#+255
   \   00000098   FF5C85E3           ORR      R5,R5,#0xFF00
   \   0000009C   F8769FE5           LDR      R7,??CreateBookManagerGUI_2+0x4  ;; ??HiddenMode
   \   000000A0   F8869FE5           LDR      R8,??CreateBookManagerGUI_2+0x8  ;; `?<Constant L"\\x48\\x65\\x61\\x70\\x20\\x3a\\x20">`
   \   000000A4   F8969FE5           LDR      R9,??CreateBookManagerGUI_2+0xC  ;; ??Shortcuts
   \   000000A8   F8A69FE5           LDR      R10,??CreateBookManagerGUI_2+0x10  ;; ??PreTerminateManager
   \   000000AC   ........           LDR      R11,??DataTable35  ;; ??CloseMyBook
   \   000000B0   011040E2           SUB      R1,R0,#+1
   \   000000B4   020051E1           CMP      R1,R2
   \   000000B8   000085B0           ADDLT    R0,R5,R0
   \   000000BC   B408C4B1           STRHLT   R0,[R4, #+132]
   \   000000C0   4C0094E5           LDR      R0,[R4, #+76]
   \   000000C4   000050E3           CMP      R0,#+0
   \   000000C8   0900000A           BEQ      ??CreateBookManagerGUI_3
   1179          	{
   1180          		ListMenu_DestroyItems(mbk->blist);
   \   000000CC   BB0300EF           SWI      +955
   1181          		ListMenu_SetItemCount( mbk->blist, mbk->blistcnt );
   \   000000D0   B818D4E1           LDRH     R1,[R4, #+136]
   \   000000D4   4C0094E5           LDR      R0,[R4, #+76]
   \   000000D8   C10100EF           SWI      +449
   1182          		ListMenu_SetCursorToItem( mbk->blist, mbk->blistpos );
   \   000000DC   B418D4E1           LDRH     R1,[R4, #+132]
   \   000000E0   4C0094E5           LDR      R0,[R4, #+76]
   \   000000E4   350100EF           SWI      +309
   1183          		RefreshBookSoftkeys( mbk );
   \   000000E8   0400A0E1           MOV      R0,R4
   \   000000EC   ........           BL       ??RefreshBookSoftkeys
   \   000000F0   BE0000EA           B        ??CreateBookManagerGUI_4
   1184          	}
   1185          	else
   1186          	{
   1187          		mbk->blist = CreateListMenu( mbk, 0 );
   \                     ??CreateBookManagerGUI_3:
   \   000000F4   0010A0E3           MOV      R1,#+0
   \   000000F8   0400A0E1           MOV      R0,R4
   \   000000FC   C00100EF           SWI      +448
   1188          		ListMenu_SetOnMessage( mbk->blist, onCallback_Books );
   \   00000100   A4169FE5           LDR      R1,??CreateBookManagerGUI_2+0x14  ;; ??onCallback_Books
   \   00000104   4C0084E5           STR      R0,[R4, #+76]
   \   00000108   740100EF           SWI      +372
   1189          		ListMenu_SetItemCount( mbk->blist, mbk->blistcnt );
   \   0000010C   B818D4E1           LDRH     R1,[R4, #+136]
   \   00000110   4C0094E5           LDR      R0,[R4, #+76]
   \   00000114   C10100EF           SWI      +449
   1190          		ListMenu_SetCursorToItem( mbk->blist, mbk->blistpos );
   \   00000118   B418D4E1           LDRH     R1,[R4, #+132]
   \   0000011C   4C0094E5           LDR      R0,[R4, #+76]
   \   00000120   350100EF           SWI      +309
   1191          		if (MINIMIZE_TO_SESSION)
   \   00000124   ........           LDR      R0,??DataTable37  ;; MINIMIZE_TO_SESSION
   \   00000128   000090E5           LDR      R0,[R0, #+0]
   \   0000012C   000050E3           CMP      R0,#+0
   \   00000130   0200000A           BEQ      ??CreateBookManagerGUI_5
   1192          			ListMenu_SetItemStyle( mbk->blist, 3 );
   \   00000134   4C0094E5           LDR      R0,[R4, #+76]
   \   00000138   0310A0E3           MOV      R1,#+3
   \   0000013C   3F0100EF           SWI      +319
   1193          
   1194          		GUIObject_SoftKeys_SetAction( mbk->blist, ACTION_BACK, CloseMyBook );
   \                     ??CreateBookManagerGUI_5:
   \   00000140   ........           LDR      R0,??DataTable36  ;; ACTION_BACK
   \   00000144   0B20A0E1           MOV      R2,R11
   \   00000148   001090E5           LDR      R1,[R0, #+0]
   \   0000014C   4C0094E5           LDR      R0,[R4, #+76]
   \   00000150   0118A0E1           MOV      R1,R1, LSL #+16
   \   00000154   2118A0E1           MOV      R1,R1, LSR #+16
   \   00000158   4B0100EF           SWI      +331
   1195          		GUIObject_SoftKeys_SetAction( mbk->blist, ACTION_LONG_BACK, PreTerminateManager );
   \   0000015C   ........           LDR      R0,??DataTable31  ;; ACTION_LONG_BACK
   \   00000160   0A20A0E1           MOV      R2,R10
   \   00000164   001090E5           LDR      R1,[R0, #+0]
   \   00000168   4C0094E5           LDR      R0,[R4, #+76]
   \   0000016C   0118A0E1           MOV      R1,R1, LSL #+16
   \   00000170   2118A0E1           MOV      R1,R1, LSR #+16
   \   00000174   4B0100EF           SWI      +331
   1196          		GUIObject_SoftKeys_SetAction( mbk->blist, ACTION_SELECT1, onEnterPressed_Books );
   \   00000178   ........           LDR      R0,??DataTable32  ;; ACTION_SELECT1
   \   0000017C   2C269FE5           LDR      R2,??CreateBookManagerGUI_2+0x18  ;; ??onEnterPressed_Books
   \   00000180   001090E5           LDR      R1,[R0, #+0]
   \   00000184   4C0094E5           LDR      R0,[R4, #+76]
   \   00000188   0118A0E1           MOV      R1,R1, LSL #+16
   \   0000018C   2118A0E1           MOV      R1,R1, LSR #+16
   \   00000190   4B0100EF           SWI      +331
   1197          
   1198          		GUIObject_SoftKeys_SetAction( mbk->blist, TAB_BOOKS_SHORTCUTS_SOFTKEY, Shortcuts );
   \   00000194   4C0094E5           LDR      R0,[R4, #+76]
   \   00000198   0920A0E1           MOV      R2,R9
   \   0000019C   0010A0E3           MOV      R1,#+0
   \   000001A0   4B0100EF           SWI      +331
   1199          		textidname2id( TAB_BOOKS_SHORTCUTS_NAME_SOFTKEY, TEXTID_ANY_LEN, &str_id );
   \   000001A4   0D20A0E1           MOV      R2,SP
   \   000001A8   0510A0E1           MOV      R1,R5
   \   000001AC   600088E2           ADD      R0,R8,#+96
   \   000001B0   870200EF           SWI      +647
   1200          		GUIObject_SoftKeys_SetText( mbk->blist, TAB_BOOKS_SHORTCUTS_SOFTKEY, str_id );
   \   000001B4   00209DE5           LDR      R2,[SP, #+0]
   \   000001B8   4C0094E5           LDR      R0,[R4, #+76]
   \   000001BC   0010A0E3           MOV      R1,#+0
   \   000001C0   4C0100EF           SWI      +332
   1201          		GUIObject_SoftKeys_SetAction( mbk->blist, TAB_BOOKS_RENAME_SOFTKEY, BookNames );
   \   000001C4   E8259FE5           LDR      R2,??CreateBookManagerGUI_2+0x1C  ;; ??BookNames
   \   000001C8   4C0094E5           LDR      R0,[R4, #+76]
   \   000001CC   0110A0E3           MOV      R1,#+1
   \   000001D0   4B0100EF           SWI      +331
   1202          		textidname2id( TAB_BOOKS_RENAME_NAME_SOFTKEY, TEXTID_ANY_LEN, &str_id );
   \   000001D4   0D20A0E1           MOV      R2,SP
   \   000001D8   0510A0E1           MOV      R1,R5
   \   000001DC   8C0088E2           ADD      R0,R8,#+140
   \   000001E0   870200EF           SWI      +647
   1203          		GUIObject_SoftKeys_SetText( mbk->blist, TAB_BOOKS_RENAME_SOFTKEY, str_id );
   \   000001E4   00209DE5           LDR      R2,[SP, #+0]
   \   000001E8   4C0094E5           LDR      R0,[R4, #+76]
   \   000001EC   0110A0E3           MOV      R1,#+1
   \   000001F0   4C0100EF           SWI      +332
   1204          
   1205          		GUIObject_SoftKeys_SetAction( mbk->blist, TAB_BOOKS_HIDEBOOK_SOFTKEY, HideBook );
   \   000001F4   4C0094E5           LDR      R0,[R4, #+76]
   \   000001F8   B8259FE5           LDR      R2,??CreateBookManagerGUI_2+0x20  ;; ??HideBook
   \   000001FC   0410A0E3           MOV      R1,#+4
   \   00000200   4B0100EF           SWI      +331
   1206          		GUIObject_SoftKeys_SetText( mbk->blist, TAB_BOOKS_HIDEBOOK_SOFTKEY, STR( "Hide book" ) );
   \   00000204   0520A0E1           MOV      R2,R5
   \   00000208   0010A0E3           MOV      R1,#+0
   \   0000020C   A80088E2           ADD      R0,R8,#+168
   \   00000210   5D0100EF           SWI      +349
   \   00000214   0020A0E1           MOV      R2,R0
   \   00000218   4C0094E5           LDR      R0,[R4, #+76]
   \   0000021C   0410A0E3           MOV      R1,#+4
   \   00000220   4C0100EF           SWI      +332
   1207          		GUIObject_SoftKeys_SetAction( mbk->blist, TAB_BOOKS_SHOWBOOK_SOFTKEY, ShowBook );
   \   00000224   4C0094E5           LDR      R0,[R4, #+76]
   \   00000228   8C259FE5           LDR      R2,??CreateBookManagerGUI_2+0x24  ;; ??ShowBook
   \   0000022C   0510A0E3           MOV      R1,#+5
   \   00000230   4B0100EF           SWI      +331
   1208          		GUIObject_SoftKeys_SetText( mbk->blist, TAB_BOOKS_SHOWBOOK_SOFTKEY, STR( "Show book" ) );
   \   00000234   0520A0E1           MOV      R2,R5
   \   00000238   0010A0E3           MOV      R1,#+0
   \   0000023C   BC0088E2           ADD      R0,R8,#+188
   \   00000240   5D0100EF           SWI      +349
   \   00000244   0020A0E1           MOV      R2,R0
   \   00000248   4C0094E5           LDR      R0,[R4, #+76]
   \   0000024C   0510A0E3           MOV      R1,#+5
   \   00000250   4C0100EF           SWI      +332
   1209          
   1210          		GUIObject_SoftKeys_SetAction( mbk->blist, TAB_BOOKS_SHOWHIDDEN_SOFTKEY, HiddenMode );
   \   00000254   4C0094E5           LDR      R0,[R4, #+76]
   \   00000258   0720A0E1           MOV      R2,R7
   \   0000025C   0610A0E3           MOV      R1,#+6
   \   00000260   4B0100EF           SWI      +331
   1211          		GUIObject_SoftKeys_SetText( mbk->blist, TAB_BOOKS_SHOWHIDDEN_SOFTKEY, STR( "Show hidden" ) );
   \   00000264   0520A0E1           MOV      R2,R5
   \   00000268   0010A0E3           MOV      R1,#+0
   \   0000026C   D00088E2           ADD      R0,R8,#+208
   \   00000270   5D0100EF           SWI      +349
   \   00000274   0020A0E1           MOV      R2,R0
   \   00000278   4C0094E5           LDR      R0,[R4, #+76]
   \   0000027C   0610A0E3           MOV      R1,#+6
   \   00000280   4C0100EF           SWI      +332
   1212          		GUIObject_SoftKeys_SetAction( mbk->blist, TAB_BOOKS_HIDEHIDDEN_SOFTKEY, HiddenMode );
   \   00000284   4C0094E5           LDR      R0,[R4, #+76]
   \   00000288   0720A0E1           MOV      R2,R7
   \   0000028C   0710A0E3           MOV      R1,#+7
   \   00000290   4B0100EF           SWI      +331
   1213          		GUIObject_SoftKeys_SetText( mbk->blist, TAB_BOOKS_HIDEHIDDEN_SOFTKEY, STR( "Hide hidden" ) );
   \   00000294   0520A0E1           MOV      R2,R5
   \   00000298   0010A0E3           MOV      R1,#+0
   \   0000029C   E80088E2           ADD      R0,R8,#+232
   \   000002A0   5D0100EF           SWI      +349
   \   000002A4   0020A0E1           MOV      R2,R0
   \   000002A8   4C0094E5           LDR      R0,[R4, #+76]
   \   000002AC   0710A0E3           MOV      R1,#+7
   \   000002B0   4C0100EF           SWI      +332
   1214          
   1215          		GUIObject_SoftKeys_SetAction( mbk->blist, TAB_BOOKS_SHOWNOGUI_SOFTKEY, NoGUIMode );
   \   000002B4   4C0094E5           LDR      R0,[R4, #+76]
   \   000002B8   0620A0E1           MOV      R2,R6
   \   000002BC   0810A0E3           MOV      R1,#+8
   \   000002C0   4B0100EF           SWI      +331
   1216          		GUIObject_SoftKeys_SetText( mbk->blist, TAB_BOOKS_SHOWNOGUI_SOFTKEY, STR( "Show NoGUI" ) );
   \   000002C4   0520A0E1           MOV      R2,R5
   \   000002C8   0010A0E3           MOV      R1,#+0
   \   000002CC   400F88E2           ADD      R0,R8,#+256
   \   000002D0   5D0100EF           SWI      +349
   \   000002D4   0020A0E1           MOV      R2,R0
   \   000002D8   4C0094E5           LDR      R0,[R4, #+76]
   \   000002DC   0810A0E3           MOV      R1,#+8
   \   000002E0   4C0100EF           SWI      +332
   1217          		GUIObject_SoftKeys_SetAction( mbk->blist, TAB_BOOKS_HIDENOGUI_SOFTKEY, NoGUIMode );
   \   000002E4   4C0094E5           LDR      R0,[R4, #+76]
   \   000002E8   0620A0E1           MOV      R2,R6
   \   000002EC   0910A0E3           MOV      R1,#+9
   \   000002F0   4B0100EF           SWI      +331
   1218          		GUIObject_SoftKeys_SetText( mbk->blist, TAB_BOOKS_HIDENOGUI_SOFTKEY, STR( "Hide NoGUI" ) );
   \   000002F4   0520A0E1           MOV      R2,R5
   \   000002F8   0010A0E3           MOV      R1,#+0
   \   000002FC   460F88E2           ADD      R0,R8,#+280
   \   00000300   5D0100EF           SWI      +349
   \   00000304   0020A0E1           MOV      R2,R0
   \   00000308   4C0094E5           LDR      R0,[R4, #+76]
   \   0000030C   0910A0E3           MOV      R1,#+9
   \   00000310   4C0100EF           SWI      +332
   1219          
   1220          		GUIObject_SoftKeys_SetAction( mbk->blist, TAB_BOOKS_SETTINGS_SOFTKEY, 0 );
   \   00000314   4C0094E5           LDR      R0,[R4, #+76]
   \   00000318   0020A0E3           MOV      R2,#+0
   \   0000031C   0310A0E3           MOV      R1,#+3
   \   00000320   4B0100EF           SWI      +331
   1221          		textidname2id( TAB_BOOKS_SETTINGS_NAME_SOFTKEY, TEXTID_ANY_LEN, &str_id );
   \   00000324   0D20A0E1           MOV      R2,SP
   \   00000328   0510A0E1           MOV      R1,R5
   \   0000032C   4C0F88E2           ADD      R0,R8,#+304
   \   00000330   870200EF           SWI      +647
   1222          		GUIObject_SoftKeys_SetText( mbk->blist, TAB_BOOKS_SETTINGS_SOFTKEY, str_id );
   \   00000334   00209DE5           LDR      R2,[SP, #+0]
   \   00000338   4C0094E5           LDR      R0,[R4, #+76]
   \   0000033C   0310A0E3           MOV      R1,#+3
   \   00000340   4C0100EF           SWI      +332
   1223          
   1224          		GUIObject_SoftKeys_SetItemAsSubItem( mbk->blist, TAB_BOOKS_SETTINGS_SOFTKEY, TAB_BOOKS_SHOWHIDDEN_SOFTKEY );
   \   00000344   4C0094E5           LDR      R0,[R4, #+76]
   \   00000348   0620A0E3           MOV      R2,#+6
   \   0000034C   0310A0E3           MOV      R1,#+3
   \   00000350   C40100EF           SWI      +452
   1225          		GUIObject_SoftKeys_SetItemAsSubItem( mbk->blist, TAB_BOOKS_SETTINGS_SOFTKEY, TAB_BOOKS_HIDEHIDDEN_SOFTKEY );
   \   00000354   4C0094E5           LDR      R0,[R4, #+76]
   \   00000358   0720A0E3           MOV      R2,#+7
   \   0000035C   0310A0E3           MOV      R1,#+3
   \   00000360   C40100EF           SWI      +452
   1226          		GUIObject_SoftKeys_SetItemAsSubItem( mbk->blist, TAB_BOOKS_SETTINGS_SOFTKEY, TAB_BOOKS_SHOWNOGUI_SOFTKEY );
   \   00000364   4C0094E5           LDR      R0,[R4, #+76]
   \   00000368   0820A0E3           MOV      R2,#+8
   \   0000036C   0310A0E3           MOV      R1,#+3
   \   00000370   C40100EF           SWI      +452
   1227          		GUIObject_SoftKeys_SetItemAsSubItem( mbk->blist, TAB_BOOKS_SETTINGS_SOFTKEY, TAB_BOOKS_HIDENOGUI_SOFTKEY );
   \   00000374   4C0094E5           LDR      R0,[R4, #+76]
   \   00000378   0920A0E3           MOV      R2,#+9
   \   0000037C   0310A0E3           MOV      R1,#+3
   \   00000380   C40100EF           SWI      +452
   1228          
   1229          		GUIObject_SoftKeys_SetAction( mbk->blist, TAB_BOOKS_COPYRIGHT_SOFTKEY, Copyright );
   \   00000384   4C0094E5           LDR      R0,[R4, #+76]
   \   00000388   30249FE5           LDR      R2,??CreateBookManagerGUI_2+0x28  ;; ??Copyright
   \   0000038C   0210A0E3           MOV      R1,#+2
   \   00000390   4B0100EF           SWI      +331
   1230          		GUIObject_SoftKeys_SetText( mbk->blist, TAB_BOOKS_COPYRIGHT_SOFTKEY, STR( "About" ) );
   \   00000394   0520A0E1           MOV      R2,R5
   \   00000398   0010A0E3           MOV      R1,#+0
   \   0000039C   540088E2           ADD      R0,R8,#+84
   \   000003A0   5D0100EF           SWI      +349
   \   000003A4   0020A0E1           MOV      R2,R0
   \   000003A8   4C0094E5           LDR      R0,[R4, #+76]
   \   000003AC   0210A0E3           MOV      R1,#+2
   \   000003B0   4C0100EF           SWI      +332
   1231          
   1232          		mbk->oldOnKey = DispObject_GetOnKey( GUIObject_GetDispObject( mbk->blist ) );
   \   000003B4   4C0094E5           LDR      R0,[R4, #+76]
   \   000003B8   680100EF           SWI      +360
   \   000003BC   2B0200EF           SWI      +555
   \   000003C0   340084E5           STR      R0,[R4, #+52]
   1233          
   1234          		DISP_DESC_SetOnKey( DispObject_GetDESC ( GUIObject_GetDispObject( mbk->blist ) ), myOnKey_Unified );
   \   000003C4   4C0094E5           LDR      R0,[R4, #+76]
   \   000003C8   680100EF           SWI      +360
   \   000003CC   1F0200EF           SWI      +543
   \   000003D0   EC139FE5           LDR      R1,??CreateBookManagerGUI_2+0x2C  ;; ??myOnKey_Unified
   \   000003D4   2A0200EF           SWI      +554
   1235          
   1236          		RefreshBookSoftkeys( mbk );
   \   000003D8   0400A0E1           MOV      R0,R4
   \   000003DC   ........           BL       ??RefreshBookSoftkeys
   1237          
   1238          		TabMenuBar_SetTabGui( mbk->gui, 0, mbk->blist );
   \   000003E0   4C2094E5           LDR      R2,[R4, #+76]
   \   000003E4   180094E5           LDR      R0,[R4, #+24]
   \   000003E8   0010A0E3           MOV      R1,#+0
   \   000003EC   CC0100EF           SWI      +460
   1239          	}
   1240          
   1241          	TEXTID p[2] = { TextID_Create ( L"Heap : ", ENC_UCS2, 7 ), TextID_CreateIntegerID ( GetFreeBytesOnHeap() ) };
   \                     ??CreateBookManagerGUI_4:
   \   000003F0   0720A0E3           MOV      R2,#+7
   \   000003F4   0010A0E3           MOV      R1,#+0
   \   000003F8   0800A0E1           MOV      R0,R8
   \   000003FC   5D0100EF           SWI      +349
   \   00000400   04008DE5           STR      R0,[SP, #+4]
   \   00000404   700100EF           SWI      +368
   \   00000408   5C0100EF           SWI      +348
   \   0000040C   08008DE5           STR      R0,[SP, #+8]
   1242          	TabMenuBar_SetTabTitle( mbk->gui, 0, TextID_Create( p, ENC_TEXTID, 2 ) );
   \   00000410   0220A0E3           MOV      R2,#+2
   \   00000414   0510A0E3           MOV      R1,#+5
   \   00000418   04008DE2           ADD      R0,SP,#+4
   \   0000041C   5D0100EF           SWI      +349
   \   00000420   0020A0E1           MOV      R2,R0
   \   00000424   180094E5           LDR      R0,[R4, #+24]
   \   00000428   0010A0E3           MOV      R1,#+0
   \   0000042C   AB0300EF           SWI      +939
   1243          
   1244          	//---------------
   1245          
   1246          	if ( mbk->elistpos > mbk->elistcnt-1 ) mbk->elistpos = mbk->elistcnt-1;
   \   00000430   BA08D4E1           LDRH     R0,[R4, #+138]
   \   00000434   B628D4E1           LDRH     R2,[R4, #+134]
   \   00000438   011040E2           SUB      R1,R0,#+1
   \   0000043C   020051E1           CMP      R1,R2
   \   00000440   000085B0           ADDLT    R0,R5,R0
   \   00000444   B608C4B1           STRHLT   R0,[R4, #+134]
   1247          
   1248          	if ( mbk->elist )
   \   00000448   500094E5           LDR      R0,[R4, #+80]
   \   0000044C   000050E3           CMP      R0,#+0
   \   00000450   0A00000A           BEQ      ??CreateBookManagerGUI_6
   1249          	{
   1250          		ListMenu_DestroyItems(mbk->elist);
   \   00000454   BB0300EF           SWI      +955
   1251          		ListMenu_SetItemCount( mbk->elist, mbk->elistcnt );
   \   00000458   BA18D4E1           LDRH     R1,[R4, #+138]
   \   0000045C   500094E5           LDR      R0,[R4, #+80]
   \   00000460   C10100EF           SWI      +449
   1252          		ListMenu_SetCursorToItem( mbk->elist, mbk->elistpos );
   \   00000464   B618D4E1           LDRH     R1,[R4, #+134]
   \   00000468   500094E5           LDR      R0,[R4, #+80]
   \   0000046C   350100EF           SWI      +309
   1253          		RefreshElfSoftkeys( mbk, mbk->elistpos );
   \   00000470   B618D4E1           LDRH     R1,[R4, #+134]
   \   00000474   0400A0E1           MOV      R0,R4
   \   00000478   ........           BL       ??RefreshElfSoftkeys
   \   0000047C   BF0000EA           B        ??CreateBookManagerGUI_7
   1254          	}
   1255          	else
   1256          	{
   1257          		mbk->elist = CreateListMenu( mbk, 0 );
   \                     ??CreateBookManagerGUI_6:
   \   00000480   0010A0E3           MOV      R1,#+0
   \   00000484   0400A0E1           MOV      R0,R4
   \   00000488   C00100EF           SWI      +448
   \   0000048C   500084E5           STR      R0,[R4, #+80]
   1258          		ListMenu_SetCursorToItem( mbk->elist, 0 );
   \   00000490   0010A0E3           MOV      R1,#+0
   \   00000494   350100EF           SWI      +309
   1259          		ListMenu_SetOnMessage( mbk->elist, onCallback_Elfs );
   \   00000498   28139FE5           LDR      R1,??CreateBookManagerGUI_2+0x30  ;; ??onCallback_Elfs
   \   0000049C   500094E5           LDR      R0,[R4, #+80]
   \   000004A0   740100EF           SWI      +372
   1260          		ListMenu_SetItemCount( mbk->elist, mbk->elistcnt );
   \   000004A4   BA18D4E1           LDRH     R1,[R4, #+138]
   \   000004A8   500094E5           LDR      R0,[R4, #+80]
   \   000004AC   C10100EF           SWI      +449
   1261          		ListMenu_SetCursorToItem( mbk->elist, mbk->elistpos );
   \   000004B0   B618D4E1           LDRH     R1,[R4, #+134]
   \   000004B4   500094E5           LDR      R0,[R4, #+80]
   \   000004B8   350100EF           SWI      +309
   1262          
   1263          		GUIObject_SoftKeys_SetAction( mbk->elist, ACTION_BACK, CloseMyBook );
   \   000004BC   ........           LDR      R0,??DataTable36  ;; ACTION_BACK
   \   000004C0   0B20A0E1           MOV      R2,R11
   \   000004C4   001090E5           LDR      R1,[R0, #+0]
   \   000004C8   500094E5           LDR      R0,[R4, #+80]
   \   000004CC   0118A0E1           MOV      R1,R1, LSL #+16
   \   000004D0   2118A0E1           MOV      R1,R1, LSR #+16
   \   000004D4   4B0100EF           SWI      +331
   1264          		GUIObject_SoftKeys_SetAction( mbk->elist, ACTION_LONG_BACK, PreTerminateManager );
   \   000004D8   ........           LDR      R0,??DataTable31  ;; ACTION_LONG_BACK
   \   000004DC   0A20A0E1           MOV      R2,R10
   \   000004E0   001090E5           LDR      R1,[R0, #+0]
   \   000004E4   500094E5           LDR      R0,[R4, #+80]
   \   000004E8   0118A0E1           MOV      R1,R1, LSL #+16
   \   000004EC   2118A0E1           MOV      R1,R1, LSR #+16
   \   000004F0   4B0100EF           SWI      +331
   1265          		GUIObject_SoftKeys_SetAction( mbk->elist, ACTION_SELECT1, onEnterPressed_Elfs );
   \   000004F4   ........           LDR      R0,??DataTable32  ;; ACTION_SELECT1
   \   000004F8   CC229FE5           LDR      R2,??CreateBookManagerGUI_2+0x34  ;; ??onEnterPressed_Elfs
   \   000004FC   001090E5           LDR      R1,[R0, #+0]
   \   00000500   500094E5           LDR      R0,[R4, #+80]
   \   00000504   0118A0E1           MOV      R1,R1, LSL #+16
   \   00000508   2118A0E1           MOV      R1,R1, LSR #+16
   \   0000050C   4B0100EF           SWI      +331
   1266          
   1267          		GUIObject_SoftKeys_SetAction( mbk->elist, TAB_ELFS_SHORTCUTS_SOFTKEY, Shortcuts );
   \   00000510   500094E5           LDR      R0,[R4, #+80]
   \   00000514   0920A0E1           MOV      R2,R9
   \   00000518   0010A0E3           MOV      R1,#+0
   \   0000051C   4B0100EF           SWI      +331
   1268          		textidname2id( TAB_ELFS_SHORTCUTS_NAME_SOFTKEY, TEXTID_ANY_LEN, &str_id );
   \   00000520   0D20A0E1           MOV      R2,SP
   \   00000524   0510A0E1           MOV      R1,R5
   \   00000528   600088E2           ADD      R0,R8,#+96
   \   0000052C   870200EF           SWI      +647
   1269          		GUIObject_SoftKeys_SetText( mbk->elist, TAB_ELFS_SHORTCUTS_SOFTKEY, str_id );
   \   00000530   00209DE5           LDR      R2,[SP, #+0]
   \   00000534   500094E5           LDR      R0,[R4, #+80]
   \   00000538   0010A0E3           MOV      R1,#+0
   \   0000053C   4C0100EF           SWI      +332
   1270          		GUIObject_SoftKeys_SetAction( mbk->elist, TAB_ELFS_RENAME_SOFTKEY, BookNames );
   \   00000540   6C229FE5           LDR      R2,??CreateBookManagerGUI_2+0x1C  ;; ??BookNames
   \   00000544   500094E5           LDR      R0,[R4, #+80]
   \   00000548   0110A0E3           MOV      R1,#+1
   \   0000054C   4B0100EF           SWI      +331
   1271          		textidname2id( TAB_ELFS_RENAME_NAME_SOFTKEY, TEXTID_ANY_LEN, &str_id );
   \   00000550   0D20A0E1           MOV      R2,SP
   \   00000554   0510A0E1           MOV      R1,R5
   \   00000558   8C0088E2           ADD      R0,R8,#+140
   \   0000055C   870200EF           SWI      +647
   1272          		GUIObject_SoftKeys_SetText( mbk->elist, TAB_ELFS_RENAME_SOFTKEY, str_id );
   \   00000560   00209DE5           LDR      R2,[SP, #+0]
   \   00000564   500094E5           LDR      R0,[R4, #+80]
   \   00000568   0110A0E3           MOV      R1,#+1
   \   0000056C   4C0100EF           SWI      +332
   1273          
   1274          		GUIObject_SoftKeys_SetAction( mbk->elist, TAB_ELFS_HIDEBOOK_SOFTKEY, HideBook );
   \   00000570   500094E5           LDR      R0,[R4, #+80]
   \   00000574   3C229FE5           LDR      R2,??CreateBookManagerGUI_2+0x20  ;; ??HideBook
   \   00000578   0410A0E3           MOV      R1,#+4
   \   0000057C   4B0100EF           SWI      +331
   1275          		GUIObject_SoftKeys_SetText( mbk->elist, TAB_ELFS_HIDEBOOK_SOFTKEY, STR( "Hide elf" ) );
   \   00000580   0520A0E1           MOV      R2,R5
   \   00000584   0010A0E3           MOV      R1,#+0
   \   00000588   100088E2           ADD      R0,R8,#+16
   \   0000058C   5D0100EF           SWI      +349
   \   00000590   0020A0E1           MOV      R2,R0
   \   00000594   500094E5           LDR      R0,[R4, #+80]
   \   00000598   0410A0E3           MOV      R1,#+4
   \   0000059C   4C0100EF           SWI      +332
   1276          		GUIObject_SoftKeys_SetAction( mbk->elist, TAB_ELFS_SHOWBOOK_SOFTKEY, ShowBook );
   \   000005A0   500094E5           LDR      R0,[R4, #+80]
   \   000005A4   10229FE5           LDR      R2,??CreateBookManagerGUI_2+0x24  ;; ??ShowBook
   \   000005A8   0510A0E3           MOV      R1,#+5
   \   000005AC   4B0100EF           SWI      +331
   1277          		GUIObject_SoftKeys_SetText( mbk->elist, TAB_ELFS_SHOWBOOK_SOFTKEY, STR( "Show elf" ) );
   \   000005B0   0520A0E1           MOV      R2,R5
   \   000005B4   0010A0E3           MOV      R1,#+0
   \   000005B8   240088E2           ADD      R0,R8,#+36
   \   000005BC   5D0100EF           SWI      +349
   \   000005C0   0020A0E1           MOV      R2,R0
   \   000005C4   500094E5           LDR      R0,[R4, #+80]
   \   000005C8   0510A0E3           MOV      R1,#+5
   \   000005CC   4C0100EF           SWI      +332
   1278          
   1279          		GUIObject_SoftKeys_SetAction( mbk->elist, TAB_ELFS_SHOWHIDDEN_SOFTKEY, HiddenMode );
   \   000005D0   500094E5           LDR      R0,[R4, #+80]
   \   000005D4   0720A0E1           MOV      R2,R7
   \   000005D8   0610A0E3           MOV      R1,#+6
   \   000005DC   4B0100EF           SWI      +331
   1280          		GUIObject_SoftKeys_SetText( mbk->elist, TAB_ELFS_SHOWHIDDEN_SOFTKEY, STR( "Show hidden" ) );
   \   000005E0   0520A0E1           MOV      R2,R5
   \   000005E4   0010A0E3           MOV      R1,#+0
   \   000005E8   D00088E2           ADD      R0,R8,#+208
   \   000005EC   5D0100EF           SWI      +349
   \   000005F0   0020A0E1           MOV      R2,R0
   \   000005F4   500094E5           LDR      R0,[R4, #+80]
   \   000005F8   0610A0E3           MOV      R1,#+6
   \   000005FC   4C0100EF           SWI      +332
   1281          		GUIObject_SoftKeys_SetAction( mbk->elist, TAB_ELFS_HIDEHIDDEN_SOFTKEY, HiddenMode );
   \   00000600   500094E5           LDR      R0,[R4, #+80]
   \   00000604   0720A0E1           MOV      R2,R7
   \   00000608   0710A0E3           MOV      R1,#+7
   \   0000060C   4B0100EF           SWI      +331
   1282          		GUIObject_SoftKeys_SetText( mbk->elist, TAB_ELFS_HIDEHIDDEN_SOFTKEY, STR( "Hide hidden" ) );
   \   00000610   0520A0E1           MOV      R2,R5
   \   00000614   0010A0E3           MOV      R1,#+0
   \   00000618   E80088E2           ADD      R0,R8,#+232
   \   0000061C   5D0100EF           SWI      +349
   \   00000620   0020A0E1           MOV      R2,R0
   \   00000624   500094E5           LDR      R0,[R4, #+80]
   \   00000628   0710A0E3           MOV      R1,#+7
   \   0000062C   4C0100EF           SWI      +332
   1283          
   1284          		GUIObject_SoftKeys_SetAction( mbk->elist, TAB_ELFS_SHOWNOGUI_SOFTKEY, NoGUIMode );
   \   00000630   500094E5           LDR      R0,[R4, #+80]
   \   00000634   0620A0E1           MOV      R2,R6
   \   00000638   0810A0E3           MOV      R1,#+8
   \   0000063C   4B0100EF           SWI      +331
   1285          		GUIObject_SoftKeys_SetText( mbk->elist, TAB_ELFS_SHOWNOGUI_SOFTKEY, STR( "Show NoGUI" ) );
   \   00000640   0520A0E1           MOV      R2,R5
   \   00000644   0010A0E3           MOV      R1,#+0
   \   00000648   400F88E2           ADD      R0,R8,#+256
   \   0000064C   5D0100EF           SWI      +349
   \   00000650   0020A0E1           MOV      R2,R0
   \   00000654   500094E5           LDR      R0,[R4, #+80]
   \   00000658   0810A0E3           MOV      R1,#+8
   \   0000065C   4C0100EF           SWI      +332
   1286          		GUIObject_SoftKeys_SetAction( mbk->elist, TAB_ELFS_HIDENOGUI_SOFTKEY, NoGUIMode );
   \   00000660   500094E5           LDR      R0,[R4, #+80]
   \   00000664   0620A0E1           MOV      R2,R6
   \   00000668   0910A0E3           MOV      R1,#+9
   \   0000066C   4B0100EF           SWI      +331
   1287          		GUIObject_SoftKeys_SetText( mbk->elist, TAB_ELFS_HIDENOGUI_SOFTKEY, STR( "Hide NoGUI" ) );
   \   00000670   0520A0E1           MOV      R2,R5
   \   00000674   0010A0E3           MOV      R1,#+0
   \   00000678   460F88E2           ADD      R0,R8,#+280
   \   0000067C   5D0100EF           SWI      +349
   \   00000680   0020A0E1           MOV      R2,R0
   \   00000684   500094E5           LDR      R0,[R4, #+80]
   \   00000688   0910A0E3           MOV      R1,#+9
   \   0000068C   4C0100EF           SWI      +332
   1288          
   1289          		GUIObject_SoftKeys_SetAction( mbk->elist, TAB_ELFS_SETTINGS_SOFTKEY, 0 );
   \   00000690   500094E5           LDR      R0,[R4, #+80]
   \   00000694   0020A0E3           MOV      R2,#+0
   \   00000698   0310A0E3           MOV      R1,#+3
   \   0000069C   4B0100EF           SWI      +331
   1290          		textidname2id( TAB_ELFS_SETTINGS_NAME_SOFTKEY, TEXTID_ANY_LEN, &str_id );
   \   000006A0   0D20A0E1           MOV      R2,SP
   \   000006A4   0510A0E1           MOV      R1,R5
   \   000006A8   4C0F88E2           ADD      R0,R8,#+304
   \   000006AC   870200EF           SWI      +647
   1291          		GUIObject_SoftKeys_SetText( mbk->elist, TAB_ELFS_SETTINGS_SOFTKEY, str_id );
   \   000006B0   00209DE5           LDR      R2,[SP, #+0]
   \   000006B4   500094E5           LDR      R0,[R4, #+80]
   \   000006B8   0310A0E3           MOV      R1,#+3
   \   000006BC   4C0100EF           SWI      +332
   1292          
   1293          		GUIObject_SoftKeys_SetItemAsSubItem( mbk->elist, TAB_ELFS_SETTINGS_SOFTKEY, TAB_ELFS_SHOWHIDDEN_SOFTKEY );
   \   000006C0   500094E5           LDR      R0,[R4, #+80]
   \   000006C4   0620A0E3           MOV      R2,#+6
   \   000006C8   0310A0E3           MOV      R1,#+3
   \   000006CC   C40100EF           SWI      +452
   1294          		GUIObject_SoftKeys_SetItemAsSubItem( mbk->elist, TAB_ELFS_SETTINGS_SOFTKEY, TAB_ELFS_HIDEHIDDEN_SOFTKEY );
   \   000006D0   500094E5           LDR      R0,[R4, #+80]
   \   000006D4   0720A0E3           MOV      R2,#+7
   \   000006D8   0310A0E3           MOV      R1,#+3
   \   000006DC   C40100EF           SWI      +452
   1295          		GUIObject_SoftKeys_SetItemAsSubItem( mbk->elist, TAB_ELFS_SETTINGS_SOFTKEY, TAB_ELFS_SHOWNOGUI_SOFTKEY );
   \   000006E0   500094E5           LDR      R0,[R4, #+80]
   \   000006E4   0820A0E3           MOV      R2,#+8
   \   000006E8   0310A0E3           MOV      R1,#+3
   \   000006EC   C40100EF           SWI      +452
   1296          		GUIObject_SoftKeys_SetItemAsSubItem( mbk->elist, TAB_ELFS_SETTINGS_SOFTKEY, TAB_ELFS_HIDENOGUI_SOFTKEY );
   \   000006F0   500094E5           LDR      R0,[R4, #+80]
   \   000006F4   0920A0E3           MOV      R2,#+9
   \   000006F8   0310A0E3           MOV      R1,#+3
   \   000006FC   C40100EF           SWI      +452
   1297          
   1298          		GUIObject_SoftKeys_SetAction( mbk->elist, TAB_ELFS_AUTHOR_SOFTKEY, Author );
   \   00000700   500094E5           LDR      R0,[R4, #+80]
   \   00000704   C4209FE5           LDR      R2,??CreateBookManagerGUI_2+0x38  ;; ??Author
   \   00000708   0210A0E3           MOV      R1,#+2
   \   0000070C   4B0100EF           SWI      +331
   1299          		GUIObject_SoftKeys_SetText( mbk->elist, TAB_ELFS_AUTHOR_SOFTKEY, STR( "Author" ) );
   \   00000710   0520A0E1           MOV      R2,R5
   \   00000714   0010A0E3           MOV      R1,#+0
   \   00000718   380088E2           ADD      R0,R8,#+56
   \   0000071C   5D0100EF           SWI      +349
   \   00000720   0020A0E1           MOV      R2,R0
   \   00000724   500094E5           LDR      R0,[R4, #+80]
   \   00000728   0210A0E3           MOV      R1,#+2
   \   0000072C   4C0100EF           SWI      +332
   1300          
   1301          		//онкеи все равно одинаковые, так что уберем пока
   1302          		//    mbk->oldOnKey1 = DispObject_GetOnKey( GUIObject_GetDispObject( mbk->elist ) );
   1303          
   1304          		DISP_DESC_SetOnKey( DispObject_GetDESC ( GUIObject_GetDispObject( mbk->elist ) ), myOnKey_Unified );
   \   00000730   500094E5           LDR      R0,[R4, #+80]
   \   00000734   680100EF           SWI      +360
   \   00000738   1F0200EF           SWI      +543
   \   0000073C   80109FE5           LDR      R1,??CreateBookManagerGUI_2+0x2C  ;; ??myOnKey_Unified
   \   00000740   2A0200EF           SWI      +554
   1305          
   1306          		RefreshElfSoftkeys( mbk, mbk->elistpos );
   \   00000744   B618D4E1           LDRH     R1,[R4, #+134]
   \   00000748   0400A0E1           MOV      R0,R4
   \   0000074C   ........           BL       ??RefreshElfSoftkeys
   1307          
   1308          		TabMenuBar_SetTabGui( mbk->gui, 1, mbk->elist );
   \   00000750   180094E5           LDR      R0,[R4, #+24]
   \   00000754   502094E5           LDR      R2,[R4, #+80]
   \   00000758   0110A0E3           MOV      R1,#+1
   \   0000075C   CC0100EF           SWI      +460
   1309          		TabMenuBar_SetTabTitle( mbk->gui, 1, STR( "Elfs" ) );
   \   00000760   0520A0E1           MOV      R2,R5
   \   00000764   0010A0E3           MOV      R1,#+0
   \   00000768   480088E2           ADD      R0,R8,#+72
   \   0000076C   5D0100EF           SWI      +349
   \   00000770   0020A0E1           MOV      R2,R0
   \   00000774   180094E5           LDR      R0,[R4, #+24]
   \   00000778   0110A0E3           MOV      R1,#+1
   \   0000077C   AB0300EF           SWI      +939
   1310          	}
   1311          
   1312          	TabMenuBar_SetFocusedTab( mbk->gui, mbk->ActiveTAB );
   \                     ??CreateBookManagerGUI_7:
   \   00000780   BC18D4E1           LDRH     R1,[R4, #+140]
   \   00000784   180094E5           LDR      R0,[R4, #+24]
   \   00000788   5E0200EF           SWI      +606
   1313          
   1314          	GUIObject_Show(mbk->gui);
   \   0000078C   180094E5           LDR      R0,[R4, #+24]
   \   00000790   340100EF           SWI      +308
   1315          }
   \   00000794   F78FBDE8           POP      {R0-R2,R4-R11,PC}  ;; return
   \                     ??CreateBookManagerGUI_2:
   \   00000798   ........           DC32     ??NoGUIMode
   \   0000079C   ........           DC32     ??HiddenMode
   \   000007A0   ........           DC32     `?<Constant L"\\x48\\x65\\x61\\x70\\x20\\x3a\\x20">`
   \   000007A4   ........           DC32     ??Shortcuts
   \   000007A8   ........           DC32     ??PreTerminateManager
   \   000007AC   ........           DC32     ??onCallback_Books
   \   000007B0   ........           DC32     ??onEnterPressed_Books
   \   000007B4   ........           DC32     ??BookNames
   \   000007B8   ........           DC32     ??HideBook
   \   000007BC   ........           DC32     ??ShowBook
   \   000007C0   ........           DC32     ??Copyright
   \   000007C4   ........           DC32     ??myOnKey_Unified
   \   000007C8   ........           DC32     ??onCallback_Elfs
   \   000007CC   ........           DC32     ??onEnterPressed_Elfs
   \   000007D0   ........           DC32     ??Author
   1316          
   1317          

   \                                 In segment CODE, align 4, keep-with-next
   1318          void DestroyIniBuffers(MyBOOK* mbk)
   1319          {
   \                     ??DestroyIniBuffers:
   \   00000000   30402DE9           PUSH     {R4,R5,LR}
   \   00000004   0040A0E1           MOV      R4,R0
   1320          	if ( mbk->booknames_buf )
   \   00000008   1C0094E5           LDR      R0,[R4, #+28]
   \   0000000C   0050A0E3           MOV      R5,#+0
   \   00000010   000050E3           CMP      R0,#+0
   \   00000014   0100000A           BEQ      ??DestroyIniBuffers_1
   1321          	{
   1322          		delete mbk->booknames_buf;
   \   00000018   ........           _BLF     `??operator delete`,`??operator delete??rA`
   1323          		mbk->booknames_buf=0;
   \   0000001C   1C5084E5           STR      R5,[R4, #+28]
   1324          	}
   1325          	if ( mbk->shortcuts_buf )
   \                     ??DestroyIniBuffers_1:
   \   00000020   240094E5           LDR      R0,[R4, #+36]
   \   00000024   000050E3           CMP      R0,#+0
   \   00000028   0100000A           BEQ      ??DestroyIniBuffers_2
   1326          	{
   1327          		delete mbk->shortcuts_buf;
   \   0000002C   ........           _BLF     `??operator delete`,`??operator delete??rA`
   1328          		mbk->shortcuts_buf=0;
   \   00000030   245084E5           STR      R5,[R4, #+36]
   1329          	}
   1330          	if ( mbk->hidden_buf )
   \                     ??DestroyIniBuffers_2:
   \   00000034   2C0094E5           LDR      R0,[R4, #+44]
   \   00000038   000050E3           CMP      R0,#+0
   \   0000003C   3080BD08           POPEQ    {R4,R5,PC}
   1331          	{
   1332          		delete mbk->hidden_buf;
   \   00000040   ........           _BLF     `??operator delete`,`??operator delete??rA`
   1333          		mbk->hidden_buf=0;
   \   00000044   2C5084E5           STR      R5,[R4, #+44]
   1334          	}
   1335          }
   \   00000048   3080BDE8           POP      {R4,R5,PC}       ;; return
   1336          
   1337          

   \                                 In segment CODE, align 4, keep-with-next
   1338          void DestroyAllGUIs(MyBOOK* mbk)
   1339          {
   \                     ??DestroyAllGUIs:
   \   00000000   70402DE9           PUSH     {R4-R6,LR}
   \   00000004   0040A0E1           MOV      R4,R0
   1340          	if ( mbk->java_list_menu )
   \   00000008   480094E5           LDR      R0,[R4, #+72]
   \   0000000C   0050A0E3           MOV      R5,#+0
   \   00000010   000050E3           CMP      R0,#+0
   \   00000014   0800000A           BEQ      ??DestroyAllGUIs_1
   1341          	{
   1342          		GUIObject_Destroy( mbk->java_list_menu );
   \   00000018   CE0100EF           SWI      +462
   1343          		mbk->java_list_menu=0;
   1344          		List_DestroyElements( mbk->java_list, elem_filter, elem_free );
   \   0000001C   C4209FE5           LDR      R2,??DestroyAllGUIs_2  ;; ??elem_free
   \   00000020   C4109FE5           LDR      R1,??DestroyAllGUIs_2+0x4  ;; ??elem_filter
   \   00000024   485084E5           STR      R5,[R4, #+72]
   \   00000028   440094E5           LDR      R0,[R4, #+68]
   \   0000002C   970200EF           SWI      +663
   1345          		List_Destroy( mbk->java_list );
   \   00000030   440094E5           LDR      R0,[R4, #+68]
   \   00000034   6A0100EF           SWI      +362
   1346          		mbk->java_list = 0;
   \   00000038   445084E5           STR      R5,[R4, #+68]
   1347          	}
   1348          
   1349          	if ( mbk->mode_list )
   \                     ??DestroyAllGUIs_1:
   \   0000003C   540094E5           LDR      R0,[R4, #+84]
   \   00000040   000050E3           CMP      R0,#+0
   \   00000044   0100000A           BEQ      ??DestroyAllGUIs_3
   1350          	{
   1351          		GUIObject_Destroy( mbk->mode_list );
   \   00000048   CE0100EF           SWI      +462
   1352          		mbk->mode_list=0;
   \   0000004C   545084E5           STR      R5,[R4, #+84]
   1353          	}
   1354          
   1355          	if ( mbk->but_list )
   \                     ??DestroyAllGUIs_3:
   \   00000050   580094E5           LDR      R0,[R4, #+88]
   \   00000054   000050E3           CMP      R0,#+0
   \   00000058   0100000A           BEQ      ??DestroyAllGUIs_4
   1356          	{
   1357          		GUIObject_Destroy( mbk->but_list );
   \   0000005C   CE0100EF           SWI      +462
   1358          		mbk->but_list=0;
   \   00000060   585084E5           STR      R5,[R4, #+88]
   1359          	}
   1360          
   1361          	if ( mbk->YesNoQuestion )
   \                     ??DestroyAllGUIs_4:
   \   00000064   5C0094E5           LDR      R0,[R4, #+92]
   \   00000068   000050E3           CMP      R0,#+0
   \   0000006C   0100000A           BEQ      ??DestroyAllGUIs_5
   1362          	{
   1363          		GUIObject_Destroy( mbk->YesNoQuestion );
   \   00000070   CE0100EF           SWI      +462
   1364          		mbk->YesNoQuestion=0;
   \   00000074   5C5084E5           STR      R5,[R4, #+92]
   1365          	}
   1366          
   1367          	if ( mbk->blist )
   \                     ??DestroyAllGUIs_5:
   \   00000078   4C0094E5           LDR      R0,[R4, #+76]
   \   0000007C   000050E3           CMP      R0,#+0
   \   00000080   0200000A           BEQ      ??DestroyAllGUIs_6
   1368          	{
   1369          		GUIObject_Destroy( mbk->blist );
   \   00000084   CE0100EF           SWI      +462
   1370          		mbk->blist=0;
   \   00000088   4C5084E5           STR      R5,[R4, #+76]
   1371          		mbk->blistpos=0;
   \   0000008C   B458C4E1           STRH     R5,[R4, #+132]
   1372          	}
   1373          
   1374          	if ( mbk->elist )
   \                     ??DestroyAllGUIs_6:
   \   00000090   500094E5           LDR      R0,[R4, #+80]
   \   00000094   000050E3           CMP      R0,#+0
   \   00000098   0200000A           BEQ      ??DestroyAllGUIs_7
   1375          	{
   1376          		GUIObject_Destroy( mbk->elist );
   \   0000009C   CE0100EF           SWI      +462
   1377          		mbk->elist=0;
   \   000000A0   505084E5           STR      R5,[R4, #+80]
   1378          		mbk->elistpos=0;
   \   000000A4   B658C4E1           STRH     R5,[R4, #+134]
   1379          	}
   1380          
   1381          	if ( mbk->gui )
   \                     ??DestroyAllGUIs_7:
   \   000000A8   180094E5           LDR      R0,[R4, #+24]
   \   000000AC   000050E3           CMP      R0,#+0
   \   000000B0   0100000A           BEQ      ??DestroyAllGUIs_8
   1382          	{
   1383          		GUIObject_Destroy( mbk->gui );
   \   000000B4   CE0100EF           SWI      +462
   1384          		mbk->gui=0;
   \   000000B8   185084E5           STR      R5,[R4, #+24]
   1385          	}
   1386          
   1387          	if ( mbk->MainMenuID != -1 )
   \                     ??DestroyAllGUIs_8:
   \   000000BC   800094E5           LDR      R0,[R4, #+128]
   \   000000C0   0560E0E1           MVN      R6,R5
   \   000000C4   060050E1           CMP      R0,R6
   \   000000C8   0400000A           BEQ      ??DestroyAllGUIs_9
   1388          	{
   1389          		BOOK* MainMenu = FindBookByID( mbk->MainMenuID );
   \   000000CC   C40200EF           SWI      +708
   1390          
   1391          		if ( MainMenu )
   \   000000D0   000050E3           CMP      R0,#+0
   \   000000D4   0000000A           BEQ      ??DestroyAllGUIs_10
   1392          			FreeBook( MainMenu );
   \   000000D8   2F0100EF           SWI      +303
   1393          
   1394          		mbk->MainMenuID = -1;
   \                     ??DestroyAllGUIs_10:
   \   000000DC   806084E5           STR      R6,[R4, #+128]
   1395          	}
   1396          
   1397          	mbk->oldOnKey=0;
   \                     ??DestroyAllGUIs_9:
   \   000000E0   345084E5           STR      R5,[R4, #+52]
   1398          }
   \   000000E4   7080BDE8           POP      {R4-R6,PC}       ;; return
   \                     ??DestroyAllGUIs_2:
   \   000000E8   ........           DC32     ??elem_free
   \   000000EC   ........           DC32     ??elem_filter
   1399          
   1400          

   \                                 In segment CODE, align 4, keep-with-next
   1401          void DestroyIcons(MyBOOK* mbk)
   1402          {
   \                     ??DestroyIcons:
   \   00000000   30402DE9           PUSH     {R4,R5,LR}
   \   00000004   0040A0E1           MOV      R4,R0
   1403          	int i;
   1404          
   1405          	for ( i = 0;i < ICONS_COUNT;i++ )
   \   00000008   0050A0E3           MOV      R5,#+0
   1406          	{
   1407          		ImageID_Free( mbk->tabs_image[i].ImageID );
   \                     ??DestroyIcons_1:
   \   0000000C   850084E0           ADD      R0,R4,R5, LSL #+1
   \   00000010   B406D0E1           LDRH     R0,[R0, #+100]
   1408          	}
   \   00000014   015085E2           ADD      R5,R5,#+1
   \   00000018   CD0200EF           SWI      +717
   \   0000001C   040055E3           CMP      R5,#+4
   \   00000020   F9FFFFBA           BLT      ??DestroyIcons_1
   1409          
   1410          	for ( i = 0;i < DIGITS_COUNT;i++ )
   \   00000024   0050A0E3           MOV      R5,#+0
   1411          	{
   1412          		ImageID_Free( mbk->digs_image[i].ImageID );
   \                     ??DestroyIcons_2:
   \   00000028   850084E0           ADD      R0,R4,R5, LSL #+1
   \   0000002C   BC06D0E1           LDRH     R0,[R0, #+108]
   1413          	}
   \   00000030   015085E2           ADD      R5,R5,#+1
   \   00000034   CD0200EF           SWI      +717
   \   00000038   0A0055E3           CMP      R5,#+10
   \   0000003C   F9FFFFBA           BLT      ??DestroyIcons_2
   1414          }
   \   00000040   3080BDE8           POP      {R4,R5,PC}       ;; return
   1415          
   1416          
   1417          // при закрытии книги

   \                                 In segment CODE, align 4, keep-with-next
   1418          void onMyBookClose( BOOK* book )
   1419          {
   \                     ??onMyBookClose:
   \   00000000   10402DE9           PUSH     {R4,LR}
   \   00000004   0040A0E1           MOV      R4,R0
   1420          	MyBOOK* mbk = (MyBOOK*) book;
   1421          
   1422          	DestroyIniBuffers(mbk);
   \   00000008   ........           BL       ??DestroyIniBuffers
   1423          
   1424          	DestroyAllGUIs(mbk);
   \   0000000C   0400A0E1           MOV      R0,R4
   \   00000010   ........           BL       ??DestroyAllGUIs
   1425          
   1426          	DestroyBookAndElfsLists( mbk );
   \   00000014   0400A0E1           MOV      R0,R4
   \   00000018   ........           BL       ??DestroyBookAndElfsLists
   1427          
   1428          	DestroyIcons(mbk);
   \   0000001C   0400A0E1           MOV      R0,R4
   \   00000020   1040BDE8           POP      {R4,LR}          ;; Pop
   \   00000024   ........           B        ??DestroyIcons   ;; tailcall
   1429          }
   1430          
   1431          

   \                                 In segment CODE, align 4, keep-with-next
   1432          void ReturnMyBook( BOOK* bk, GUI* )
   1433          {
   \                     ??ReturnMyBook:
   \   00000000   10402DE9           PUSH     {R4,LR}
   \   00000004   0040A0E1           MOV      R4,R0
   1434          	MyBOOK* mbk = (MyBOOK*) bk;
   1435          	GUIObject_Destroy( mbk->YesNoQuestion );
   \   00000008   5C0094E5           LDR      R0,[R4, #+92]
   \   0000000C   CE0100EF           SWI      +462
   1436          	mbk->YesNoQuestion = 0;
   \   00000010   0000A0E3           MOV      R0,#+0
   \   00000014   5C0084E5           STR      R0,[R4, #+92]
   1437          	mbk->ActiveTAB=GetActiveTab(mbk);
   \   00000018   0400A0E1           MOV      R0,R4
   \   0000001C   ........           BL       ??GetActiveTab
   \   00000020   BC08C4E1           STRH     R0,[R4, #+140]
   1438          	CreateBookManagerGUI( mbk );
   \   00000024   0400A0E1           MOV      R0,R4
   \   00000028   1040BDE8           POP      {R4,LR}          ;; Pop
   \   0000002C   ........           B        ??CreateBookManagerGUI  ;; tailcall
   1439          }
   1440          
   1441          

   \                                 In segment CODE, align 4, keep-with-next
   1442          void CloseMyBook( BOOK* bk, GUI* )
   1443          {
   \                     ??CloseMyBook:
   \   00000000   10402DE9           PUSH     {R4,LR}
   \   00000004   0040A0E1           MOV      R4,R0
   1444          	MyBOOK* mbk = (MyBOOK*) bk;
   1445          
   1446          	mbk->ActiveTAB=GetActiveTab(mbk);
   \   00000008   ........           BL       ??GetActiveTab
   1447          	BookObj_GotoPage( mbk, &BookManager_Idle_Page);
   \   0000000C   0C109FE5           LDR      R1,??CloseMyBook_1  ;; `?<Constant "BookManager">` + 12
   \   00000010   BC08C4E1           STRH     R0,[R4, #+140]
   \   00000014   0400A0E1           MOV      R0,R4
   \   00000018   2D0100EF           SWI      +301
   1448          }
   \   0000001C   1080BDE8           POP      {R4,PC}          ;; return
   \                     ??CloseMyBook_1:
   \   00000020   ........           DC32     `?<Constant "BookManager">` + 12
   1449          
   1450          

   \                                 In segment CODE, align 4, keep-with-next
   1451          void TerminateManager( BOOK* Book, GUI* )
   1452          {
   \                     ??TerminateManager:
   \   00000000   30402DE9           PUSH     {R4,R5,LR}
   \   00000004   04D04DE2           SUB      SP,SP,#+4
   \   00000008   0040A0E1           MOV      R4,R0
   1453          	MessageBox( EMPTY_TEXTID,STR("BookManager\n\nterminated"),NOIMAGE,1,3000,0);
   \   0000000C   6C009FE5           LDR      R0,??TerminateManager_1  ;; `?<Constant L"\\x42\\x6f\\x6f\\x6b\\x4d\\x61\\x6e\\x61\\`
   \   00000010   FF50A0E3           MOV      R5,#+255
   \   00000014   FF5C85E3           ORR      R5,R5,#0xFF00
   \   00000018   0520A0E1           MOV      R2,R5
   \   0000001C   0010A0E3           MOV      R1,#+0
   \   00000020   5D0100EF           SWI      +349
   \   00000024   0010A0E3           MOV      R1,#+0
   \   00000028   02002DE9           PUSH     {R1}
   \   0000002C   0130A0E3           MOV      R3,#+1
   \   00000030   0520A0E1           MOV      R2,R5
   \   00000034   B810A0E3           MOV      R1,#+184
   \   00000038   B01E81E3           ORR      R1,R1,#0xB00
   \   0000003C   02002DE9           PUSH     {R1}
   \   00000040   0010A0E1           MOV      R1,R0
   \   00000044   9004E0E3           MVN      R0,#-1879048192
   \   00000048   570200EF           SWI      +599
   1454          	FreeBook( Book );
   \   0000004C   0400A0E1           MOV      R0,R4
   \   00000050   2F0100EF           SWI      +303
   1455          	MODIFYKEYHOOK( NewKey, KEY_HOOK_REMOVE, NULL );
   \   00000054   0010A0E3           MOV      R1,#+0
   \   00000058   08008DE2           ADD      R0,SP,#+8
   \   0000005C   ........           _BLF     ??LPARAM,??LPARAM??rA
   \   00000060   ........           LDR      R0,??DataTable40  ;; ??NewKey
   \   00000064   ........           _BLF     ??MKKEYHOOKPROC,??MKKEYHOOKPROC??rA
   \   00000068   08209DE5           LDR      R2,[SP, #+8]
   \   0000006C   0010A0E3           MOV      R1,#+0
   \   00000070   070100EF           SWI      +263
   1456          	SUBPROC( elf_exit );
   \   00000074   ........           LDR      R0,??DataTable41  ;; ??elf_exit
   \   00000078   080100EF           SWI      +264
   1457          }
   \   0000007C   3780BDE8           POP      {R0-R2,R4,R5,PC}  ;; return
   \                     ??TerminateManager_1:
   \   00000080   ........           DC32     `?<Constant L"\\x42\\x6f\\x6f\\x6b\\x4d\\x61\\x6e\\x61\\`
   1458          
   1459          

   \                                 In segment CODE, align 4, keep-with-next
   1460          void PreTerminateManager( BOOK* bk, GUI* )
   1461          {
   \                     ??PreTerminateManager:
   \   00000000   F0402DE9           PUSH     {R4-R7,LR}
   1462          	MyBOOK* mbk = (MyBOOK*) bk;
   1463          
   1464          	mbk->YesNoQuestion = CreateYesNoQuestionVA( 0,
   1465          											   VAR_BOOK( mbk ),
   1466          											   VAR_YESNO_PRE_QUESTION( TextID_Create( "Exit command selected", ENC_LAT1, TEXTID_ANY_LEN ) ),
   1467          											   VAR_YESNO_QUESTION( TextID_Create( "Unload?", ENC_LAT1, TEXTID_ANY_LEN ) ),
   1468          											   0 );
   \   00000004   B4509FE5           LDR      R5,??PreTerminateManager_1  ;; `?<Constant "Exit command selected">`
   \   00000008   0040A0E1           MOV      R4,R0
   \   0000000C   FF60A0E3           MOV      R6,#+255
   \   00000010   FF6C86E3           ORR      R6,R6,#0xFF00
   \   00000014   0620A0E1           MOV      R2,R6
   \   00000018   0610A0E3           MOV      R1,#+6
   \   0000001C   180085E2           ADD      R0,R5,#+24
   \   00000020   5D0100EF           SWI      +349
   \   00000024   0070A0E1           MOV      R7,R0
   \   00000028   0620A0E1           MOV      R2,R6
   \   0000002C   0610A0E3           MOV      R1,#+6
   \   00000030   0500A0E1           MOV      R0,R5
   \   00000034   5D0100EF           SWI      +349
   \   00000038   84309FE5           LDR      R3,??PreTerminateManager_1+0x4  ;; VAR_ARG_YESNO_PRE_QUESTION
   \   0000003C   0010A0E3           MOV      R1,#+0
   \   00000040   02002DE9           PUSH     {R1}
   \   00000044   7C109FE5           LDR      R1,??PreTerminateManager_1+0x8  ;; VAR_ARG_YESNO_QUESTION
   \   00000048   80002DE9           PUSH     {R7}
   \   0000004C   02002DE9           PUSH     {R1}
   \   00000050   74109FE5           LDR      R1,??PreTerminateManager_1+0xC  ;; VAR_ARG_BOOK
   \   00000054   01002DE9           PUSH     {R0}
   \   00000058   0420A0E1           MOV      R2,R4
   \   0000005C   0000A0E3           MOV      R0,#+0
   \   00000060   A50200EF           SWI      +677
   1469          	GUIObject_SoftKeys_SetAction( mbk->YesNoQuestion, ACTION_YES, TerminateManager );
   \   00000064   64209FE5           LDR      R2,??PreTerminateManager_1+0x10  ;; ??TerminateManager
   \   00000068   5C0084E5           STR      R0,[R4, #+92]
   \   0000006C   60009FE5           LDR      R0,??PreTerminateManager_1+0x14  ;; ACTION_YES
   \   00000070   001090E5           LDR      R1,[R0, #+0]
   \   00000074   5C0094E5           LDR      R0,[R4, #+92]
   \   00000078   0118A0E1           MOV      R1,R1, LSL #+16
   \   0000007C   2118A0E1           MOV      R1,R1, LSR #+16
   \   00000080   4B0100EF           SWI      +331
   1470          	GUIObject_SoftKeys_SetAction( mbk->YesNoQuestion, ACTION_NO, CloseMyBook );
   \   00000084   4C009FE5           LDR      R0,??PreTerminateManager_1+0x18  ;; ACTION_NO
   \   00000088   ........           LDR      R2,??DataTable35  ;; ??CloseMyBook
   \   0000008C   001090E5           LDR      R1,[R0, #+0]
   \   00000090   5C0094E5           LDR      R0,[R4, #+92]
   \   00000094   0118A0E1           MOV      R1,R1, LSL #+16
   \   00000098   2118A0E1           MOV      R1,R1, LSR #+16
   \   0000009C   4B0100EF           SWI      +331
   1471          	GUIObject_SoftKeys_SetAction( mbk->YesNoQuestion, ACTION_BACK, ReturnMyBook );
   \   000000A0   ........           LDR      R0,??DataTable36  ;; ACTION_BACK
   \   000000A4   30209FE5           LDR      R2,??PreTerminateManager_1+0x1C  ;; ??ReturnMyBook
   \   000000A8   001090E5           LDR      R1,[R0, #+0]
   \   000000AC   5C0094E5           LDR      R0,[R4, #+92]
   \   000000B0   0118A0E1           MOV      R1,R1, LSL #+16
   \   000000B4   2118A0E1           MOV      R1,R1, LSR #+16
   \   000000B8   4B0100EF           SWI      +331
   1472          }
   \   000000BC   FF80BDE8           POP      {R0-R7,PC}       ;; return
   \                     ??PreTerminateManager_1:
   \   000000C0   ........           DC32     `?<Constant "Exit command selected">`
   \   000000C4   ........           DC32     VAR_ARG_YESNO_PRE_QUESTION
   \   000000C8   ........           DC32     VAR_ARG_YESNO_QUESTION
   \   000000CC   ........           DC32     VAR_ARG_BOOK
   \   000000D0   ........           DC32     ??TerminateManager
   \   000000D4   ........           DC32     ACTION_YES
   \   000000D8   ........           DC32     ACTION_NO
   \   000000DC   ........           DC32     ??ReturnMyBook
   1473          
   1474          

   \                                 In segment CODE, align 4, keep-with-next
   1475          int RecreateBookList( void* r0, BOOK* bk )
   1476          {
   \                     ??RecreateBookList:
   \   00000000   10402DE9           PUSH     {R4,LR}
   \   00000004   0140A0E1           MOV      R4,R1
   1477          	MyBOOK* mbk = (MyBOOK*) bk;
   1478          	mbk->ActiveTAB=GetActiveTab(mbk);
   \   00000008   0400A0E1           MOV      R0,R4
   \   0000000C   ........           BL       ??GetActiveTab
   \   00000010   BC08C4E1           STRH     R0,[R4, #+140]
   1479          	CreateBookManagerGUI( mbk );
   \   00000014   0400A0E1           MOV      R0,R4
   \   00000018   ........           BL       ??CreateBookManagerGUI
   1480          	return(0);
   \   0000001C   0000A0E3           MOV      R0,#+0
   \   00000020   1080BDE8           POP      {R4,PC}          ;; return
   1481          }
   1482          
   1483          
   1484          // собственно старт

   \                                 In segment CODE, align 4, keep-with-next, root
   1485          __root int CreateBookList( void* r0, BOOK* bk )
   1486          {
   \                     ??CreateBookList:
   \   00000000   10402DE9           PUSH     {R4,LR}
   \   00000004   0140A0E1           MOV      R4,R1
   1487          	MyBOOK* mbk = (MyBOOK*) bk;
   1488          
   1489          	get_iconsID( mbk );
   \   00000008   0400A0E1           MOV      R0,R4
   \   0000000C   ........           BL       ??get_iconsID
   1490          
   1491          	if ( FirstTab )
   \   00000010   28009FE5           LDR      R0,??CreateBookList_1  ;; FirstTab
   \   00000014   000090E5           LDR      R0,[R0, #+0]
   \   00000018   000050E3           CMP      R0,#+0
   \   0000001C   0300000A           BEQ      ??CreateBookList_2
   1492          		mbk->ActiveTAB = FirstTab-1;
   \   00000020   FF10A0E3           MOV      R1,#+255
   \   00000024   FF1C81E3           ORR      R1,R1,#0xFF00
   \   00000028   000081E0           ADD      R0,R1,R0
   \   0000002C   BC08C4E1           STRH     R0,[R4, #+140]
   1493          
   1494          	CreateBookManagerGUI( mbk );
   \                     ??CreateBookList_2:
   \   00000030   0400A0E1           MOV      R0,R4
   \   00000034   ........           BL       ??CreateBookManagerGUI
   1495          	return 0;
   \   00000038   0000A0E3           MOV      R0,#+0
   \   0000003C   1080BDE8           POP      {R4,PC}          ;; return
   \                     ??CreateBookList_1:
   \   00000040   ........           DC32     FirstTab
   1496          }
   1497          
   1498          

   \                                 In segment CODE, align 4, keep-with-next
   1499          int IdlePage_EnterAction( void* r0, BOOK* bk )
   1500          {
   \                     ??IdlePage_EnterAction:
   \   00000000   10402DE9           PUSH     {R4,LR}
   \   00000004   0140A0E1           MOV      R4,R1
   1501          	MyBOOK* mbk = (MyBOOK*) bk;
   1502          
   1503          	DestroyAllGUIs(mbk);
   \   00000008   0400A0E1           MOV      R0,R4
   \   0000000C   ........           BL       ??DestroyAllGUIs
   1504          	DestroyBookAndElfsLists(mbk);
   \   00000010   0400A0E1           MOV      R0,R4
   \   00000014   ........           BL       ??DestroyBookAndElfsLists
   1505          	DestroyIcons(mbk);
   \   00000018   0400A0E1           MOV      R0,R4
   \   0000001C   ........           BL       ??DestroyIcons
   1506          
   1507          	BookObj_WindowSetWantsFocus(mbk,0,FALSE);
   \   00000020   0020A0E3           MOV      R2,#+0
   \   00000024   0010A0E3           MOV      R1,#+0
   \   00000028   0400A0E1           MOV      R0,R4
   \   0000002C   CE0300EF           SWI      +974
   1508          	BookObj_Hide(mbk,0);
   \   00000030   0010A0E3           MOV      R1,#+0
   \   00000034   0400A0E1           MOV      R0,R4
   \   00000038   710100EF           SWI      +369
   1509          	return 0;
   \   0000003C   0000A0E3           MOV      R0,#+0
   \   00000040   1080BDE8           POP      {R4,PC}          ;; return
   1510          }
   1511          
   1512          

   \                                 In segment CODE, align 4, keep-with-next
   1513          int ReconfigElf( void* mess, BOOK* book )
   1514          {
   \                     ??ReconfigElf:
   \   00000000   10402DE9           PUSH     {R4,LR}
   \   00000004   0040A0E1           MOV      R4,R0
   1515          	RECONFIG_EVENT_DATA* reconf = ( RECONFIG_EVENT_DATA* )mess;
   1516          
   1517          	if ( !wstrcmpi( reconf->path, successed_config_path ) && !wstrcmpi( reconf->name, successed_config_name ) )
   \   00000008   3C009FE5           LDR      R0,??ReconfigElf_1  ;; successed_config_path
   \   0000000C   001090E5           LDR      R1,[R0, #+0]
   \   00000010   0400A0E1           MOV      R0,R4
   \   00000014   9F0200EF           SWI      +671
   \   00000018   000050E3           CMP      R0,#+0
   \   0000001C   0800001A           BNE      ??ReconfigElf_2
   \   00000020   28009FE5           LDR      R0,??ReconfigElf_1+0x4  ;; successed_config_name
   \   00000024   001090E5           LDR      R1,[R0, #+0]
   \   00000028   800084E2           ADD      R0,R4,#+128
   \   0000002C   9F0200EF           SWI      +671
   \   00000030   000050E3           CMP      R0,#+0
   \   00000034   0200001A           BNE      ??ReconfigElf_2
   1518          	{
   1519          		InitConfig();
   \   00000038   ........           _BLF     ??InitConfig,??InitConfig??rA
   1520          		return 1;
   \   0000003C   0100A0E3           MOV      R0,#+1
   \   00000040   1080BDE8           POP      {R4,PC}
   1521          	}
   1522          	return 0;
   \                     ??ReconfigElf_2:
   \   00000044   0000A0E3           MOV      R0,#+0
   \   00000048   1080BDE8           POP      {R4,PC}          ;; return
   \                     ??ReconfigElf_1:
   \   0000004C   ........           DC32     successed_config_path
   \   00000050   ........           DC32     successed_config_name
   1523          }
   1524          
   1525          

   \                                 In segment CODE, align 4, keep-with-next
   1526          int NewKey( int key, int rep_count, int mode, MyBOOK * mbk, DISP_OBJ* disp_obj )
   1527          {
   \                     ??NewKey:
   \   00000000   F0432DE9           PUSH     {R4-R9,LR}
   \   00000004   0050A0E1           MOV      R5,R0
   \   00000008   1C809DE5           LDR      R8,[SP, #+28]
   \   0000000C   0160A0E1           MOV      R6,R1
   \   00000010   0270A0E1           MOV      R7,R2
   \   00000014   0340A0E1           MOV      R4,R3
   1528          	DISP_OBJ * disp;
   1529          
   1530          	BOOK * top_book = Display_GetTopBook(0);
   \   00000018   0000A0E3           MOV      R0,#+0
   \   0000001C   1B0300EF           SWI      +795
   \   00000020   0090A0E1           MOV      R9,R0
   1531          
   1532          	if ( mode == KeyStartPressMode )
   \   00000024   88019FE5           LDR      R0,??NewKey_1    ;; KeyStartPressMode
   \   00000028   000090E5           LDR      R0,[R0, #+0]
   \   0000002C   000057E1           CMP      R7,R0
   \   00000030   2600001A           BNE      ??NewKey_2
   1533          	{
   1534          		if ( key == KeyStart )
   \   00000034   7C019FE5           LDR      R0,??NewKey_1+0x4  ;; KeyStart
   \   00000038   000090E5           LDR      R0,[R0, #+0]
   \   0000003C   000055E1           CMP      R5,R0
   \   00000040   2200001A           BNE      ??NewKey_2
   1535          		{
   1536          			if ( isKeylocked() && !Ignore_KeyLock )
   \   00000044   B70100EF           SWI      +439
   \   00000048   000050E3           CMP      R0,#+0
   \   0000004C   0400000A           BEQ      ??NewKey_3
   \   00000050   64019FE5           LDR      R0,??NewKey_1+0x8  ;; Ignore_KeyLock
   \   00000054   000090E5           LDR      R0,[R0, #+0]
   \   00000058   000050E3           CMP      R0,#+0
   \   0000005C   0000001A           BNE      ??NewKey_3
   1537          				return 0;
   \                     ??NewKey_4:
   \   00000060   160000EA           B        ??NewKey_5
   1538          
   1539          			if ( top_book!=mbk )
   \                     ??NewKey_3:
   \   00000064   040059E1           CMP      R9,R4
   \   00000068   0A00000A           BEQ      ??NewKey_6
   1540          			{
   1541          				BookObj_WindowSetWantsFocus(mbk,0,TRUE);
   \   0000006C   0120A0E3           MOV      R2,#+1
   \   00000070   0010A0E3           MOV      R1,#+0
   \   00000074   0400A0E1           MOV      R0,R4
   \   00000078   CE0300EF           SWI      +974
   1542          				BookObj_SetFocus(mbk,0);
   \   0000007C   0010A0E3           MOV      R1,#+0
   \   00000080   0400A0E1           MOV      R0,R4
   \   00000084   320100EF           SWI      +306
   1543          				BookObj_GotoPage( mbk, &BookManager_Main_Page );
   \   00000088   30119FE5           LDR      R1,??NewKey_1+0xC  ;; BookManager_Main_Page
   \   0000008C   0400A0E1           MOV      R0,R4
   \   00000090   2D0100EF           SWI      +301
   1544          				return -1;
   \   00000094   440000EA           B        ??NewKey_7
   1545          			}
   1546          			else
   1547          			{
   1548          				if ( !mbk->mode_list && !mbk->YesNoQuestion && !mbk->StringInput )
   \                     ??NewKey_6:
   \   00000098   540094E5           LDR      R0,[R4, #+84]
   \   0000009C   000050E3           CMP      R0,#+0
   \   000000A0   5C009405           LDREQ    R0,[R4, #+92]
   \   000000A4   00005003           CMPEQ    R0,#+0
   \   000000A8   60009405           LDREQ    R0,[R4, #+96]
   \   000000AC   00005003           CMPEQ    R0,#+0
   \   000000B0   0400001A           BNE      ??NewKey_8
   1549          				{
   1550          					CloseMyBook( mbk, 0 );
   \   000000B4   0010A0E3           MOV      R1,#+0
   \   000000B8   0400A0E1           MOV      R0,R4
   \   000000BC   ........           BL       ??CloseMyBook
   1551          					return 0;
   \                     ??NewKey_5:
   \   000000C0   0000A0E3           MOV      R0,#+0
   \   000000C4   F083BDE8           POP      {R4-R9,PC}
   1552          				}
   1553          				return -1;
   \                     ??NewKey_8:
   \   000000C8   0000E0E3           MVN      R0,#+0
   \   000000CC   F083BDE8           POP      {R4-R9,PC}
   1554          			}
   1555          		}
   1556          	}
   1557          
   1558          	if ( top_book==mbk )
   \                     ??NewKey_2:
   \   000000D0   040059E1           CMP      R9,R4
   \   000000D4   F9FFFF1A           BNE      ??NewKey_5
   1559          	{
   1560          		if (MINIMIZE_TO_SESSION)
   \   000000D8   ........           LDR      R0,??DataTable37  ;; MINIMIZE_TO_SESSION
   \   000000DC   000090E5           LDR      R0,[R0, #+0]
   \   000000E0   000050E3           CMP      R0,#+0
   \   000000E4   F083BD08           POPEQ    {R4-R9,PC}
   1561          		{
   1562          			if ( key == KEY_LEFT || key == KEY_RIGHT )
   \   000000E8   D4009FE5           LDR      R0,??NewKey_1+0x10  ;; KEY_LEFT
   \   000000EC   000090E5           LDR      R0,[R0, #+0]
   \   000000F0   000055E1           CMP      R5,R0
   \   000000F4   0300000A           BEQ      ??NewKey_9
   \   000000F8   C8009FE5           LDR      R0,??NewKey_1+0x14  ;; KEY_RIGHT
   \   000000FC   000090E5           LDR      R0,[R0, #+0]
   \   00000100   000055E1           CMP      R5,R0
   \   00000104   1300001A           BNE      ??NewKey_10
   1563          			{
   1564          				if (mbk->oldOnKey)
   \                     ??NewKey_9:
   \   00000108   340094E5           LDR      R0,[R4, #+52]
   \   0000010C   000050E3           CMP      R0,#+0
   \   00000110   1000000A           BEQ      ??NewKey_10
   1565          				{
   1566          					if ( GetActiveTab(mbk) == BOOKLIST )
   \   00000114   0400A0E1           MOV      R0,R4
   \   00000118   ........           BL       ??GetActiveTab
   \   0000011C   000050E3           CMP      R0,#+0
   1567          						disp = GUIObject_GetDispObject(mbk->blist);
   \   00000120   4C009405           LDREQ    R0,[R4, #+76]
   1568          					else
   1569          						disp = GUIObject_GetDispObject(mbk->elist);
   \   00000124   50009415           LDRNE    R0,[R4, #+80]
   \   00000128   680100EF           SWI      +360
   1570          
   1571          					if (disp==disp_obj)
   \   0000012C   080050E1           CMP      R0,R8
   \   00000130   0800001A           BNE      ??NewKey_10
   1572          					{
   1573          						mbk->oldOnKey( disp, key, 0, rep_count, mode );
   \   00000134   80002DE9           PUSH     {R7}
   \   00000138   344094E5           LDR      R4,[R4, #+52]
   \   0000013C   0630A0E1           MOV      R3,R6
   \   00000140   0020A0E3           MOV      R2,#+0
   \   00000144   0510A0E1           MOV      R1,R5
   \   00000148   34FF2FE1           BLX      R4
   1574          						return -1;
   \   0000014C   0000E0E3           MVN      R0,#+0
   \   00000150   04D08DE2           ADD      SP,SP,#+4
   \   00000154   F083BDE8           POP      {R4-R9,PC}
   1575          					}
   1576          				}
   1577          			}
   1578          
   1579          			if ( key == KeyChangeTab && mode == KeyChangeTabPressMode )
   \                     ??NewKey_10:
   \   00000158   6C009FE5           LDR      R0,??NewKey_1+0x18  ;; KeyChangeTab
   \   0000015C   000090E5           LDR      R0,[R0, #+0]
   \   00000160   000055E1           CMP      R5,R0
   \   00000164   D5FFFF1A           BNE      ??NewKey_5
   \   00000168   60009FE5           LDR      R0,??NewKey_1+0x1C  ;; KeyChangeTabPressMode
   \   0000016C   000090E5           LDR      R0,[R0, #+0]
   \   00000170   000057E1           CMP      R7,R0
   \   00000174   D1FFFF1A           BNE      ??NewKey_5
   1580          			{
   1581          				if ( GetActiveTab(mbk) == BOOKLIST )
   \   00000178   0400A0E1           MOV      R0,R4
   \   0000017C   ........           BL       ??GetActiveTab
   \   00000180   000050E3           CMP      R0,#+0
   1582          					disp = GUIObject_GetDispObject(mbk->blist);
   \   00000184   4C009405           LDREQ    R0,[R4, #+76]
   1583          				else
   1584          					disp = GUIObject_GetDispObject(mbk->elist);
   \   00000188   50009415           LDRNE    R0,[R4, #+80]
   \   0000018C   680100EF           SWI      +360
   1585          
   1586          				if (disp==disp_obj)
   \   00000190   080050E1           CMP      R0,R8
   \   00000194   C9FFFF1A           BNE      ??NewKey_5
   1587          				{
   1588          					TabMenuBar_SetFocusedTab( mbk->gui, 1 - GetActiveTab(mbk) );
   \   00000198   0400A0E1           MOV      R0,R4
   \   0000019C   ........           BL       ??GetActiveTab
   \   000001A0   011060E2           RSB      R1,R0,#+1
   \   000001A4   180094E5           LDR      R0,[R4, #+24]
   \   000001A8   5E0200EF           SWI      +606
   1589          					return -1;
   \                     ??NewKey_7:
   \   000001AC   0000E0E3           MVN      R0,#+0
   \   000001B0   F083BDE8           POP      {R4-R9,PC}
   \                     ??NewKey_1:
   \   000001B4   ........           DC32     KeyStartPressMode
   \   000001B8   ........           DC32     KeyStart
   \   000001BC   ........           DC32     Ignore_KeyLock
   \   000001C0   ........           DC32     BookManager_Main_Page
   \   000001C4   ........           DC32     KEY_LEFT
   \   000001C8   ........           DC32     KEY_RIGHT
   \   000001CC   ........           DC32     KeyChangeTab
   \   000001D0   ........           DC32     KeyChangeTabPressMode
   1590          				}
   1591          			}
   1592          		}
   1593          	}
   1594          	return 0;
   1595          }
   1596          
   1597          

   \                                 In segment CODE, align 4, keep-with-next
   1598          MyBOOK * CreateBookManagerBook()
   1599          {
   \                     ??CreateBookManagerBook:
   \   00000000   30402DE9           PUSH     {R4,R5,LR}
   1600          	MyBOOK* mbk = (MyBOOK*) malloc( sizeof( MyBOOK ) );
   1601          	memset( mbk, 0, sizeof( MyBOOK ) );
   1602          	CreateBook( mbk, onMyBookClose, &BookManager_Base_Page, "BookManager", -1, 0 );
   \   00000004   ........           LDR      R5,??DataTable38  ;; `?<Constant "BookManager">`
   \   00000008   A400A0E3           MOV      R0,#+164
   \   0000000C   030100EF           SWI      +259
   \   00000010   0040A0E1           MOV      R4,R0
   \   00000014   A420A0E3           MOV      R2,#+164
   \   00000018   0010A0E3           MOV      R1,#+0
   \   0000001C   120100EF           SWI      +274
   \   00000020   0C119FE5           LDR      R1,??CreateBookManagerBook_1  ;; ??onMyBookClose
   \   00000024   0000A0E3           MOV      R0,#+0
   \   00000028   01002DE9           PUSH     {R0}
   \   0000002C   0530A0E1           MOV      R3,R5
   \   00000030   182085E2           ADD      R2,R5,#+24
   \   00000034   0000E0E1           MVN      R0,R0
   \   00000038   01002DE9           PUSH     {R0}
   \   0000003C   0400A0E1           MOV      R0,R4
   \   00000040   2B0100EF           SWI      +299
   1603          	//Init flags
   1604          	mbk->gui = 0;
   \   00000044   0000A0E3           MOV      R0,#+0
   \   00000048   180084E5           STR      R0,[R4, #+24]
   1605          	mbk->booknames_buf=0;
   \   0000004C   1C0084E5           STR      R0,[R4, #+28]
   1606          	mbk->booknames_buf_size=0;
   \   00000050   200084E5           STR      R0,[R4, #+32]
   1607          	mbk->shortcuts_buf = 0;
   \   00000054   240084E5           STR      R0,[R4, #+36]
   1608          	mbk->shortcuts_buf_size = 0;
   \   00000058   280084E5           STR      R0,[R4, #+40]
   1609          	mbk->hidden_buf = 0;
   \   0000005C   2C0084E5           STR      R0,[R4, #+44]
   1610          	mbk->hidden_buf_size = 0;
   \   00000060   300084E5           STR      R0,[R4, #+48]
   1611          	mbk->oldOnKey=0;
   \   00000064   340084E5           STR      R0,[R4, #+52]
   1612          	mbk->sessions_list = 0;
   \   00000068   380084E5           STR      R0,[R4, #+56]
   1613          	mbk->books_list = 0;
   \   0000006C   3C0084E5           STR      R0,[R4, #+60]
   1614          	mbk->elfs_list = 0;
   \   00000070   400084E5           STR      R0,[R4, #+64]
   1615          	mbk->java_list = 0;
   \   00000074   440084E5           STR      R0,[R4, #+68]
   1616          	mbk->java_list_menu = 0;
   \   00000078   480084E5           STR      R0,[R4, #+72]
   1617          	mbk->blist = 0;
   \   0000007C   4C0084E5           STR      R0,[R4, #+76]
   1618          	mbk->elist = 0;
   \   00000080   500084E5           STR      R0,[R4, #+80]
   1619          	mbk->mode_list = 0;
   \   00000084   540084E5           STR      R0,[R4, #+84]
   1620          	mbk->but_list = 0;
   \   00000088   580084E5           STR      R0,[R4, #+88]
   1621          	mbk->YesNoQuestion = 0;
   \   0000008C   5C0084E5           STR      R0,[R4, #+92]
   1622          	mbk->StringInput = 0;
   \   00000090   600084E5           STR      R0,[R4, #+96]
   1623          	mbk->MainMenuID = -1;
   \   00000094   0010E0E1           MVN      R1,R0
   \   00000098   801084E5           STR      R1,[R4, #+128]
   1624          	mbk->blistpos = 0;
   \   0000009C   B408C4E1           STRH     R0,[R4, #+132]
   1625          	mbk->elistpos = 0;
   \   000000A0   B608C4E1           STRH     R0,[R4, #+134]
   1626          	mbk->blistcnt = 0;
   \   000000A4   B808C4E1           STRH     R0,[R4, #+136]
   1627          	mbk->elistcnt = 0;
   \   000000A8   BA08C4E1           STRH     R0,[R4, #+138]
   1628          	mbk->ActiveTAB = 0;
   \   000000AC   BC08C4E1           STRH     R0,[R4, #+140]
   1629          	mbk->isA2 = FALSE;
   \   000000B0   900084E5           STR      R0,[R4, #+144]
   1630          	mbk->books_show_hid = books_show_hid;
   \   000000B4   7C009FE5           LDR      R0,??CreateBookManagerBook_1+0x4  ;; books_show_hid
   \   000000B8   000090E5           LDR      R0,[R0, #+0]
   \   000000BC   940084E5           STR      R0,[R4, #+148]
   1631          	mbk->books_show_nogui = books_show_nogui;
   \   000000C0   74009FE5           LDR      R0,??CreateBookManagerBook_1+0x8  ;; books_show_nogui
   \   000000C4   000090E5           LDR      R0,[R0, #+0]
   \   000000C8   980084E5           STR      R0,[R4, #+152]
   1632          	mbk->elfs_show_hid = elfs_show_hid;
   \   000000CC   6C009FE5           LDR      R0,??CreateBookManagerBook_1+0xC  ;; elfs_show_hid
   \   000000D0   000090E5           LDR      R0,[R0, #+0]
   \   000000D4   9C0084E5           STR      R0,[R4, #+156]
   1633          	mbk->elfs_show_nogui = elfs_show_nogui;
   \   000000D8   64009FE5           LDR      R0,??CreateBookManagerBook_1+0x10  ;; elfs_show_nogui
   \   000000DC   000090E5           LDR      R0,[R0, #+0]
   \   000000E0   A00084E5           STR      R0,[R4, #+160]
   1634          	//End init
   1635          	int platform=GetChipID()&CHIPID_MASK;
   \   000000E4   4E0200EF           SWI      +590
   \   000000E8   FE0C00E2           AND      R0,R0,#0xFE00
   1636          	if (platform==CHIPID_DB3150||platform==CHIPID_DB3200||platform==CHIPID_DB3210||platform==CHIPID_DB3350)
   \   000000EC   C80C50E3           CMP      R0,#+51200
   \   000000F0   08D08DE2           ADD      SP,SP,#+8
   \   000000F4   D80C5013           CMPNE    R0,#+55296
   \   000000F8   E80C5013           CMPNE    R0,#+59392
   \   000000FC   F00C5013           CMPNE    R0,#+61440
   1637          		mbk->isA2 = TRUE;
   \   00000100   0100A003           MOVEQ    R0,#+1
   \   00000104   90008405           STREQ    R0,[R4, #+144]
   1638          
   1639          	LoadBookNames(mbk);
   \   00000108   0400A0E1           MOV      R0,R4
   \   0000010C   ........           BL       ??LoadBookNames
   1640          	LoadShortcuts(mbk);
   \   00000110   0400A0E1           MOV      R0,R4
   \   00000114   ........           BL       ??LoadShortcuts
   1641          	LoadHidden(mbk);
   \   00000118   0400A0E1           MOV      R0,R4
   \   0000011C   ........           BL       ??LoadHidden
   1642          
   1643          	BookObj_GotoPage( mbk, &BookManager_Idle_Page);
   \   00000120   0C1085E2           ADD      R1,R5,#+12
   \   00000124   0400A0E1           MOV      R0,R4
   \   00000128   2D0100EF           SWI      +301
   1644          
   1645          	return mbk;
   \   0000012C   0400A0E1           MOV      R0,R4
   \   00000130   3080BDE8           POP      {R4,R5,PC}       ;; return
   \                     ??CreateBookManagerBook_1:
   \   00000134   ........           DC32     ??onMyBookClose
   \   00000138   ........           DC32     books_show_hid
   \   0000013C   ........           DC32     books_show_nogui
   \   00000140   ........           DC32     elfs_show_hid
   \   00000144   ........           DC32     elfs_show_nogui
   1646          }
   1647          
   1648          

   \                                 In segment CODE, align 4, keep-with-next
   1649          int main ( void )
   1650          {
   1651          	if ( !FindBook( isBookManager ) )
   \                     main:
   \   00000000   ........           LDR      R0,??DataTable39  ;; ??isBookManager
   \   00000004   10402DE9           PUSH     {R4,LR}
   \   00000008   04D04DE2           SUB      SP,SP,#+4
   \   0000000C   300100EF           SWI      +304
   \   00000010   000050E3           CMP      R0,#+0
   \   00000014   0B00001A           BNE      ??main_0
   1652          	{
   1653          		trace_init(L"bookmanmem.txt");
   1654          		InitConfig();
   \   00000018   ........           _BLF     ??InitConfig,??InitConfig??rA
   1655          		MODIFYKEYHOOK( NewKey, KEY_HOOK_ADD, CreateBookManagerBook() );
   \   0000001C   ........           BL       ??CreateBookManagerBook
   \   00000020   0010A0E1           MOV      R1,R0
   \   00000024   0D00A0E1           MOV      R0,SP
   \   00000028   ........           _BLF     ??LPARAM_1,??LPARAM??rA_1
   \   0000002C   ........           LDR      R0,??DataTable40  ;; ??NewKey
   \   00000030   ........           _BLF     ??MKKEYHOOKPROC,??MKKEYHOOKPROC??rA
   \   00000034   00209DE5           LDR      R2,[SP, #+0]
   \   00000038   0110A0E3           MOV      R1,#+1
   \   0000003C   070100EF           SWI      +263
   \   00000040   0000A0E3           MOV      R0,#+0
   \   00000044   1280BDE8           POP      {R1,R4,PC}
   1656          	}
   1657          	else
   1658          	{
   1659          		MessageBox( EMPTY_TEXTID, STR( "BookManager is already runed" ), NOIMAGE, 1, 5000, 0 );
   \                     ??main_0:
   \   00000048   4C009FE5           LDR      R0,??main_1      ;; `?<Constant L"\\x42\\x6f\\x6f\\x6b\\x4d\\x61\\x6e\\x61\\_1`
   \   0000004C   FF40A0E3           MOV      R4,#+255
   \   00000050   FF4C84E3           ORR      R4,R4,#0xFF00
   \   00000054   0420A0E1           MOV      R2,R4
   \   00000058   0010A0E3           MOV      R1,#+0
   \   0000005C   5D0100EF           SWI      +349
   \   00000060   0010A0E1           MOV      R1,R0
   \   00000064   0000A0E3           MOV      R0,#+0
   \   00000068   01002DE9           PUSH     {R0}
   \   0000006C   0130A0E3           MOV      R3,#+1
   \   00000070   0420A0E1           MOV      R2,R4
   \   00000074   8800A0E3           MOV      R0,#+136
   \   00000078   4C0D80E3           ORR      R0,R0,#0x1300
   \   0000007C   01002DE9           PUSH     {R0}
   \   00000080   9004E0E3           MVN      R0,#-1879048192
   \   00000084   570200EF           SWI      +599
   1660          		SUBPROC( elf_exit );
   \   00000088   ........           LDR      R0,??DataTable41  ;; ??elf_exit
   \   0000008C   080100EF           SWI      +264
   \   00000090   08D08DE2           ADD      SP,SP,#+8
   1661          	}
   1662          	return 0;
   \   00000094   0000A0E3           MOV      R0,#+0
   \   00000098   1280BDE8           POP      {R1,R4,PC}       ;; return
   \                     ??main_1:
   \   0000009C   ........           DC32     `?<Constant L"\\x42\\x6f\\x6f\\x6b\\x4d\\x61\\x6e\\x61\\_1`
   1663          }

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable0:
   \   00000000   ........           DC32     `?<Constant "BookManager">`

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable1:
   \   00000000   ........           DC32     ??isBookManager

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable5:
   \   00000000   ........           DC32     ??BOOK_LIST_ITEM_Filter

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable6:
   \   00000000   ........           DC32     ??BOOK_LIST_ITEM_Destroy

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable10:
   \   00000000   ........           DC32     MINIMIZE_TO_SESSION

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable11:
   \   00000000   ........           DC32     `?<Constant "[H] ">`

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable13:
   \   00000000   ........           DC32     ACTION_LONG_BACK

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable17:
   \   00000000   ........           DC32     `?<Constant L"\\x68\\x69\\x64\\x64\\x65\\x6e\\x2e\\x69\\`

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable19:
   \   00000000   ........           DC32     ??isBookManager

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable20:
   \   00000000   ........           DC32     RETURN_TO_STANDBY_EVENT

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable31:
   \   00000000   ........           DC32     ACTION_LONG_BACK

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable32:
   \   00000000   ........           DC32     ACTION_SELECT1

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable35:
   \   00000000   ........           DC32     ??CloseMyBook

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable36:
   \   00000000   ........           DC32     ACTION_BACK

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable37:
   \   00000000   ........           DC32     MINIMIZE_TO_SESSION

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable38:
   \   00000000   ........           DC32     `?<Constant "BookManager">`

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable39:
   \   00000000   ........           DC32     ??isBookManager

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable40:
   \   00000000   ........           DC32     ??NewKey

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable41:
   \   00000000   ........           DC32     ??elf_exit

   \                                 In segment DATA_ID, align 4, align-sorted
   \                     `?<Initializer for id_digits>`:
   \   00000000   ........           DC32 `?<Constant L"\\x46\\x4d\\x5f\\x52\\x41\\x44\\x49\\x4f\\_1`
   \   00000004   ........           DC32 `?<Constant L"\\x46\\x4d\\x5f\\x52\\x41\\x44\\x49\\x4f\\_2`
   \   00000008   ........           DC32 `?<Constant L"\\x46\\x4d\\x5f\\x52\\x41\\x44\\x49\\x4f\\_3`
   \   0000000C   ........           DC32 `?<Constant L"\\x46\\x4d\\x5f\\x52\\x41\\x44\\x49\\x4f\\_4`
   \   00000010   ........           DC32 `?<Constant L"\\x46\\x4d\\x5f\\x52\\x41\\x44\\x49\\x4f\\_5`
   \   00000014   ........           DC32 `?<Constant L"\\x46\\x4d\\x5f\\x52\\x41\\x44\\x49\\x4f\\_6`
   \   00000018   ........           DC32 `?<Constant L"\\x46\\x4d\\x5f\\x52\\x41\\x44\\x49\\x4f\\_7`
   \   0000001C   ........           DC32 `?<Constant L"\\x46\\x4d\\x5f\\x52\\x41\\x44\\x49\\x4f\\_8`
   \   00000020   ........           DC32 `?<Constant L"\\x46\\x4d\\x5f\\x52\\x41\\x44\\x49\\x4f\\`
   \   00000024   ........           DC32 `?<Constant L"\\x46\\x4d\\x5f\\x52\\x41\\x44\\x49\\x4f\\_9`
   \                     `?<Initializer for id_names>`:
   \   00000028   ........           DC32 `?<Constant L"\\x52\\x4e\\x5f\\x54\\x41\\x42\\x5f\\x53\\`
   \   0000002C   ........           DC32 `?<Constant L"\\x52\\x4e\\x5f\\x54\\x41\\x42\\x5f\\x53\\_1`
   \   00000030   ........           DC32 `?<Constant L"\\x52\\x4e\\x5f\\x54\\x41\\x42\\x5f\\x42\\`
   \   00000034   ........           DC32 `?<Constant L"\\x52\\x4e\\x5f\\x54\\x41\\x42\\x5f\\x42\\_1`
   \                     `?<Initializer for img_digits>`:
   \   00000038   ............       DC32 digit0, digit1, digit2, digit3, digit4, digit5, digit6, digit7
   \              ............
   \              ............
   \              ............
   \              ............
   \              ....        
   \   00000058   ............       DC32 digit8, digit9
   \              ....        
   \                     `?<Initializer for img_names>`:
   \   00000060   ............       DC32 tab1_inact, tab1_act, tab2_inact, tab2_act
   \              ............
   \              ........    

   \                                 In segment DATA_C, align 4, align-sorted
   \                     `?<Constant L"\\x46\\x4d\\x5f\\x52\\x41\\x44\\x49\\x4f\\`:
   \   00000000   46004D005F00       DC8 46H, 0, 4DH, 0, 5FH, 0, 52H, 0
   \              5200        
   \   00000008   410044004900       DC8 41H, 0, 44H, 0, 49H, 0, 4FH, 0
   \              4F00        
   \   00000010   5F004D004800       DC8 5FH, 0, 4DH, 0, 48H, 0, 5AH, 0
   \              5A00        
   \   00000018   5F0044004900       DC8 5FH, 0, 44H, 0, 49H, 0, 47H, 0
   \              4700        
   \   00000020   490054005F00       DC8 49H, 0, 54H, 0, 5FH, 0, 38H, 0
   \              3800        
   \   00000028   5F0049004300       DC8 5FH, 0, 49H, 0, 43H, 0, 4EH, 0
   \              4E00        
   \   00000030   0000               DC8 0, 0
   \   00000032   0000               DC8 0, 0

   \                                 In segment DATA_C, align 4, align-sorted
   \                     `?<Constant L"\\x48\\x65\\x61\\x70\\x20\\x3a\\x20">`:
   \   00000000   480065006100       DC8 48H, 0, 65H, 0, 61H, 0, 70H, 0
   \              7000        
   \   00000008   20003A002000       DC8 20H, 0, 3AH, 0, 20H, 0, 0, 0
   \              0000        
   \   00000010   480069006400       DC8 48H, 0, 69H, 0, 64H, 0, 65H, 0
   \              6500        
   \   00000018   200065006C00       DC8 20H, 0, 65H, 0, 6CH, 0, 66H, 0
   \              6600        
   \   00000020   0000               DC8 0, 0
   \   00000022   0000               DC8 0, 0
   \   00000024   530068006F00       DC8 53H, 0, 68H, 0, 6FH, 0, 77H, 0
   \              7700        
   \   0000002C   200065006C00       DC8 20H, 0, 65H, 0, 6CH, 0, 66H, 0
   \              6600        
   \   00000034   0000               DC8 0, 0
   \   00000036   0000               DC8 0, 0
   \   00000038   410075007400       DC8 41H, 0, 75H, 0, 74H, 0, 68H, 0
   \              6800        
   \   00000040   6F0072000000       DC8 6FH, 0, 72H, 0, 0, 0
   \   00000046   0000               DC8 0, 0
   \   00000048   45006C006600       DC8 45H, 0, 6CH, 0, 66H, 0, 73H, 0
   \              7300        
   \   00000050   0000               DC8 0, 0
   \   00000052   0000               DC8 0, 0
   \   00000054   410062006F00       DC8 41H, 0, 62H, 0, 6FH, 0, 75H, 0
   \              7500        
   \   0000005C   74000000           DC8 74H, 0, 0, 0
   \   00000060   530048004300       DC8 53H, 0, 48H, 0, 43H, 0, 5FH, 0
   \              5F00        
   \   00000068   450044004900       DC8 45H, 0, 44H, 0, 49H, 0, 54H, 0
   \              5400        
   \   00000070   5F0053004800       DC8 5FH, 0, 53H, 0, 48H, 0, 4FH, 0
   \              4F00        
   \   00000078   520054004300       DC8 52H, 0, 54H, 0, 43H, 0, 55H, 0
   \              5500        
   \   00000080   54005F005400       DC8 54H, 0, 5FH, 0, 54H, 0, 58H, 0
   \              5800        
   \   00000088   54000000           DC8 54H, 0, 0, 0
   \   0000008C   440042005F00       DC8 44H, 0, 42H, 0, 5FH, 0, 52H, 0
   \              5200        
   \   00000094   45004E004100       DC8 45H, 0, 4EH, 0, 41H, 0, 4DH, 0
   \              4D00        
   \   0000009C   45005F005400       DC8 45H, 0, 5FH, 0, 54H, 0, 58H, 0
   \              5800        
   \   000000A4   54000000           DC8 54H, 0, 0, 0
   \   000000A8   480069006400       DC8 48H, 0, 69H, 0, 64H, 0, 65H, 0
   \              6500        
   \   000000B0   200062006F00       DC8 20H, 0, 62H, 0, 6FH, 0, 6FH, 0
   \              6F00        
   \   000000B8   6B000000           DC8 6BH, 0, 0, 0
   \   000000BC   530068006F00       DC8 53H, 0, 68H, 0, 6FH, 0, 77H, 0
   \              7700        
   \   000000C4   200062006F00       DC8 20H, 0, 62H, 0, 6FH, 0, 6FH, 0
   \              6F00        
   \   000000CC   6B000000           DC8 6BH, 0, 0, 0
   \   000000D0   530068006F00       DC8 53H, 0, 68H, 0, 6FH, 0, 77H, 0
   \              7700        
   \   000000D8   200068006900       DC8 20H, 0, 68H, 0, 69H, 0, 64H, 0
   \              6400        
   \   000000E0   640065006E00       DC8 64H, 0, 65H, 0, 6EH, 0, 0, 0
   \              0000        
   \   000000E8   480069006400       DC8 48H, 0, 69H, 0, 64H, 0, 65H, 0
   \              6500        
   \   000000F0   200068006900       DC8 20H, 0, 68H, 0, 69H, 0, 64H, 0
   \              6400        
   \   000000F8   640065006E00       DC8 64H, 0, 65H, 0, 6EH, 0, 0, 0
   \              0000        
   \   00000100   530068006F00       DC8 53H, 0, 68H, 0, 6FH, 0, 77H, 0
   \              7700        
   \   00000108   20004E006F00       DC8 20H, 0, 4EH, 0, 6FH, 0, 47H, 0
   \              4700        
   \   00000110   550049000000       DC8 55H, 0, 49H, 0, 0, 0
   \   00000116   0000               DC8 0, 0
   \   00000118   480069006400       DC8 48H, 0, 69H, 0, 64H, 0, 65H, 0
   \              6500        
   \   00000120   20004E006F00       DC8 20H, 0, 4EH, 0, 6FH, 0, 47H, 0
   \              4700        
   \   00000128   550049000000       DC8 55H, 0, 49H, 0, 0, 0
   \   0000012E   0000               DC8 0, 0
   \   00000130   430041004C00       DC8 43H, 0, 41H, 0, 4CH, 0, 45H, 0
   \              4500        
   \   00000138   5F0041004400       DC8 5FH, 0, 41H, 0, 44H, 0, 56H, 0
   \              5600        
   \   00000140   41004E004300       DC8 41H, 0, 4EH, 0, 43H, 0, 45H, 0
   \              4500        
   \   00000148   44005F005400       DC8 44H, 0, 5FH, 0, 54H, 0, 58H, 0
   \              5800        
   \   00000150   54000000           DC8 54H, 0, 0, 0

   \                                 In segment DATA_C, align 4, align-sorted
   \                     `?<Constant L"\\x42\\x6f\\x6f\\x6b\\x4d\\x61\\x6e\\x61\\`:
   \   00000000   42006F006F00       DC8 42H, 0, 6FH, 0, 6FH, 0, 6BH, 0
   \              6B00        
   \   00000008   4D0061006E00       DC8 4DH, 0, 61H, 0, 6EH, 0, 61H, 0
   \              6100        
   \   00000010   670065007200       DC8 67H, 0, 65H, 0, 72H, 0, 0AH, 0
   \              0A00        
   \   00000018   0A0074006500       DC8 0AH, 0, 74H, 0, 65H, 0, 72H, 0
   \              7200        
   \   00000020   6D0069006E00       DC8 6DH, 0, 69H, 0, 6EH, 0, 61H, 0
   \              6100        
   \   00000028   740065006400       DC8 74H, 0, 65H, 0, 64H, 0, 0, 0
   \              0000        

   \                                 In segment DATA_C, align 4, align-sorted
   \                     `?<Constant "Exit command selected">`:
   \   00000000   457869742063       DC8 "Exit command selected"
   \              6F6D6D616E64
   \              2073656C6563
   \              74656400    
   \   00000016   0000               DC8 0, 0
   \   00000018   556E6C6F6164       DC8 "Unload?"
   \              3F00        

   \                                 In segment DATA_C, align 4, align-sorted
   \                     `?<Constant L"\\x73\\x68\\x6f\\x72\\x74\\x63\\x75\\x74\\`:
   \   00000000   730068006F00       DC8 73H, 0, 68H, 0, 6FH, 0, 72H, 0
   \              7200        
   \   00000008   740063007500       DC8 74H, 0, 63H, 0, 75H, 0, 74H, 0
   \              7400        
   \   00000010   73002E006900       DC8 73H, 0, 2EH, 0, 69H, 0, 6EH, 0
   \              6E00        
   \   00000018   69000000           DC8 69H, 0, 0, 0

   \                                 In segment DATA_C, align 4, align-sorted
   \                     `?<Constant L"\\x46\\x4d\\x5f\\x52\\x41\\x44\\x49\\x4f\\_1`:
   \   00000000   46004D005F00       DC8 46H, 0, 4DH, 0, 5FH, 0, 52H, 0
   \              5200        
   \   00000008   410044004900       DC8 41H, 0, 44H, 0, 49H, 0, 4FH, 0
   \              4F00        
   \   00000010   5F004D004800       DC8 5FH, 0, 4DH, 0, 48H, 0, 5AH, 0
   \              5A00        
   \   00000018   5F0044004900       DC8 5FH, 0, 44H, 0, 49H, 0, 47H, 0
   \              4700        
   \   00000020   490054005F00       DC8 49H, 0, 54H, 0, 5FH, 0, 30H, 0
   \              3000        
   \   00000028   5F0049004300       DC8 5FH, 0, 49H, 0, 43H, 0, 4EH, 0
   \              4E00        
   \   00000030   0000               DC8 0, 0
   \   00000032   0000               DC8 0, 0

   \                                 In segment DATA_C, align 4, align-sorted
   \                     `?<Constant L"\\x46\\x4d\\x5f\\x52\\x41\\x44\\x49\\x4f\\_2`:
   \   00000000   46004D005F00       DC8 46H, 0, 4DH, 0, 5FH, 0, 52H, 0
   \              5200        
   \   00000008   410044004900       DC8 41H, 0, 44H, 0, 49H, 0, 4FH, 0
   \              4F00        
   \   00000010   5F004D004800       DC8 5FH, 0, 4DH, 0, 48H, 0, 5AH, 0
   \              5A00        
   \   00000018   5F0044004900       DC8 5FH, 0, 44H, 0, 49H, 0, 47H, 0
   \              4700        
   \   00000020   490054005F00       DC8 49H, 0, 54H, 0, 5FH, 0, 31H, 0
   \              3100        
   \   00000028   5F0049004300       DC8 5FH, 0, 49H, 0, 43H, 0, 4EH, 0
   \              4E00        
   \   00000030   0000               DC8 0, 0
   \   00000032   0000               DC8 0, 0

   \                                 In segment DATA_C, align 4, align-sorted
   \                     `?<Constant L"\\x46\\x4d\\x5f\\x52\\x41\\x44\\x49\\x4f\\_3`:
   \   00000000   46004D005F00       DC8 46H, 0, 4DH, 0, 5FH, 0, 52H, 0
   \              5200        
   \   00000008   410044004900       DC8 41H, 0, 44H, 0, 49H, 0, 4FH, 0
   \              4F00        
   \   00000010   5F004D004800       DC8 5FH, 0, 4DH, 0, 48H, 0, 5AH, 0
   \              5A00        
   \   00000018   5F0044004900       DC8 5FH, 0, 44H, 0, 49H, 0, 47H, 0
   \              4700        
   \   00000020   490054005F00       DC8 49H, 0, 54H, 0, 5FH, 0, 32H, 0
   \              3200        
   \   00000028   5F0049004300       DC8 5FH, 0, 49H, 0, 43H, 0, 4EH, 0
   \              4E00        
   \   00000030   0000               DC8 0, 0
   \   00000032   0000               DC8 0, 0

   \                                 In segment DATA_C, align 4, align-sorted
   \                     `?<Constant L"\\x46\\x4d\\x5f\\x52\\x41\\x44\\x49\\x4f\\_4`:
   \   00000000   46004D005F00       DC8 46H, 0, 4DH, 0, 5FH, 0, 52H, 0
   \              5200        
   \   00000008   410044004900       DC8 41H, 0, 44H, 0, 49H, 0, 4FH, 0
   \              4F00        
   \   00000010   5F004D004800       DC8 5FH, 0, 4DH, 0, 48H, 0, 5AH, 0
   \              5A00        
   \   00000018   5F0044004900       DC8 5FH, 0, 44H, 0, 49H, 0, 47H, 0
   \              4700        
   \   00000020   490054005F00       DC8 49H, 0, 54H, 0, 5FH, 0, 33H, 0
   \              3300        
   \   00000028   5F0049004300       DC8 5FH, 0, 49H, 0, 43H, 0, 4EH, 0
   \              4E00        
   \   00000030   0000               DC8 0, 0
   \   00000032   0000               DC8 0, 0

   \                                 In segment DATA_C, align 4, align-sorted
   \                     `?<Constant L"\\x46\\x4d\\x5f\\x52\\x41\\x44\\x49\\x4f\\_5`:
   \   00000000   46004D005F00       DC8 46H, 0, 4DH, 0, 5FH, 0, 52H, 0
   \              5200        
   \   00000008   410044004900       DC8 41H, 0, 44H, 0, 49H, 0, 4FH, 0
   \              4F00        
   \   00000010   5F004D004800       DC8 5FH, 0, 4DH, 0, 48H, 0, 5AH, 0
   \              5A00        
   \   00000018   5F0044004900       DC8 5FH, 0, 44H, 0, 49H, 0, 47H, 0
   \              4700        
   \   00000020   490054005F00       DC8 49H, 0, 54H, 0, 5FH, 0, 34H, 0
   \              3400        
   \   00000028   5F0049004300       DC8 5FH, 0, 49H, 0, 43H, 0, 4EH, 0
   \              4E00        
   \   00000030   0000               DC8 0, 0
   \   00000032   0000               DC8 0, 0

   \                                 In segment DATA_C, align 4, align-sorted
   \                     `?<Constant L"\\x46\\x4d\\x5f\\x52\\x41\\x44\\x49\\x4f\\_6`:
   \   00000000   46004D005F00       DC8 46H, 0, 4DH, 0, 5FH, 0, 52H, 0
   \              5200        
   \   00000008   410044004900       DC8 41H, 0, 44H, 0, 49H, 0, 4FH, 0
   \              4F00        
   \   00000010   5F004D004800       DC8 5FH, 0, 4DH, 0, 48H, 0, 5AH, 0
   \              5A00        
   \   00000018   5F0044004900       DC8 5FH, 0, 44H, 0, 49H, 0, 47H, 0
   \              4700        
   \   00000020   490054005F00       DC8 49H, 0, 54H, 0, 5FH, 0, 35H, 0
   \              3500        
   \   00000028   5F0049004300       DC8 5FH, 0, 49H, 0, 43H, 0, 4EH, 0
   \              4E00        
   \   00000030   0000               DC8 0, 0
   \   00000032   0000               DC8 0, 0

   \                                 In segment DATA_C, align 4, align-sorted
   \                     `?<Constant L"\\x46\\x4d\\x5f\\x52\\x41\\x44\\x49\\x4f\\_7`:
   \   00000000   46004D005F00       DC8 46H, 0, 4DH, 0, 5FH, 0, 52H, 0
   \              5200        
   \   00000008   410044004900       DC8 41H, 0, 44H, 0, 49H, 0, 4FH, 0
   \              4F00        
   \   00000010   5F004D004800       DC8 5FH, 0, 4DH, 0, 48H, 0, 5AH, 0
   \              5A00        
   \   00000018   5F0044004900       DC8 5FH, 0, 44H, 0, 49H, 0, 47H, 0
   \              4700        
   \   00000020   490054005F00       DC8 49H, 0, 54H, 0, 5FH, 0, 36H, 0
   \              3600        
   \   00000028   5F0049004300       DC8 5FH, 0, 49H, 0, 43H, 0, 4EH, 0
   \              4E00        
   \   00000030   0000               DC8 0, 0
   \   00000032   0000               DC8 0, 0

   \                                 In segment DATA_C, align 4, align-sorted
   \                     `?<Constant L"\\x46\\x4d\\x5f\\x52\\x41\\x44\\x49\\x4f\\_8`:
   \   00000000   46004D005F00       DC8 46H, 0, 4DH, 0, 5FH, 0, 52H, 0
   \              5200        
   \   00000008   410044004900       DC8 41H, 0, 44H, 0, 49H, 0, 4FH, 0
   \              4F00        
   \   00000010   5F004D004800       DC8 5FH, 0, 4DH, 0, 48H, 0, 5AH, 0
   \              5A00        
   \   00000018   5F0044004900       DC8 5FH, 0, 44H, 0, 49H, 0, 47H, 0
   \              4700        
   \   00000020   490054005F00       DC8 49H, 0, 54H, 0, 5FH, 0, 37H, 0
   \              3700        
   \   00000028   5F0049004300       DC8 5FH, 0, 49H, 0, 43H, 0, 4EH, 0
   \              4E00        
   \   00000030   0000               DC8 0, 0
   \   00000032   0000               DC8 0, 0

   \                                 In segment DATA_C, align 4, align-sorted
   \                     `?<Constant L"\\x42\\x6f\\x6f\\x6b\\x4d\\x61\\x6e\\x61\\_1`:
   \   00000000   42006F006F00       DC8 42H, 0, 6FH, 0, 6FH, 0, 6BH, 0
   \              6B00        
   \   00000008   4D0061006E00       DC8 4DH, 0, 61H, 0, 6EH, 0, 61H, 0
   \              6100        
   \   00000010   670065007200       DC8 67H, 0, 65H, 0, 72H, 0, 20H, 0
   \              2000        
   \   00000018   690073002000       DC8 69H, 0, 73H, 0, 20H, 0, 61H, 0
   \              6100        
   \   00000020   6C0072006500       DC8 6CH, 0, 72H, 0, 65H, 0, 61H, 0
   \              6100        
   \   00000028   640079002000       DC8 64H, 0, 79H, 0, 20H, 0, 72H, 0
   \              7200        
   \   00000030   75006E006500       DC8 75H, 0, 6EH, 0, 65H, 0, 64H, 0
   \              6400        
   \   00000038   0000               DC8 0, 0
   \   0000003A   0000               DC8 0, 0

   \                                 In segment DATA_C, align 4, align-sorted
   \                     `?<Constant L"\\x46\\x4d\\x5f\\x52\\x41\\x44\\x49\\x4f\\_9`:
   \   00000000   46004D005F00       DC8 46H, 0, 4DH, 0, 5FH, 0, 52H, 0
   \              5200        
   \   00000008   410044004900       DC8 41H, 0, 44H, 0, 49H, 0, 4FH, 0
   \              4F00        
   \   00000010   5F004D004800       DC8 5FH, 0, 4DH, 0, 48H, 0, 5AH, 0
   \              5A00        
   \   00000018   5F0044004900       DC8 5FH, 0, 44H, 0, 49H, 0, 47H, 0
   \              4700        
   \   00000020   490054005F00       DC8 49H, 0, 54H, 0, 5FH, 0, 39H, 0
   \              3900        
   \   00000028   5F0049004300       DC8 5FH, 0, 49H, 0, 43H, 0, 4EH, 0
   \              4E00        
   \   00000030   0000               DC8 0, 0
   \   00000032   0000               DC8 0, 0

   \                                 In segment DATA_C, align 4, align-sorted
   \                     `?<Constant L"\\x52\\x4e\\x5f\\x54\\x41\\x42\\x5f\\x53\\`:
   \   00000000   52004E005F00       DC8 52H, 0, 4EH, 0, 5FH, 0, 54H, 0
   \              5400        
   \   00000008   410042005F00       DC8 41H, 0, 42H, 0, 5FH, 0, 53H, 0
   \              5300        
   \   00000010   450053005300       DC8 45H, 0, 53H, 0, 53H, 0, 49H, 0
   \              4900        
   \   00000018   4F004E005F00       DC8 4FH, 0, 4EH, 0, 5FH, 0, 4DH, 0
   \              4D00        
   \   00000020   41004E004100       DC8 41H, 0, 4EH, 0, 41H, 0, 47H, 0
   \              4700        
   \   00000028   450052005F00       DC8 45H, 0, 52H, 0, 5FH, 0, 44H, 0
   \              4400        
   \   00000030   450053004500       DC8 45H, 0, 53H, 0, 45H, 0, 4CH, 0
   \              4C00        
   \   00000038   450043005400       DC8 45H, 0, 43H, 0, 54H, 0, 45H, 0
   \              4500        
   \   00000040   44005F004900       DC8 44H, 0, 5FH, 0, 49H, 0, 43H, 0
   \              4300        
   \   00000048   4E000000           DC8 4EH, 0, 0, 0

   \                                 In segment DATA_C, align 4, align-sorted
   \                     `?<Constant L"\\x52\\x4e\\x5f\\x54\\x41\\x42\\x5f\\x53\\_1`:
   \   00000000   52004E005F00       DC8 52H, 0, 4EH, 0, 5FH, 0, 54H, 0
   \              5400        
   \   00000008   410042005F00       DC8 41H, 0, 42H, 0, 5FH, 0, 53H, 0
   \              5300        
   \   00000010   450053005300       DC8 45H, 0, 53H, 0, 53H, 0, 49H, 0
   \              4900        
   \   00000018   4F004E005F00       DC8 4FH, 0, 4EH, 0, 5FH, 0, 4DH, 0
   \              4D00        
   \   00000020   41004E004100       DC8 41H, 0, 4EH, 0, 41H, 0, 47H, 0
   \              4700        
   \   00000028   450052005F00       DC8 45H, 0, 52H, 0, 5FH, 0, 53H, 0
   \              5300        
   \   00000030   45004C004500       DC8 45H, 0, 4CH, 0, 45H, 0, 43H, 0
   \              4300        
   \   00000038   540045004400       DC8 54H, 0, 45H, 0, 44H, 0, 5FH, 0
   \              5F00        
   \   00000040   490043004E00       DC8 49H, 0, 43H, 0, 4EH, 0, 0, 0
   \              0000        

   \                                 In segment DATA_C, align 4, align-sorted
   \                     `?<Constant L"\\x52\\x4e\\x5f\\x54\\x41\\x42\\x5f\\x42\\`:
   \   00000000   52004E005F00       DC8 52H, 0, 4EH, 0, 5FH, 0, 54H, 0
   \              5400        
   \   00000008   410042005F00       DC8 41H, 0, 42H, 0, 5FH, 0, 42H, 0
   \              4200        
   \   00000010   4F004F004B00       DC8 4FH, 0, 4FH, 0, 4BH, 0, 4DH, 0
   \              4D00        
   \   00000018   410052004B00       DC8 41H, 0, 52H, 0, 4BH, 0, 53H, 0
   \              5300        
   \   00000020   5F0044004500       DC8 5FH, 0, 44H, 0, 45H, 0, 53H, 0
   \              5300        
   \   00000028   45004C004500       DC8 45H, 0, 4CH, 0, 45H, 0, 43H, 0
   \              4300        
   \   00000030   540045004400       DC8 54H, 0, 45H, 0, 44H, 0, 5FH, 0
   \              5F00        
   \   00000038   490043004E00       DC8 49H, 0, 43H, 0, 4EH, 0, 0, 0
   \              0000        

   \                                 In segment DATA_C, align 4, align-sorted
   \                     `?<Constant L"\\x52\\x4e\\x5f\\x54\\x41\\x42\\x5f\\x42\\_1`:
   \   00000000   52004E005F00       DC8 52H, 0, 4EH, 0, 5FH, 0, 54H, 0
   \              5400        
   \   00000008   410042005F00       DC8 41H, 0, 42H, 0, 5FH, 0, 42H, 0
   \              4200        
   \   00000010   4F004F004B00       DC8 4FH, 0, 4FH, 0, 4BH, 0, 4DH, 0
   \              4D00        
   \   00000018   410052004B00       DC8 41H, 0, 52H, 0, 4BH, 0, 53H, 0
   \              5300        
   \   00000020   5F0053004500       DC8 5FH, 0, 53H, 0, 45H, 0, 4CH, 0
   \              4C00        
   \   00000028   450043005400       DC8 45H, 0, 43H, 0, 54H, 0, 45H, 0
   \              4500        
   \   00000030   44005F004900       DC8 44H, 0, 5FH, 0, 49H, 0, 43H, 0
   \              4300        
   \   00000038   4E000000           DC8 4EH, 0, 0, 0

   \                                 In segment DATA_C, align 4, align-sorted
   \                     `?<Constant "BookManager_Main_Page">`:
   \   00000000   426F6F6B4D61       DC8 "BookManager_Main_Page"
   \              6E616765725F
   \              4D61696E5F50
   \              61676500    
   \   00000016   0000               DC8 0, 0

   \                                 In segment DATA_C, align 4, align-sorted
   \                     `?<Constant "BookManager_Idle_Page">`:
   \   00000000   426F6F6B4D61       DC8 "BookManager_Idle_Page"
   \              6E616765725F
   \              49646C655F50
   \              61676500    
   \   00000016   0000               DC8 0, 0

   \                                 In segment DATA_C, align 4, align-sorted
   \                     `?<Constant "BookManager_Base_Page">`:
   \   00000000   426F6F6B4D61       DC8 "BookManager_Base_Page"
   \              6E616765725F
   \              426173655F50
   \              61676500    
   \   00000016   0000               DC8 0, 0

   \                                 In segment DATA_C, align 4, align-sorted
   \                     `?<Constant L"\\x3a\\x20">`:
   \   00000000   3A0020000000       DC8 3AH, 0, 20H, 0, 0, 0
   \   00000006   0000               DC8 0, 0
   \   00000008   25002A005B00       DC8 25H, 0, 2AH, 0, 5BH, 0, 5EH, 0
   \              5E00        
   \   00000010   3A005D003A00       DC8 3AH, 0, 5DH, 0, 3AH, 0, 20H, 0
   \              2000        
   \   00000018   25006C005B00       DC8 25H, 0, 6CH, 0, 5BH, 0, 5EH, 0
   \              5E00        
   \   00000020   0D005D000000       DC8 0DH, 0, 5DH, 0, 0, 0
   \   00000026   0000               DC8 0, 0

   \                                 In segment DATA_C, align 4, align-sorted
   \                     `?<Constant L"\\x46\\x6f\\x72\\x65\\x69\\x67\\x6e\\x20\\`:
   \   00000000   46006F007200       DC8 46H, 0, 6FH, 0, 72H, 0, 65H, 0
   \              6500        
   \   00000008   690067006E00       DC8 69H, 0, 67H, 0, 6EH, 0, 20H, 0
   \              2000        
   \   00000010   610070007000       DC8 61H, 0, 70H, 0, 70H, 0, 0, 0
   \              0000        
   \   00000018   4A0061007600       DC8 4AH, 0, 61H, 0, 76H, 0, 61H, 0
   \              6100        
   \   00000020   0000               DC8 0, 0
   \   00000022   0000               DC8 0, 0

   \                                 In segment DATA_C, align 4, align-sorted
   \                     `?<Constant L"\\x2f\\x2f">`:
   \   00000000   2F002F000000       DC8 2FH, 0, 2FH, 0, 0, 0
   \   00000006   0000               DC8 0, 0

   \                                 In segment DATA_C, align 4, align-sorted
   \                     `?<Constant "CUIDisplayableBook">`:
   \   00000000   435549446973       DC8 "CUIDisplayableBook"
   \              706C61796162
   \              6C65426F6F6B
   \              00          
   \   00000013   00                 DC8 0

   \                                 In segment DATA_C, align 4, align-sorted
   \                     `?<Constant L"\\x2f\\x62\\x6f\\x6f\\x6b\\x6d\\x61\\x6e"`:
   \   00000000   2F0062006F00       DC8 2FH, 0, 62H, 0, 6FH, 0, 6FH, 0
   \              6F00        
   \   00000008   6B006D006100       DC8 6BH, 0, 6DH, 0, 61H, 0, 6EH, 0
   \              6E00        
   \   00000010   0000               DC8 0, 0
   \   00000012   0000               DC8 0, 0

   \                                 In segment DATA_C, align 4, align-sorted
   \                     `?<Constant L"\\x62\\x6f\\x6f\\x6b\\x6e\\x61\\x6d\\x65\\`:
   \   00000000   62006F006F00       DC8 62H, 0, 6FH, 0, 6FH, 0, 6BH, 0
   \              6B00        
   \   00000008   6E0061006D00       DC8 6EH, 0, 61H, 0, 6DH, 0, 65H, 0
   \              6500        
   \   00000010   73002E006900       DC8 73H, 0, 2EH, 0, 69H, 0, 6EH, 0
   \              6E00        
   \   00000018   69000000           DC8 69H, 0, 0, 0

   \                                 In segment DATA_C, align 4, align-sorted
   \                     `?<Constant L"\\x68\\x69\\x64\\x64\\x65\\x6e\\x2e\\x69\\`:
   \   00000000   680069006400       DC8 68H, 0, 69H, 0, 64H, 0, 64H, 0
   \              6400        
   \   00000008   65006E002E00       DC8 65H, 0, 6EH, 0, 2EH, 0, 69H, 0
   \              6900        
   \   00000010   6E0069000000       DC8 6EH, 0, 69H, 0, 0, 0
   \   00000016   0000               DC8 0, 0

   \                                 In segment DATA_C, align 4, align-sorted
   \                     `?<Constant "[H] ">`:
   \   00000000   5B485D2000         DC8 "[H] "
   \   00000005   000000             DC8 0, 0, 0
   \   00000008   430061006E00       DC8 43H, 0, 61H, 0, 6EH, 0, 27H, 0
   \              2700        
   \   00000010   740020007300       DC8 74H, 0, 20H, 0, 73H, 0, 65H, 0
   \              6500        
   \   00000018   740020006600       DC8 74H, 0, 20H, 0, 66H, 0, 6FH, 0
   \              6F00        
   \   00000020   630075007300       DC8 63H, 0, 75H, 0, 73H, 0, 20H, 0
   \              2000        
   \   00000028   74006F002000       DC8 74H, 0, 6FH, 0, 20H, 0, 65H, 0
   \              6500        
   \   00000030   6C0066002000       DC8 6CH, 0, 66H, 0, 20H, 0, 77H, 0
   \              7700        
   \   00000038   690074006800       DC8 69H, 0, 74H, 0, 68H, 0, 6FH, 0
   \              6F00        
   \   00000040   750074002000       DC8 75H, 0, 74H, 0, 20H, 0, 47H, 0
   \              4700        
   \   00000048   550049002E00       DC8 55H, 0, 49H, 0, 2EH, 0, 2EH, 0
   \              2E00        
   \   00000050   2E000000           DC8 2EH, 0, 0, 0

   \                                 In segment DATA_C, align 4, align-sorted
   \                     `?<Constant L"\\x43\\x61\\x6e\\x27\\x74\\x20\\x73\\x65\\_1`:
   \   00000000   430061006E00       DC8 43H, 0, 61H, 0, 6EH, 0, 27H, 0
   \              2700        
   \   00000008   740020007300       DC8 74H, 0, 20H, 0, 73H, 0, 65H, 0
   \              6500        
   \   00000010   740020006600       DC8 74H, 0, 20H, 0, 66H, 0, 6FH, 0
   \              6F00        
   \   00000018   630075007300       DC8 63H, 0, 75H, 0, 73H, 0, 20H, 0
   \              2000        
   \   00000020   74006F002000       DC8 74H, 0, 6FH, 0, 20H, 0, 62H, 0
   \              6200        
   \   00000028   6F006F006B00       DC8 6FH, 0, 6FH, 0, 6BH, 0, 20H, 0
   \              2000        
   \   00000030   770069007400       DC8 77H, 0, 69H, 0, 74H, 0, 68H, 0
   \              6800        
   \   00000038   6F0075007400       DC8 6FH, 0, 75H, 0, 74H, 0, 20H, 0
   \              2000        
   \   00000040   470055004900       DC8 47H, 0, 55H, 0, 49H, 0, 2EH, 0
   \              2E00        
   \   00000048   2E002E000000       DC8 2EH, 0, 2EH, 0, 0, 0
   \   0000004E   0000               DC8 0, 0

   \                                 In segment DATA_C, align 4, align-sorted
   \                     `?<Constant L"\\x54\\x65\\x72\\x6d\\x69\\x6e\\x61\\x74\\`:
   \   00000000   540065007200       DC8 54H, 0, 65H, 0, 72H, 0, 6DH, 0
   \              6D00        
   \   00000008   69006E006100       DC8 69H, 0, 6EH, 0, 61H, 0, 74H, 0
   \              7400        
   \   00000010   650045007600       DC8 65H, 0, 45H, 0, 76H, 0, 65H, 0
   \              6500        
   \   00000018   6E0074002000       DC8 6EH, 0, 74H, 0, 20H, 0, 6EH, 0
   \              6E00        
   \   00000020   6F0074002000       DC8 6FH, 0, 74H, 0, 20H, 0, 73H, 0
   \              7300        
   \   00000028   750070007000       DC8 75H, 0, 70H, 0, 70H, 0, 6FH, 0
   \              6F00        
   \   00000030   720074006500       DC8 72H, 0, 74H, 0, 65H, 0, 64H, 0
   \              6400        
   \   00000038   200062007900       DC8 20H, 0, 62H, 0, 79H, 0, 20H, 0
   \              2000        
   \   00000040   65006C006600       DC8 65H, 0, 6CH, 0, 66H, 0, 2EH, 0
   \              2E00        
   \   00000048   2E002E000000       DC8 2EH, 0, 2EH, 0, 0, 0
   \   0000004E   0000               DC8 0, 0

   \                                 In segment DATA_C, align 4, align-sorted
   \                     `?<Constant L"\\x41\\x75\\x74\\x68\\x6f\\x72\\x20\\x75\\`:
   \   00000000   410075007400       DC8 41H, 0, 75H, 0, 74H, 0, 68H, 0
   \              6800        
   \   00000008   6F0072002000       DC8 6FH, 0, 72H, 0, 20H, 0, 75H, 0
   \              7500        
   \   00000010   6E006B006E00       DC8 6EH, 0, 6BH, 0, 6EH, 0, 6FH, 0
   \              6F00        
   \   00000018   77006E000000       DC8 77H, 0, 6EH, 0, 0, 0
   \   0000001E   0000               DC8 0, 0

   \                                 In segment DATA_C, align 4, align-sorted
   \                     `?<Constant L"\\xa\\x42\\x6f\\x6f\\x6b\\x4d\\x61\\x6e\\x`:
   \   00000000   0A0042006F00       DC8 0AH, 0, 42H, 0, 6FH, 0, 6FH, 0
   \              6F00        
   \   00000008   6B004D006100       DC8 6BH, 0, 4DH, 0, 61H, 0, 6EH, 0
   \              6E00        
   \   00000010   610067006500       DC8 61H, 0, 67H, 0, 65H, 0, 72H, 0
   \              7200        
   \   00000018   200076003300       DC8 20H, 0, 76H, 0, 33H, 0, 2EH, 0
   \              2E00        
   \   00000020   340032000A00       DC8 34H, 0, 32H, 0, 0AH, 0, 62H, 0
   \              6200        
   \   00000028   750069006C00       DC8 75H, 0, 69H, 0, 6CH, 0, 64H, 0
   \              6400        
   \   00000030   200031003700       DC8 20H, 0, 31H, 0, 37H, 0, 30H, 0
   \              3000        
   \   00000038   310031003200       DC8 31H, 0, 31H, 0, 32H, 0, 0AH, 0
   \              0A00        
   \   00000040   43006F007000       DC8 43H, 0, 6FH, 0, 70H, 0, 79H, 0
   \              7900        
   \   00000048   720069006700       DC8 72H, 0, 69H, 0, 67H, 0, 68H, 0
   \              6800        
   \   00000050   740020002800       DC8 74H, 0, 20H, 0, 28H, 0, 63H, 0
   \              6300        
   \   00000058   290020003200       DC8 29H, 0, 20H, 0, 32H, 0, 30H, 0
   \              3000        
   \   00000060   300037002D00       DC8 30H, 0, 37H, 0, 2DH, 0, 32H, 0
   \              3200        
   \   00000068   300030003800       DC8 30H, 0, 30H, 0, 38H, 0, 0AH, 0
   \              0A00        
   \   00000070   480075007300       DC8 48H, 0, 75H, 0, 73H, 0, 73H, 0
   \              7300        
   \   00000078   650069006E00       DC8 65H, 0, 69H, 0, 6EH, 0, 0AH, 0
   \              0A00        
   \   00000080   0A0052006500       DC8 0AH, 0, 52H, 0, 65H, 0, 73H, 0
   \              7300        
   \   00000088   700065006300       DC8 70H, 0, 65H, 0, 63H, 0, 74H, 0
   \              7400        
   \   00000090   0A0049007200       DC8 0AH, 0, 49H, 0, 72H, 0, 6FH, 0
   \              6F00        
   \   00000098   6E004D006100       DC8 6EH, 0, 4DH, 0, 61H, 0, 73H, 0
   \              7300        
   \   000000A0   740065007200       DC8 74H, 0, 65H, 0, 72H, 0, 2CH, 0
   \              2C00        
   \   000000A8   20004B007200       DC8 20H, 0, 4BH, 0, 72H, 0, 65H, 0
   \              6500        
   \   000000B0   4E000A000A00       DC8 4EH, 0, 0AH, 0, 0AH, 0, 0, 0
   \              0000        

   \                                 In segment DATA_C, align 1, align-sorted
   \   00000000   0D0A00             DC8 "\015\012"

   \                                 In segment DATA_C, align 4, align-sorted
   \                     `?<Constant "java:">`:
   \   00000000   6A6176613A00       DC8 "java:"
   \   00000006   0000               DC8 0, 0

   \                                 In segment DATA_C, align 4, align-sorted
   \                     `?<Constant L"\\x5a\\x42\\x69\\x6e">`:
   \   00000000   5A0042006900       DC8 5AH, 0, 42H, 0, 69H, 0, 6EH, 0
   \              6E00        
   \   00000008   0000               DC8 0, 0
   \   0000000A   0000               DC8 0, 0
   \   0000000C   0A000A006E00       DC8 0AH, 0, 0AH, 0, 6EH, 0, 6FH, 0
   \              6F00        
   \   00000014   740020006600       DC8 74H, 0, 20H, 0, 66H, 0, 6FH, 0
   \              6F00        
   \   0000001C   75006E006400       DC8 75H, 0, 6EH, 0, 64H, 0, 2EH, 0
   \              2E00        
   \   00000024   2E000000           DC8 2EH, 0, 0, 0

   \                                 In segment DATA_C, align 4, align-sorted
   \                     `?<Constant "[S_KEY%d]">`:
   \   00000000   5B535F4B4559       DC8 "[S_KEY%d]"
   \              25645D00    
   \   0000000A   0000               DC8 0, 0
   \   0000000C   5B4C5F4B4559       DC8 "[L_KEY%d]"
   \              25645D00    
   \   00000016   0000               DC8 0, 0
   \   00000018   5B45535F4B45       DC8 "[ES_KEY%d]"
   \              5925645D00  
   \   00000023   00                 DC8 0
   \   00000024   5B454C5F4B45       DC8 "[EL_KEY%d]"
   \              5925645D00  
   \   0000002F   00                 DC8 0

   \                                 In segment DATA_C, align 4, align-sorted
   \                     `?<Constant L"\\x4e\\x6f\\x20\\x65\\x6c\\x66\\x73\\x20\\`:
   \   00000000   4E006F002000       DC8 4EH, 0, 6FH, 0, 20H, 0, 65H, 0
   \              6500        
   \   00000008   6C0066007300       DC8 6CH, 0, 66H, 0, 73H, 0, 20H, 0
   \              2000        
   \   00000010   69006E002000       DC8 69H, 0, 6EH, 0, 20H, 0, 6DH, 0
   \              6D00        
   \   00000018   65006D006F00       DC8 65H, 0, 6DH, 0, 6FH, 0, 72H, 0
   \              7200        
   \   00000020   79000000           DC8 79H, 0, 0, 0

   \                                 In segment DATA_C, align 4, align-sorted
   \                     `?<Constant L"\\x4e\\x6f\\x20\\x62\\x6f\\x6f\\x6b\\x73\\`:
   \   00000000   4E006F002000       DC8 4EH, 0, 6FH, 0, 20H, 0, 62H, 0
   \              6200        
   \   00000008   6F006F006B00       DC8 6FH, 0, 6FH, 0, 6BH, 0, 73H, 0
   \              7300        
   \   00000010   200069006E00       DC8 20H, 0, 69H, 0, 6EH, 0, 20H, 0
   \              2000        
   \   00000018   6D0065006D00       DC8 6DH, 0, 65H, 0, 6DH, 0, 6FH, 0
   \              6F00        
   \   00000020   720079000000       DC8 72H, 0, 79H, 0, 0, 0
   \   00000026   0000               DC8 0, 0

   Maximum stack usage in bytes:

     Function                       CSTACK
     --------                       ------
     Author(BOOK *, GUI *)             28
     BOOK_LIST_ITEM_Destroy(void *)     8
     BOOK_LIST_ITEM_Filter(void *)      0
     CheckEv(BOOK *, int)               0
     CloseMyBook(BOOK *, GUI *)         8
     Copyright(BOOK *, GUI *)          20
     CreateBookAndElfsLists(_MYBOOK *)
                                       28
     CreateBookList(void *, BOOK *)     8
     CreateBookManagerBook()           20
     CreateBookManagerGUI(_MYBOOK *)
                                       48
     DestroyAllGUIs(_MYBOOK *)         16
     DestroyBookAndElfsLists(_MYBOOK *)
                                       20
     DestroyIcons(_MYBOOK *)           12
     DestroyIniBuffers(_MYBOOK *)      12
     GetActiveTab(_MYBOOK *)            4
     GetBook(BOOK *, int)               4
     GetBookListItem(BOOK *, int)       4
     GetBooksFromSession(_MYBOOK *, UI_APP_SESSION *, LIST *, LIST *)
                                      100
     GetJavaName(BOOK *)              208
     GetUserBookName(wchar_t *, wchar_t *, wchar_t *)
                                      128
     GetUserBookNameTEXTID(char *)    220
     HiddenMode(BOOK *, GUI *)          8
     HideBook(BOOK *, GUI *)           84
     INHERITANCECHECK<DISP_OBJ, DISP_OBJ>()
                                        0
     IdlePage_EnterAction(void *, BOOK *)
                                        8
     JavaShortcut_GetID(wchar_t *)     28
     LPARAM::LPARAM(int)                0
     LPARAM::LPARAM(void *)             0
     List_Find_Back_Action(SOFTKEY_DESC *, int)
                                        0
     List_Find_Back_Action_A2(SOFTKEY_DESC_A2 *, int)
                                        0
     LoadBookNames(_MYBOOK *)          12
     LoadHidden(_MYBOOK *)             12
     LoadShortcuts(_MYBOOK *)          12
     MKKEYHOOKPROC(int (*)(int, int, int, _MYBOOK *, DISP_OBJ *))
                                        8
     NewKey(int, int, int, _MYBOOK *, DISP_OBJ *)
                                       32
     NoGUIMode(BOOK *, GUI *)           8
     PreTerminateManager(BOOK *, GUI *)
                                       36
     ReconfigElf(void *, BOOK *)        8
     RecreateBookList(void *, BOOK *)
                                        8
     RefreshBookSoftkeys(_MYBOOK *)    12
     RefreshElfSoftkeys(_MYBOOK *, int)
                                       12
     ReturnMyBook(BOOK *, GUI *)        8
     SESSION_LIST_ITEM_Destroy(void *)
                                        8
     SESSION_LIST_ITEM_Filter(void *)
                                        0
     ShowBook(BOOK *, GUI *)           32
     StartElf(wchar_t *, char *)       28
     StartShortcut_External(char *)    36
     StartShortcut_Internal(char *)   524
     TerminateManager(BOOK *, GUI *)
                                       24
     elf_exit()                         4
     get_file(wchar_t *, void **)      56
     get_iconsID(_MYBOOK *)           236
     get_path()                         8
     isBookManager(BOOK *)              4
     main()                            20
     myOnKey_Unified(DISP_OBJ *, int, int, int, int)
                                       52
     onCallback_Books(GUI_MESSAGE *)
                                       28
     onCallback_Books_GetItemName(BOOK_LIST_ITEM *)
                                       20
     onCallback_Elfs(GUI_MESSAGE *)    32
     onDelPressed()                     8
     onDelPressed_Books(BOOK *)        20
     onDelPressed_Elfs(BOOK *)         24
     onEnterPressed_Books(BOOK *, GUI *)
                                        8
     onEnterPressed_Elfs(BOOK *, GUI *)
                                        8
     onMyBookClose(BOOK *)              8
     onRootListChanged(void *, BOOK *)
                                        8
     onUserInactivity(void *, BOOK *)
                                        4


   Segment part sizes:

     Function/Label                 Bytes
     --------------                 -----
     LPARAM::LPARAM(int)               8
     LPARAM::LPARAM(void *)            8
     INHERITANCECHECK<DISP_OBJ, DISP_OBJ>()
                                       4
     MKKEYHOOKPROC(int (*)(int, int, int, _MYBOOK *, DISP_OBJ *))
                                      20
     id_digits                       112
     bk_main_msglst                   40
     BookManager_Main_Page            12
     bk_idle_msglst                   16
     bk_base_msglst                   16
     ?<Constant "BookManager">        36
     elf_exit()                       28
     GetActiveTab(_MYBOOK *)          16
     isBookManager(BOOK *)            40
     CheckEv(BOOK *, int)             72
     GetUserBookName(wchar_t *, wchar_t *, wchar_t *)
                                     136
     GetUserBookNameTEXTID(char *)    80
     GetJavaName(BOOK *)             104
     JavaShortcut_GetID(wchar_t *)   152
     GetBookListItem(BOOK *, int)    132
     GetBook(BOOK *, int)             24
     BOOK_LIST_ITEM_Filter(void *)    12
     BOOK_LIST_ITEM_Destroy(void *)   32
     SESSION_LIST_ITEM_Filter(void *)
                                      12
     SESSION_LIST_ITEM_Destroy(void *)
                                      48
     DestroyBookAndElfsLists(_MYBOOK *)
                                     140
     GetBooksFromSession(_MYBOOK *, UI_APP_SESSION *, LIST *, LIST *)
                                     552
     CreateBookAndElfsLists(_MYBOOK *)
                                     268
     get_path()                       76
     get_file(wchar_t *, void **)    156
     get_iconsID(_MYBOOK *)          364
     LoadBookNames(_MYBOOK *)         68
     LoadShortcuts(_MYBOOK *)         68
     LoadHidden(_MYBOOK *)            64
     onRootListChanged(void *, BOOK *)
                                      56
     onUserInactivity(void *, BOOK *)
                                      44
     onCallback_Books_GetItemName(BOOK_LIST_ITEM *)
                                      92
     onCallback_Books(GUI_MESSAGE *)
                                     476
     onCallback_Elfs(GUI_MESSAGE *)  264
     onEnterPressed_Books(BOOK *, GUI *)
                                      40
     onEnterPressed_Elfs(BOOK *, GUI *)
                                      48
     List_Find_Back_Action(SOFTKEY_DESC *, int)
                                      24
     List_Find_Back_Action_A2(SOFTKEY_DESC_A2 *, int)
                                      24
     onDelPressed_Books(BOOK *)      276
     onDelPressed_Elfs(BOOK *)       176
     onDelPressed()                   48
     Author(BOOK *, GUI *)           176
     Copyright(BOOK *, GUI *)         76
     HideBook(BOOK *, GUI *)         180
     ShowBook(BOOK *, GUI *)         224
     HiddenMode(BOOK *, GUI *)        92
     NoGUIMode(BOOK *, GUI *)         92
     StartElf(wchar_t *, char *)     256
     StartShortcut_Internal(char *)  100
     StartShortcut_External(char *)  216
     myOnKey_Unified(DISP_OBJ *, int, int, int, int)
                                     476
     RefreshElfSoftkeys(_MYBOOK *, int)
                                     356
     RefreshBookSoftkeys(_MYBOOK *)  328
     CreateBookManagerGUI(_MYBOOK *)
                                    2004
     DestroyIniBuffers(_MYBOOK *)     76
     DestroyAllGUIs(_MYBOOK *)       240
     DestroyIcons(_MYBOOK *)          68
     onMyBookClose(BOOK *)            40
     ReturnMyBook(BOOK *, GUI *)      48
     CloseMyBook(BOOK *, GUI *)       36
     TerminateManager(BOOK *, GUI *)
                                     132
     PreTerminateManager(BOOK *, GUI *)
                                     224
     RecreateBookList(void *, BOOK *)
                                      36
     CreateBookList(void *, BOOK *)   68
     IdlePage_EnterAction(void *, BOOK *)
                                      68
     ReconfigElf(void *, BOOK *)      84
     NewKey(int, int, int, _MYBOOK *, DISP_OBJ *)
                                     468
     CreateBookManagerBook()         328
     main()                          160
     ??DataTable0                      4
     ??DataTable1                      4
     ??DataTable5                      4
     ??DataTable6                      4
     ??DataTable10                     4
     ??DataTable11                     4
     ??DataTable13                     4
     ??DataTable17                     4
     ??DataTable19                     4
     ??DataTable20                     4
     ??DataTable31                     4
     ??DataTable32                     4
     ??DataTable35                     4
     ??DataTable36                     4
     ??DataTable37                     4
     ??DataTable38                     4
     ??DataTable39                     4
     ??DataTable40                     4
     ??DataTable41                     4
     ?<Initializer for id_digits>    112
     ?<Constant L"\x46\x4d\x5f\x52\x41\x44\x49\x4f\
                                      52
     ?<Constant L"\x48\x65\x61\x70\x20\x3a\x20">
                                     340
     ?<Constant L"\x42\x6f\x6f\x6b\x4d\x61\x6e\x61\
                                      48
     ?<Constant "Exit command selected">
                                      32
     ?<Constant L"\x73\x68\x6f\x72\x74\x63\x75\x74\
                                      28
     ?<Constant L"\x46\x4d\x5f\x52\x41\x44\x49\x4f\_1
                                      52
     ?<Constant L"\x46\x4d\x5f\x52\x41\x44\x49\x4f\_2
                                      52
     ?<Constant L"\x46\x4d\x5f\x52\x41\x44\x49\x4f\_3
                                      52
     ?<Constant L"\x46\x4d\x5f\x52\x41\x44\x49\x4f\_4
                                      52
     ?<Constant L"\x46\x4d\x5f\x52\x41\x44\x49\x4f\_5
                                      52
     ?<Constant L"\x46\x4d\x5f\x52\x41\x44\x49\x4f\_6
                                      52
     ?<Constant L"\x46\x4d\x5f\x52\x41\x44\x49\x4f\_7
                                      52
     ?<Constant L"\x46\x4d\x5f\x52\x41\x44\x49\x4f\_8
                                      52
     ?<Constant L"\x42\x6f\x6f\x6b\x4d\x61\x6e\x61\_1
                                      60
     ?<Constant L"\x46\x4d\x5f\x52\x41\x44\x49\x4f\_9
                                      52
     ?<Constant L"\x52\x4e\x5f\x54\x41\x42\x5f\x53\
                                      76
     ?<Constant L"\x52\x4e\x5f\x54\x41\x42\x5f\x53\_1
                                      72
     ?<Constant L"\x52\x4e\x5f\x54\x41\x42\x5f\x42\
                                      64
     ?<Constant L"\x52\x4e\x5f\x54\x41\x42\x5f\x42\_1
                                      60
     ?<Constant "BookManager_Main_Page">
                                      24
     ?<Constant "BookManager_Idle_Page">
                                      24
     ?<Constant "BookManager_Base_Page">
                                      24
     ?<Constant L"\x3a\x20">          40
     ?<Constant L"\x46\x6f\x72\x65\x69\x67\x6e\x20\
                                      36
     ?<Constant L"\x2f\x2f">           8
     ?<Constant "CUIDisplayableBook">
                                      20
     ?<Constant L"\x2f\x62\x6f\x6f\x6b\x6d\x61\x6e"
                                      20
     ?<Constant L"\x62\x6f\x6f\x6b\x6e\x61\x6d\x65\
                                      28
     ?<Constant L"\x68\x69\x64\x64\x65\x6e\x2e\x69\
                                      24
     ?<Constant "[H] ">               84
     ?<Constant L"\x43\x61\x6e\x27\x74\x20\x73\x65\_1
                                      80
     ?<Constant L"\x54\x65\x72\x6d\x69\x6e\x61\x74\
                                      80
     ?<Constant L"\x41\x75\x74\x68\x6f\x72\x20\x75\
                                      32
     ?<Constant L"\xa\x42\x6f\x6f\x6b\x4d\x61\x6e\x
                                     184
     ?<Constant "\r\n">                3
     ?<Constant "java:">               8
     ?<Constant L"\x5a\x42\x69\x6e">
                                      40
     ?<Constant "[S_KEY%d]">          48
     ?<Constant L"\x4e\x6f\x20\x65\x6c\x66\x73\x20\
                                      36
     ?<Constant L"\x4e\x6f\x20\x62\x6f\x6f\x6b\x73\
                                      40
      Others                         372

 
 11 340 bytes in segment CODE
  2 231 bytes in segment DATA_C
    112 bytes in segment DATA_I
    112 bytes in segment DATA_ID
     72 bytes in segment DYN_PAGE
     12 bytes in segment INITTAB
 
 10 940 bytes of CODE  memory (+ 412 bytes shared)
  2 415 bytes of CONST memory
    112 bytes of DATA  memory

Errors: none
Warnings: none
