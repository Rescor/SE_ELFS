//////////////////////////////////////////////////////////////////////////////
//                                                                           /
// IAR ARM ANSI C/C++ Compiler V4.42A/W32 EVALUATION   10/Jun/2013  23:00:46 /
// Copyright 1999-2005 IAR Systems. All rights reserved.                     /
//                                                                           /
//    Cpu mode        =  interwork                                           /
//    Endian          =  little                                              /
//    Stack alignment =  4                                                   /
//    Source file     =  Z:\home\perk11\www\perk11.info\svn\SE\BookManager\m /
//                       ain.c                                               /
//    Command line    =  Z:\home\perk11\www\perk11.info\svn\SE\BookManager\m /
//                       ain.c -D NDEBUG -lC Z:\home\perk11\www\perk11.info\ /
//                       svn\SE\BookManager\Release\List\ -lA                /
//                       Z:\home\perk11\www\perk11.info\svn\SE\BookManager\R /
//                       elease\List\ -o Z:\home\perk11\www\perk11.info\svn\ /
//                       SE\BookManager\Release\Obj\ -s9 --no_unroll         /
//                       --no_inline --cpu_mode arm --endian little --cpu    /
//                       ARM926EJ-S --stack_align 4 --interwork -e           /
//                       --enable_multibytes --fpu None --eec++              /
//                       --dlib_config Z:\home\perk11\IAR2\arm\LIB\dl5tpainl /
//                       8n.h --preinclude ..\deleaker\mem2.h -I             /
//                       Z:\home\perk11\IAR2\arm\INC\                        /
//    List file       =  Z:\home\perk11\www\perk11.info\svn\SE\BookManager\R /
//                       elease\List\main.s79                                /
//                                                                           /
//                                                                           /
//////////////////////////////////////////////////////////////////////////////

        NAME main

        RTMODEL "StackAlign4", "USED"
        RTMODEL "__cpu_mode", "__pcs__interwork"
        RTMODEL "__data_model", "absolute"
        RTMODEL "__endian", "little"
        RTMODEL "__rt_version", "6"

        RSEG CSTACK:DATA:NOROOT(2)

        ERROR
//NOTE: This module defines or uses C++ features that are not
//      accessible from assembler code. Assembling this file will
//      not produce an equivalent object file to the one produced
//      by the C++ compiler.

        PUBWEAK `?*?DATA_ID`
        PUBLIC ??Author
        FUNCTION ??Author,0603H
        LOCFRAME CSTACK, 28, STACK
        MULTWEAK ??Author??rT
        PUBLIC ??BOOK_LIST_ITEM_Destroy
        FUNCTION ??BOOK_LIST_ITEM_Destroy,0603H
        LOCFRAME CSTACK, 8, STACK
        MULTWEAK ??BOOK_LIST_ITEM_Destroy??rT
        PUBLIC ??BOOK_LIST_ITEM_Filter
        FUNCTION ??BOOK_LIST_ITEM_Filter,0603H
        MULTWEAK ??BOOK_LIST_ITEM_Filter??rT
        PUBLIC ??CheckEv
        FUNCTION ??CheckEv,0203H
        MULTWEAK ??CheckEv??rT
        PUBLIC ??CloseMyBook
        FUNCTION ??CloseMyBook,0603H
        LOCFRAME CSTACK, 8, STACK
        MULTWEAK ??CloseMyBook??rT
        PUBLIC ??Copyright
        FUNCTION ??Copyright,0603H
        LOCFRAME CSTACK, 20, STACK
        MULTWEAK ??Copyright??rT
        PUBLIC ??CreateBookAndElfsLists
        FUNCTION ??CreateBookAndElfsLists,0203H
        LOCFRAME CSTACK, 28, STACK
        MULTWEAK ??CreateBookAndElfsLists??rT
        PUBLIC ??CreateBookList
        FUNCTION ??CreateBookList,0603H
        LOCFRAME CSTACK, 8, STACK
        MULTWEAK ??CreateBookList??rT
        PUBLIC ??CreateBookManagerBook
        FUNCTION ??CreateBookManagerBook,0203H
        LOCFRAME CSTACK, 20, STACK
        MULTWEAK ??CreateBookManagerBook??rT
        PUBLIC ??CreateBookManagerGUI
        FUNCTION ??CreateBookManagerGUI,0203H
        LOCFRAME CSTACK, 48, STACK
        MULTWEAK ??CreateBookManagerGUI??rT
??DataTable12 EQU 0
??DataTable14 EQU 0
??DataTable15 EQU 0
??DataTable16 EQU 0
??DataTable18 EQU 0
??DataTable2 EQU 0
??DataTable21 EQU 0
??DataTable22 EQU 0
??DataTable23 EQU 0
??DataTable24 EQU 0
??DataTable25 EQU 0
??DataTable26 EQU 0
??DataTable27 EQU 0
??DataTable28 EQU 0
??DataTable29 EQU 0
??DataTable3 EQU 0
??DataTable30 EQU 0
??DataTable33 EQU 0
??DataTable34 EQU 0
??DataTable4 EQU 0
??DataTable7 EQU 0
??DataTable8 EQU 0
??DataTable9 EQU 0
        PUBLIC ??DestroyAllGUIs
        FUNCTION ??DestroyAllGUIs,0203H
        LOCFRAME CSTACK, 16, STACK
        MULTWEAK ??DestroyAllGUIs??rT
        PUBLIC ??DestroyBookAndElfsLists
        FUNCTION ??DestroyBookAndElfsLists,0203H
        LOCFRAME CSTACK, 20, STACK
        MULTWEAK ??DestroyBookAndElfsLists??rT
        PUBLIC ??DestroyIcons
        FUNCTION ??DestroyIcons,0203H
        LOCFRAME CSTACK, 12, STACK
        MULTWEAK ??DestroyIcons??rT
        PUBLIC ??DestroyIniBuffers
        FUNCTION ??DestroyIniBuffers,0203H
        LOCFRAME CSTACK, 12, STACK
        MULTWEAK ??DestroyIniBuffers??rT
        PUBLIC ??GetActiveTab
        FUNCTION ??GetActiveTab,0203H
        LOCFRAME CSTACK, 4, STACK
        MULTWEAK ??GetActiveTab??rT
        PUBLIC ??GetBook
        FUNCTION ??GetBook,0203H
        LOCFRAME CSTACK, 4, STACK
        MULTWEAK ??GetBook??rT
        PUBLIC ??GetBookListItem
        FUNCTION ??GetBookListItem,0203H
        LOCFRAME CSTACK, 4, STACK
        MULTWEAK ??GetBookListItem??rT
        PUBLIC ??GetBooksFromSession
        FUNCTION ??GetBooksFromSession,0203H
        LOCFRAME CSTACK, 100, STACK
        MULTWEAK ??GetBooksFromSession??rT
        PUBLIC ??GetJavaName
        FUNCTION ??GetJavaName,0203H
        LOCFRAME CSTACK, 208, STACK
        MULTWEAK ??GetJavaName??rT
        PUBLIC ??GetUserBookName
        FUNCTION ??GetUserBookName,0203H
        LOCFRAME CSTACK, 128, STACK
        MULTWEAK ??GetUserBookName??rT
        PUBLIC ??GetUserBookNameTEXTID
        FUNCTION ??GetUserBookNameTEXTID,0203H
        LOCFRAME CSTACK, 220, STACK
        MULTWEAK ??GetUserBookNameTEXTID??rT
        PUBLIC ??HiddenMode
        FUNCTION ??HiddenMode,0603H
        LOCFRAME CSTACK, 8, STACK
        MULTWEAK ??HiddenMode??rT
        PUBLIC ??HideBook
        FUNCTION ??HideBook,0603H
        LOCFRAME CSTACK, 84, STACK
        MULTWEAK ??HideBook??rT
        PUBWEAK ??INHERITANCECHECK
        FUNCTION ??INHERITANCECHECK,0203H
        MULTWEAK ??INHERITANCECHECK??rA
        PUBLIC ??IdlePage_EnterAction
        FUNCTION ??IdlePage_EnterAction,0603H
        LOCFRAME CSTACK, 8, STACK
        MULTWEAK ??IdlePage_EnterAction??rT
        MULTWEAK ??InitConfig??rA
        PUBLIC ??JavaShortcut_GetID
        FUNCTION ??JavaShortcut_GetID,0203H
        LOCFRAME CSTACK, 28, STACK
        MULTWEAK ??JavaShortcut_GetID??rT
        PUBWEAK ??LPARAM
        FUNCTION ??LPARAM,0203H
        MULTWEAK ??LPARAM??rA
        MULTWEAK ??LPARAM??rA_1
        PUBWEAK ??LPARAM_1
        FUNCTION ??LPARAM_1,0203H
        PUBLIC ??List_Find_Back_Action
        FUNCTION ??List_Find_Back_Action,0203H
        MULTWEAK ??List_Find_Back_Action??rT
        PUBLIC ??List_Find_Back_Action_A2
        FUNCTION ??List_Find_Back_Action_A2,0203H
        MULTWEAK ??List_Find_Back_Action_A2??rT
        PUBLIC ??LoadBookNames
        FUNCTION ??LoadBookNames,0203H
        LOCFRAME CSTACK, 12, STACK
        MULTWEAK ??LoadBookNames??rT
        PUBLIC ??LoadHidden
        FUNCTION ??LoadHidden,0203H
        LOCFRAME CSTACK, 12, STACK
        MULTWEAK ??LoadHidden??rT
        PUBLIC ??LoadShortcuts
        FUNCTION ??LoadShortcuts,0203H
        LOCFRAME CSTACK, 12, STACK
        MULTWEAK ??LoadShortcuts??rT
        PUBWEAK ??MKKEYHOOKPROC
        FUNCTION ??MKKEYHOOKPROC,0203H
        LOCFRAME CSTACK, 8, STACK
        MULTWEAK ??MKKEYHOOKPROC??rA
        PUBLIC ??NewKey
        FUNCTION ??NewKey,0603H
        LOCFRAME CSTACK, 32, STACK
        MULTWEAK ??NewKey??rT
        PUBLIC ??NoGUIMode
        FUNCTION ??NoGUIMode,0603H
        LOCFRAME CSTACK, 8, STACK
        MULTWEAK ??NoGUIMode??rT
        PUBLIC ??PreTerminateManager
        FUNCTION ??PreTerminateManager,0603H
        LOCFRAME CSTACK, 36, STACK
        MULTWEAK ??PreTerminateManager??rT
        PUBLIC ??ReconfigElf
        FUNCTION ??ReconfigElf,0603H
        LOCFRAME CSTACK, 8, STACK
        MULTWEAK ??ReconfigElf??rT
        PUBLIC ??RecreateBookList
        FUNCTION ??RecreateBookList,0603H
        LOCFRAME CSTACK, 8, STACK
        MULTWEAK ??RecreateBookList??rT
        PUBLIC ??RefreshBookSoftkeys
        FUNCTION ??RefreshBookSoftkeys,0203H
        LOCFRAME CSTACK, 12, STACK
        MULTWEAK ??RefreshBookSoftkeys??rT
        PUBLIC ??RefreshElfSoftkeys
        FUNCTION ??RefreshElfSoftkeys,0203H
        LOCFRAME CSTACK, 12, STACK
        MULTWEAK ??RefreshElfSoftkeys??rT
        PUBLIC ??ReturnMyBook
        FUNCTION ??ReturnMyBook,0603H
        LOCFRAME CSTACK, 8, STACK
        MULTWEAK ??ReturnMyBook??rT
        PUBLIC ??SESSION_LIST_ITEM_Destroy
        FUNCTION ??SESSION_LIST_ITEM_Destroy,0603H
        LOCFRAME CSTACK, 8, STACK
        MULTWEAK ??SESSION_LIST_ITEM_Destroy??rT
        PUBLIC ??SESSION_LIST_ITEM_Filter
        FUNCTION ??SESSION_LIST_ITEM_Filter,0603H
        MULTWEAK ??SESSION_LIST_ITEM_Filter??rT
        PUBLIC ??ShowBook
        FUNCTION ??ShowBook,0603H
        LOCFRAME CSTACK, 32, STACK
        MULTWEAK ??ShowBook??rT
        PUBLIC ??StartElf
        FUNCTION ??StartElf,0203H
        LOCFRAME CSTACK, 28, STACK
        MULTWEAK ??StartElf??rT
        PUBLIC ??StartShortcut_External
        FUNCTION ??StartShortcut_External,0203H
        LOCFRAME CSTACK, 36, STACK
        MULTWEAK ??StartShortcut_External??rT
        PUBLIC ??StartShortcut_Internal
        FUNCTION ??StartShortcut_Internal,0203H
        LOCFRAME CSTACK, 524, STACK
        MULTWEAK ??StartShortcut_Internal??rT
        PUBLIC ??TerminateManager
        FUNCTION ??TerminateManager,0603H
        LOCFRAME CSTACK, 24, STACK
        MULTWEAK ??TerminateManager??rT
        PUBLIC ??elf_exit
        FUNCTION ??elf_exit,0603H
        LOCFRAME CSTACK, 4, STACK
        MULTWEAK ??elf_exit??rT
        PUBLIC ??get_file
        FUNCTION ??get_file,0203H
        LOCFRAME CSTACK, 56, STACK
        MULTWEAK ??get_file??rT
        PUBLIC ??get_iconsID
        FUNCTION ??get_iconsID,0203H
        LOCFRAME CSTACK, 236, STACK
        MULTWEAK ??get_iconsID??rT
        PUBLIC ??get_path
        FUNCTION ??get_path,0203H
        LOCFRAME CSTACK, 8, STACK
        MULTWEAK ??get_path??rT
        PUBLIC ??isBookManager
        FUNCTION ??isBookManager,0603H
        LOCFRAME CSTACK, 4, STACK
        MULTWEAK ??isBookManager??rT
        MULTWEAK ??kill_data??rA
        MULTWEAK ??main??rT
        PUBLIC ??myOnKey_Unified
        FUNCTION ??myOnKey_Unified,0603H
        LOCFRAME CSTACK, 52, STACK
        MULTWEAK ??myOnKey_Unified??rT
        PUBLIC ??onCallback_Books
        FUNCTION ??onCallback_Books,0603H
        LOCFRAME CSTACK, 28, STACK
        MULTWEAK ??onCallback_Books??rT
        PUBLIC ??onCallback_Books_GetItemName
        FUNCTION ??onCallback_Books_GetItemName,0203H
        LOCFRAME CSTACK, 20, STACK
        MULTWEAK ??onCallback_Books_GetItemName??rT
        PUBLIC ??onCallback_Elfs
        FUNCTION ??onCallback_Elfs,0603H
        LOCFRAME CSTACK, 32, STACK
        MULTWEAK ??onCallback_Elfs??rT
        PUBLIC ??onDelPressed
        FUNCTION ??onDelPressed,0203H
        LOCFRAME CSTACK, 8, STACK
        MULTWEAK ??onDelPressed??rT
        PUBLIC ??onDelPressed_Books
        FUNCTION ??onDelPressed_Books,0203H
        LOCFRAME CSTACK, 20, STACK
        MULTWEAK ??onDelPressed_Books??rT
        PUBLIC ??onDelPressed_Elfs
        FUNCTION ??onDelPressed_Elfs,0203H
        LOCFRAME CSTACK, 24, STACK
        MULTWEAK ??onDelPressed_Elfs??rT
        PUBLIC ??onEnterPressed_Books
        FUNCTION ??onEnterPressed_Books,0603H
        LOCFRAME CSTACK, 8, STACK
        MULTWEAK ??onEnterPressed_Books??rT
        PUBLIC ??onEnterPressed_Elfs
        FUNCTION ??onEnterPressed_Elfs,0603H
        LOCFRAME CSTACK, 8, STACK
        MULTWEAK ??onEnterPressed_Elfs??rT
        PUBLIC ??onMyBookClose
        FUNCTION ??onMyBookClose,0603H
        LOCFRAME CSTACK, 8, STACK
        MULTWEAK ??onMyBookClose??rT
        PUBLIC ??onRootListChanged
        FUNCTION ??onRootListChanged,0603H
        LOCFRAME CSTACK, 8, STACK
        MULTWEAK ??onRootListChanged??rT
        PUBLIC ??onUserInactivity
        FUNCTION ??onUserInactivity,0603H
        LOCFRAME CSTACK, 4, STACK
        MULTWEAK ??onUserInactivity??rT
        MULTWEAK `??operator delete??rA`
        MULTWEAK `??operator new??rA`
        MULTWEAK `??operator new[]??rA`
        PUBWEAK ?init?tab?DATA_I
        PUBLIC id_digits
        PUBLIC id_names
        PUBLIC img_digits
        PUBLIC img_names
        PUBLIC main
        FUNCTION main,0a03H
        LOCFRAME CSTACK, 20, STACK
        
        CFI Names cfiNames0
        CFI StackFrame CFA R13 HUGEDATA
        CFI Resource R0:32, R1:32, R2:32, R3:32, R4:32, R5:32, R6:32, R7:32
        CFI Resource R8:32, R9:32, R10:32, R11:32, R12:32, CPSR:32, R13:32
        CFI Resource R14:32, SPSR:32
        CFI VirtualResource ?RET:32
        CFI EndNames cfiNames0
        
        CFI Common cfiCommon0 Using cfiNames0
        CFI CodeAlign 4
        CFI DataAlign 4
        CFI ReturnAddress ?RET CODE
        CFI CFA R13+0
        CFI R0 Undefined
        CFI R1 Undefined
        CFI R2 Undefined
        CFI R3 Undefined
        CFI R4 SameValue
        CFI R5 SameValue
        CFI R6 SameValue
        CFI R7 SameValue
        CFI R8 SameValue
        CFI R9 SameValue
        CFI R10 SameValue
        CFI R11 SameValue
        CFI R12 Undefined
        CFI CPSR SameValue
        CFI R14 Undefined
        CFI SPSR SameValue
        CFI ?RET R14
        CFI EndCommon cfiCommon0
        
        
        CFI Common cfiCommon1 Using cfiNames0
        CFI CodeAlign 2
        CFI DataAlign 4
        CFI ReturnAddress ?RET CODE
        CFI CFA R13+0
        CFI R0 Undefined
        CFI R1 Undefined
        CFI R2 Undefined
        CFI R3 Undefined
        CFI R4 SameValue
        CFI R5 SameValue
        CFI R6 SameValue
        CFI R7 SameValue
        CFI R8 SameValue
        CFI R9 SameValue
        CFI R10 SameValue
        CFI R11 SameValue
        CFI R12 Undefined
        CFI CPSR SameValue
        CFI R14 Undefined
        CFI SPSR SameValue
        CFI ?RET R14
        CFI EndCommon cfiCommon1
        




kill_data           SYMBOL "kill_data"

??Author??rT        SYMBOL "??rT", ??Author

??BOOK_LIST_ITEM_Destroy??rT SYMBOL "??rT", ??BOOK_LIST_ITEM_Destroy

??BOOK_LIST_ITEM_Filter??rT SYMBOL "??rT", ??BOOK_LIST_ITEM_Filter

??CheckEv??rT       SYMBOL "??rT", ??CheckEv

??CloseMyBook??rT   SYMBOL "??rT", ??CloseMyBook

??Copyright??rT     SYMBOL "??rT", ??Copyright

??CreateBookAndElfsLists??rT SYMBOL "??rT", ??CreateBookAndElfsLists

??CreateBookList??rT SYMBOL "??rT", ??CreateBookList

??CreateBookManagerBook??rT SYMBOL "??rT", ??CreateBookManagerBook

??CreateBookManagerGUI??rT SYMBOL "??rT", ??CreateBookManagerGUI

??DestroyAllGUIs??rT SYMBOL "??rT", ??DestroyAllGUIs

??DestroyBookAndElfsLists??rT SYMBOL "??rT", ??DestroyBookAndElfsLists

??DestroyIcons??rT  SYMBOL "??rT", ??DestroyIcons

??DestroyIniBuffers??rT SYMBOL "??rT", ??DestroyIniBuffers

??GetActiveTab??rT  SYMBOL "??rT", ??GetActiveTab

??GetBook??rT       SYMBOL "??rT", ??GetBook

??GetBookListItem??rT SYMBOL "??rT", ??GetBookListItem

??GetBooksFromSession??rT SYMBOL "??rT", ??GetBooksFromSession

??GetJavaName??rT   SYMBOL "??rT", ??GetJavaName

??GetUserBookName??rT SYMBOL "??rT", ??GetUserBookName

??GetUserBookNameTEXTID??rT SYMBOL "??rT", ??GetUserBookNameTEXTID

??HiddenMode??rT    SYMBOL "??rT", ??HiddenMode

??HideBook??rT      SYMBOL "??rT", ??HideBook

??INHERITANCECHECK??rA SYMBOL "??rA", ??INHERITANCECHECK

??IdlePage_EnterAction??rT SYMBOL "??rT", ??IdlePage_EnterAction
??InitConfig??rA    SYMBOL "??rA", ??InitConfig

??JavaShortcut_GetID??rT SYMBOL "??rT", ??JavaShortcut_GetID

??LPARAM??rA        SYMBOL "??rA", ??LPARAM

??LPARAM??rA_1      SYMBOL "??rA", ??LPARAM_1

??List_Find_Back_Action??rT SYMBOL "??rT", ??List_Find_Back_Action

??List_Find_Back_Action_A2??rT SYMBOL "??rT", ??List_Find_Back_Action_A2

??LoadBookNames??rT SYMBOL "??rT", ??LoadBookNames

??LoadHidden??rT    SYMBOL "??rT", ??LoadHidden

??LoadShortcuts??rT SYMBOL "??rT", ??LoadShortcuts

??MKKEYHOOKPROC??rA SYMBOL "??rA", ??MKKEYHOOKPROC

??NewKey??rT        SYMBOL "??rT", ??NewKey

??NoGUIMode??rT     SYMBOL "??rT", ??NoGUIMode

??PreTerminateManager??rT SYMBOL "??rT", ??PreTerminateManager

??ReconfigElf??rT   SYMBOL "??rT", ??ReconfigElf

??RecreateBookList??rT SYMBOL "??rT", ??RecreateBookList

??RefreshBookSoftkeys??rT SYMBOL "??rT", ??RefreshBookSoftkeys

??RefreshElfSoftkeys??rT SYMBOL "??rT", ??RefreshElfSoftkeys

??ReturnMyBook??rT  SYMBOL "??rT", ??ReturnMyBook

??SESSION_LIST_ITEM_Destroy??rT SYMBOL "??rT", ??SESSION_LIST_ITEM_Destroy

??SESSION_LIST_ITEM_Filter??rT SYMBOL "??rT", ??SESSION_LIST_ITEM_Filter

??ShowBook??rT      SYMBOL "??rT", ??ShowBook

??StartElf??rT      SYMBOL "??rT", ??StartElf

??StartShortcut_External??rT SYMBOL "??rT", ??StartShortcut_External

??StartShortcut_Internal??rT SYMBOL "??rT", ??StartShortcut_Internal

??TerminateManager??rT SYMBOL "??rT", ??TerminateManager

??elf_exit??rT      SYMBOL "??rT", ??elf_exit

??get_file??rT      SYMBOL "??rT", ??get_file

??get_iconsID??rT   SYMBOL "??rT", ??get_iconsID

??get_path??rT      SYMBOL "??rT", ??get_path

??isBookManager??rT SYMBOL "??rT", ??isBookManager
??kill_data??rA     SYMBOL "??rA", kill_data
main                SYMBOL "main"
??main??rT          SYMBOL "??rT", main

??myOnKey_Unified??rT SYMBOL "??rT", ??myOnKey_Unified

??onCallback_Books??rT SYMBOL "??rT", ??onCallback_Books

??onCallback_Books_GetItemName??rT SYMBOL "??rT", ??onCallback_Books_GetItemName

??onCallback_Elfs??rT SYMBOL "??rT", ??onCallback_Elfs

??onDelPressed??rT  SYMBOL "??rT", ??onDelPressed

??onDelPressed_Books??rT SYMBOL "??rT", ??onDelPressed_Books

??onDelPressed_Elfs??rT SYMBOL "??rT", ??onDelPressed_Elfs

??onEnterPressed_Books??rT SYMBOL "??rT", ??onEnterPressed_Books

??onEnterPressed_Elfs??rT SYMBOL "??rT", ??onEnterPressed_Elfs

??onMyBookClose??rT SYMBOL "??rT", ??onMyBookClose

??onRootListChanged??rT SYMBOL "??rT", ??onRootListChanged

??onUserInactivity??rT SYMBOL "??rT", ??onUserInactivity
`??operator delete??rA` SYMBOL "??rA", `??operator delete`
`??operator new??rA` SYMBOL "??rA", `??operator new`
`??operator new[]??rA` SYMBOL "??rA", `??operator new[]`

        EXTERN ??BookNames
        FUNCTION ??BookNames,0602H
        EXTERN ??InitConfig
        FUNCTION ??InitConfig,0202H
        EXTERN ??Shortcuts
        FUNCTION ??Shortcuts,0602H
        EXTERN ??elem_filter
        FUNCTION ??elem_filter,0602H
        EXTERN ??elem_free
        FUNCTION ??elem_free,0602H
        EXTERN `??operator delete`
        FUNCTION `??operator delete`,0202H
        EXTERN `??operator new`
        FUNCTION `??operator new`,0202H
        EXTERN `??operator new[]`
        FUNCTION `??operator new[]`,0202H
        EXTERN ACTION_BACK
        EXTERN ACTION_LONG_BACK
        EXTERN ACTION_NO
        EXTERN ACTION_SELECT1
        EXTERN ACTION_YES
        EXTERN ASYNC
        EXTERN ELF_BEGIN
        EXTERN FirstTab
        EXTERN Ignore_KeyLock
        EXTERN KBD_LONG_PRESS
        EXTERN KBD_SHORT_RELEASE
        EXTERN KEY_DEL
        EXTERN KEY_DIGITAL_0
        EXTERN KEY_LEFT
        EXTERN KEY_RIGHT
        EXTERN KeyChangeTab
        EXTERN KeyChangeTabPressMode
        EXTERN KeyCloseAll
        EXTERN KeyCloseAllPressMode
        EXTERN KeyMinimize
        EXTERN KeyMinimizePressMode
        EXTERN KeyStart
        EXTERN KeyStartPressMode
        EXTERN MINIMIZE_TO_SESSION
        EXTERN RETURN_TO_STANDBY_EVENT
        EXTERN ShortcutsMode
        EXTERN TERMINATE_SESSION_EVENT
        EXTERN UserInactivityEventEnabled
        EXTERN VAR_ARG_BOOK
        EXTERN VAR_ARG_YESNO_PRE_QUESTION
        EXTERN VAR_ARG_YESNO_QUESTION
        EXTERN books_show_hid
        EXTERN books_show_nogui
        EXTERN digit0
        EXTERN digit1
        EXTERN digit2
        EXTERN digit3
        EXTERN digit4
        EXTERN digit5
        EXTERN digit6
        EXTERN digit7
        EXTERN digit8
        EXTERN digit9
        EXTERN elfs_show_hid
        EXTERN elfs_show_nogui
        EXTERN kill_data
        FUNCTION kill_data,0202H
        EXTERN successed_config_name
        EXTERN successed_config_path
        EXTERN tab1_act
        EXTERN tab1_inact
        EXTERN tab2_act
        EXTERN tab2_inact


        RSEG CODE:CODE:NOROOT(2)
        CFI Block cfiBlock0 Using cfiCommon0
        CFI Function ??LPARAM
        ARM
// __??Code32?? __code __interwork __atpcs LPARAM::LPARAM(int)
??LPARAM:
        STR      R1,[R0, #+0]
        BX       LR               ;; return
        CFI EndBlock cfiBlock0

        RSEG CODE:CODE:NOROOT(2)
        CFI Block cfiBlock1 Using cfiCommon0
        CFI Function ??LPARAM_1
        ARM
// __??Code32?? __code __interwork __atpcs LPARAM::LPARAM(void *)
??LPARAM_1:
        STR      R1,[R0, #+0]
        BX       LR               ;; return
        CFI EndBlock cfiBlock1

        RSEG CODE:CODE:NOROOT(2)
        CFI Block cfiBlock2 Using cfiCommon0
        CFI Function ??INHERITANCECHECK
        ARM
// __??Code32?? __code __interwork __atpcs void INHERITANCECHECK<DISP_OBJ, DISP_OBJ>()
??INHERITANCECHECK:
        BX       LR               ;; return
        CFI EndBlock cfiBlock2

        RSEG CODE:CODE:NOROOT(2)
        CFI Block cfiBlock3 Using cfiCommon0
        CFI Function ??MKKEYHOOKPROC
        ARM
// __??Code32?? __code __interwork __atpcs KEYHOOKPROC MKKEYHOOKPROC(int (*)(int, int, int, _MYBOOK *, DISP_OBJ *))
??MKKEYHOOKPROC:
        PUSH     {R4,LR}
        CFI ?RET Frame(CFA, -4)
        CFI R4 Frame(CFA, -8)
        CFI CFA R13+8
        MOV      R4,R0
        _BLF     ??INHERITANCECHECK,??INHERITANCECHECK??rA
        MOV      R0,R4
        POP      {R4,PC}          ;; return
        CFI EndBlock cfiBlock3

        RSEG CODE:CODE:NOROOT(2)
        CFI Block cfiBlock4 Using cfiCommon1
        CFI NoFunction
        THUMB
??elf_exit??rT:
        BX       PC
        Nop      
        CFI EndBlock cfiBlock4
        REQUIRE ??elf_exit
// Z:\home\perk11\www\perk11.info\svn\SE\BookManager\main.c
//    1 #include "..\include\Lib_Clara.h"
//    2 #include "..\include\Dir.h"
//    3 #include "..\include\var_arg.h"
//    4 #include "..\include\cfg_items.h"
//    5 #include "conf_loader.h"
//    6 #include "config_data.h"
//    7 #include "shortcuts.h"
//    8 #include "book_names.h"
//    9 #include "main.h"
//   10 
//   11 

        RSEG DATA_I:DATA:SORT:NOROOT(2)
//   12 wchar_t* id_digits[DIGITS_COUNT] =
id_digits:
        DS8 40
        REQUIRE `?<Initializer for id_digits>`
//   13 {
//   14 	IDN_DIGIT_0_ICON,
//   15 	IDN_DIGIT_1_ICON,
//   16 	IDN_DIGIT_2_ICON,
//   17 	IDN_DIGIT_3_ICON,
//   18 	IDN_DIGIT_4_ICON,
//   19 	IDN_DIGIT_5_ICON,
//   20 	IDN_DIGIT_6_ICON,
//   21 	IDN_DIGIT_7_ICON,
//   22 	IDN_DIGIT_8_ICON,
//   23 	IDN_DIGIT_9_ICON,
//   24 };
//   25 
//   26 
//   27 wchar_t* id_names[ICONS_COUNT] =
id_names:
        DS8 16
        REQUIRE `?<Initializer for id_names>`
//   28 {
//   29 	IDN_BOOKS_DEACT_ICON,
//   30 	IDN_BOOKS_ACT_ICON,
//   31 	IDN_ELFS_DEACT_ICON,
//   32 	IDN_ELFS_ACT_ICON
//   33 };
//   34 
//   35 
//   36 const wchar_t* img_digits[DIGITS_COUNT] =
img_digits:
        DS8 40
        REQUIRE `?<Initializer for img_digits>`
//   37 {
//   38 	digit0,
//   39 	digit1,
//   40 	digit2,
//   41 	digit3,
//   42 	digit4,
//   43 	digit5,
//   44 	digit6,
//   45 	digit7,
//   46 	digit8,
//   47 	digit9,
//   48 };
//   49 
//   50 
//   51 const wchar_t* img_names[ICONS_COUNT] =
img_names:
        DS8 16
        REQUIRE `?<Initializer for img_names>`
//   52 {
//   53 	tab1_inact,
//   54 	tab1_act,
//   55 	tab2_inact,
//   56 	tab2_act
//   57 };
//   58 
//   59 
//   60 //============= pages start ======================
//   61 

        RSEG DYN_PAGE:CONST:SORT:NOROOT(2)
//   62 const PAGE_MSG bk_main_msglst[] @ "DYN_PAGE" =
bk_main_msglst:
        DATA
        DC32 66, ??CreateBookList, 65, ??onRootListChanged, 83
        DC32 ??onUserInactivity, 76, ??RecreateBookList, 64, 0H
//   63 {
//   64 	PAGE_ENTER_EVENT_TAG, CreateBookList,
//   65 	BOOK_DESTROYED_EVENT_TAG, onRootListChanged,
//   66 	USER_INACTIVITY_EVENT_TAG, onUserInactivity,
//   67 	ACCEPT_EVENT_TAG, RecreateBookList,
//   68 	NIL_EVENT_TAG, 0
//   69 };
//   70 
//   71 const PAGE_DESC BookManager_Main_Page = { "BookManager_Main_Page", 0, bk_main_msglst };
//   72 
//   73 

        RSEG DYN_PAGE:CONST:SORT:NOROOT(2)
//   74 const PAGE_MSG bk_idle_msglst[] @ "DYN_PAGE" =
bk_idle_msglst:
        DATA
        DC32 66, ??IdlePage_EnterAction, 64, 0H
//   75 {
//   76 	PAGE_ENTER_EVENT_TAG, IdlePage_EnterAction,
//   77 	NIL_EVENT_TAG, 0
//   78 };
//   79 
//   80 const PAGE_DESC BookManager_Idle_Page = { "BookManager_Idle_Page", 0, bk_idle_msglst };
//   81 
//   82 

        RSEG DYN_PAGE:CONST:SORT:NOROOT(2)
//   83 const PAGE_MSG bk_base_msglst[] @ "DYN_PAGE" =
bk_base_msglst:
        DATA
        DC32 996, ??ReconfigElf, 64, 0H

        RSEG DATA_C:CONST:SORT:NOROOT(2)
`?<Constant L"\\x46\\x4d\\x5f\\x52\\x41\\x44\\x49\\x4f\\`:
        DATA
        DC8 46H, 0, 4DH, 0, 5FH, 0, 52H, 0
        DC8 41H, 0, 44H, 0, 49H, 0, 4FH, 0
        DC8 5FH, 0, 4DH, 0, 48H, 0, 5AH, 0
        DC8 5FH, 0, 44H, 0, 49H, 0, 47H, 0
        DC8 49H, 0, 54H, 0, 5FH, 0, 38H, 0
        DC8 5FH, 0, 49H, 0, 43H, 0, 4EH, 0
        DC8 0, 0
        DC8 0, 0

        RSEG DATA_C:CONST:SORT:NOROOT(2)
`?<Constant L"\\x48\\x65\\x61\\x70\\x20\\x3a\\x20">`:
        DATA
        DC8 48H, 0, 65H, 0, 61H, 0, 70H, 0
        DC8 20H, 0, 3AH, 0, 20H, 0, 0, 0
        DC8 48H, 0, 69H, 0, 64H, 0, 65H, 0
        DC8 20H, 0, 65H, 0, 6CH, 0, 66H, 0
        DC8 0, 0
        DC8 0, 0
        DC8 53H, 0, 68H, 0, 6FH, 0, 77H, 0
        DC8 20H, 0, 65H, 0, 6CH, 0, 66H, 0
        DC8 0, 0
        DC8 0, 0
        DC8 41H, 0, 75H, 0, 74H, 0, 68H, 0
        DC8 6FH, 0, 72H, 0, 0, 0
        DC8 0, 0
        DC8 45H, 0, 6CH, 0, 66H, 0, 73H, 0
        DC8 0, 0
        DC8 0, 0
        DC8 41H, 0, 62H, 0, 6FH, 0, 75H, 0
        DC8 74H, 0, 0, 0
        DC8 53H, 0, 48H, 0, 43H, 0, 5FH, 0
        DC8 45H, 0, 44H, 0, 49H, 0, 54H, 0
        DC8 5FH, 0, 53H, 0, 48H, 0, 4FH, 0
        DC8 52H, 0, 54H, 0, 43H, 0, 55H, 0
        DC8 54H, 0, 5FH, 0, 54H, 0, 58H, 0
        DC8 54H, 0, 0, 0
        DC8 44H, 0, 42H, 0, 5FH, 0, 52H, 0
        DC8 45H, 0, 4EH, 0, 41H, 0, 4DH, 0
        DC8 45H, 0, 5FH, 0, 54H, 0, 58H, 0
        DC8 54H, 0, 0, 0
        DC8 48H, 0, 69H, 0, 64H, 0, 65H, 0
        DC8 20H, 0, 62H, 0, 6FH, 0, 6FH, 0
        DC8 6BH, 0, 0, 0
        DC8 53H, 0, 68H, 0, 6FH, 0, 77H, 0
        DC8 20H, 0, 62H, 0, 6FH, 0, 6FH, 0
        DC8 6BH, 0, 0, 0
        DC8 53H, 0, 68H, 0, 6FH, 0, 77H, 0
        DC8 20H, 0, 68H, 0, 69H, 0, 64H, 0
        DC8 64H, 0, 65H, 0, 6EH, 0, 0, 0
        DC8 48H, 0, 69H, 0, 64H, 0, 65H, 0
        DC8 20H, 0, 68H, 0, 69H, 0, 64H, 0
        DC8 64H, 0, 65H, 0, 6EH, 0, 0, 0
        DC8 53H, 0, 68H, 0, 6FH, 0, 77H, 0
        DC8 20H, 0, 4EH, 0, 6FH, 0, 47H, 0
        DC8 55H, 0, 49H, 0, 0, 0
        DC8 0, 0
        DC8 48H, 0, 69H, 0, 64H, 0, 65H, 0
        DC8 20H, 0, 4EH, 0, 6FH, 0, 47H, 0
        DC8 55H, 0, 49H, 0, 0, 0
        DC8 0, 0
        DC8 43H, 0, 41H, 0, 4CH, 0, 45H, 0
        DC8 5FH, 0, 41H, 0, 44H, 0, 56H, 0
        DC8 41H, 0, 4EH, 0, 43H, 0, 45H, 0
        DC8 44H, 0, 5FH, 0, 54H, 0, 58H, 0
        DC8 54H, 0, 0, 0

        RSEG DATA_C:CONST:SORT:NOROOT(2)
`?<Constant L"\\x42\\x6f\\x6f\\x6b\\x4d\\x61\\x6e\\x61\\`:
        DATA
        DC8 42H, 0, 6FH, 0, 6FH, 0, 6BH, 0
        DC8 4DH, 0, 61H, 0, 6EH, 0, 61H, 0
        DC8 67H, 0, 65H, 0, 72H, 0, 0AH, 0
        DC8 0AH, 0, 74H, 0, 65H, 0, 72H, 0
        DC8 6DH, 0, 69H, 0, 6EH, 0, 61H, 0
        DC8 74H, 0, 65H, 0, 64H, 0, 0, 0

        RSEG DATA_C:CONST:SORT:NOROOT(2)
`?<Constant "Exit command selected">`:
        DATA
        DC8 "Exit command selected"
        DC8 0, 0
        DC8 "Unload?"

        RSEG DATA_C:CONST:SORT:NOROOT(2)
`?<Constant L"\\x73\\x68\\x6f\\x72\\x74\\x63\\x75\\x74\\`:
        DATA
        DC8 73H, 0, 68H, 0, 6FH, 0, 72H, 0
        DC8 74H, 0, 63H, 0, 75H, 0, 74H, 0
        DC8 73H, 0, 2EH, 0, 69H, 0, 6EH, 0
        DC8 69H, 0, 0, 0

        RSEG DATA_C:CONST:SORT:NOROOT(2)
`?<Constant L"\\x46\\x4d\\x5f\\x52\\x41\\x44\\x49\\x4f\\_1`:
        DATA
        DC8 46H, 0, 4DH, 0, 5FH, 0, 52H, 0
        DC8 41H, 0, 44H, 0, 49H, 0, 4FH, 0
        DC8 5FH, 0, 4DH, 0, 48H, 0, 5AH, 0
        DC8 5FH, 0, 44H, 0, 49H, 0, 47H, 0
        DC8 49H, 0, 54H, 0, 5FH, 0, 30H, 0
        DC8 5FH, 0, 49H, 0, 43H, 0, 4EH, 0
        DC8 0, 0
        DC8 0, 0

        RSEG DATA_C:CONST:SORT:NOROOT(2)
`?<Constant L"\\x46\\x4d\\x5f\\x52\\x41\\x44\\x49\\x4f\\_2`:
        DATA
        DC8 46H, 0, 4DH, 0, 5FH, 0, 52H, 0
        DC8 41H, 0, 44H, 0, 49H, 0, 4FH, 0
        DC8 5FH, 0, 4DH, 0, 48H, 0, 5AH, 0
        DC8 5FH, 0, 44H, 0, 49H, 0, 47H, 0
        DC8 49H, 0, 54H, 0, 5FH, 0, 31H, 0
        DC8 5FH, 0, 49H, 0, 43H, 0, 4EH, 0
        DC8 0, 0
        DC8 0, 0

        RSEG DATA_C:CONST:SORT:NOROOT(2)
`?<Constant L"\\x46\\x4d\\x5f\\x52\\x41\\x44\\x49\\x4f\\_3`:
        DATA
        DC8 46H, 0, 4DH, 0, 5FH, 0, 52H, 0
        DC8 41H, 0, 44H, 0, 49H, 0, 4FH, 0
        DC8 5FH, 0, 4DH, 0, 48H, 0, 5AH, 0
        DC8 5FH, 0, 44H, 0, 49H, 0, 47H, 0
        DC8 49H, 0, 54H, 0, 5FH, 0, 32H, 0
        DC8 5FH, 0, 49H, 0, 43H, 0, 4EH, 0
        DC8 0, 0
        DC8 0, 0

        RSEG DATA_C:CONST:SORT:NOROOT(2)
`?<Constant L"\\x46\\x4d\\x5f\\x52\\x41\\x44\\x49\\x4f\\_4`:
        DATA
        DC8 46H, 0, 4DH, 0, 5FH, 0, 52H, 0
        DC8 41H, 0, 44H, 0, 49H, 0, 4FH, 0
        DC8 5FH, 0, 4DH, 0, 48H, 0, 5AH, 0
        DC8 5FH, 0, 44H, 0, 49H, 0, 47H, 0
        DC8 49H, 0, 54H, 0, 5FH, 0, 33H, 0
        DC8 5FH, 0, 49H, 0, 43H, 0, 4EH, 0
        DC8 0, 0
        DC8 0, 0

        RSEG DATA_C:CONST:SORT:NOROOT(2)
`?<Constant L"\\x46\\x4d\\x5f\\x52\\x41\\x44\\x49\\x4f\\_5`:
        DATA
        DC8 46H, 0, 4DH, 0, 5FH, 0, 52H, 0
        DC8 41H, 0, 44H, 0, 49H, 0, 4FH, 0
        DC8 5FH, 0, 4DH, 0, 48H, 0, 5AH, 0
        DC8 5FH, 0, 44H, 0, 49H, 0, 47H, 0
        DC8 49H, 0, 54H, 0, 5FH, 0, 34H, 0
        DC8 5FH, 0, 49H, 0, 43H, 0, 4EH, 0
        DC8 0, 0
        DC8 0, 0

        RSEG DATA_C:CONST:SORT:NOROOT(2)
`?<Constant L"\\x46\\x4d\\x5f\\x52\\x41\\x44\\x49\\x4f\\_6`:
        DATA
        DC8 46H, 0, 4DH, 0, 5FH, 0, 52H, 0
        DC8 41H, 0, 44H, 0, 49H, 0, 4FH, 0
        DC8 5FH, 0, 4DH, 0, 48H, 0, 5AH, 0
        DC8 5FH, 0, 44H, 0, 49H, 0, 47H, 0
        DC8 49H, 0, 54H, 0, 5FH, 0, 35H, 0
        DC8 5FH, 0, 49H, 0, 43H, 0, 4EH, 0
        DC8 0, 0
        DC8 0, 0

        RSEG DATA_C:CONST:SORT:NOROOT(2)
`?<Constant L"\\x46\\x4d\\x5f\\x52\\x41\\x44\\x49\\x4f\\_7`:
        DATA
        DC8 46H, 0, 4DH, 0, 5FH, 0, 52H, 0
        DC8 41H, 0, 44H, 0, 49H, 0, 4FH, 0
        DC8 5FH, 0, 4DH, 0, 48H, 0, 5AH, 0
        DC8 5FH, 0, 44H, 0, 49H, 0, 47H, 0
        DC8 49H, 0, 54H, 0, 5FH, 0, 36H, 0
        DC8 5FH, 0, 49H, 0, 43H, 0, 4EH, 0
        DC8 0, 0
        DC8 0, 0

        RSEG DATA_C:CONST:SORT:NOROOT(2)
`?<Constant L"\\x46\\x4d\\x5f\\x52\\x41\\x44\\x49\\x4f\\_8`:
        DATA
        DC8 46H, 0, 4DH, 0, 5FH, 0, 52H, 0
        DC8 41H, 0, 44H, 0, 49H, 0, 4FH, 0
        DC8 5FH, 0, 4DH, 0, 48H, 0, 5AH, 0
        DC8 5FH, 0, 44H, 0, 49H, 0, 47H, 0
        DC8 49H, 0, 54H, 0, 5FH, 0, 37H, 0
        DC8 5FH, 0, 49H, 0, 43H, 0, 4EH, 0
        DC8 0, 0
        DC8 0, 0

        RSEG DATA_C:CONST:SORT:NOROOT(2)
`?<Constant L"\\x42\\x6f\\x6f\\x6b\\x4d\\x61\\x6e\\x61\\_1`:
        DATA
        DC8 42H, 0, 6FH, 0, 6FH, 0, 6BH, 0
        DC8 4DH, 0, 61H, 0, 6EH, 0, 61H, 0
        DC8 67H, 0, 65H, 0, 72H, 0, 20H, 0
        DC8 69H, 0, 73H, 0, 20H, 0, 61H, 0
        DC8 6CH, 0, 72H, 0, 65H, 0, 61H, 0
        DC8 64H, 0, 79H, 0, 20H, 0, 72H, 0
        DC8 75H, 0, 6EH, 0, 65H, 0, 64H, 0
        DC8 0, 0
        DC8 0, 0

        RSEG DATA_C:CONST:SORT:NOROOT(2)
`?<Constant L"\\x46\\x4d\\x5f\\x52\\x41\\x44\\x49\\x4f\\_9`:
        DATA
        DC8 46H, 0, 4DH, 0, 5FH, 0, 52H, 0
        DC8 41H, 0, 44H, 0, 49H, 0, 4FH, 0
        DC8 5FH, 0, 4DH, 0, 48H, 0, 5AH, 0
        DC8 5FH, 0, 44H, 0, 49H, 0, 47H, 0
        DC8 49H, 0, 54H, 0, 5FH, 0, 39H, 0
        DC8 5FH, 0, 49H, 0, 43H, 0, 4EH, 0
        DC8 0, 0
        DC8 0, 0

        RSEG DATA_C:CONST:SORT:NOROOT(2)
`?<Constant L"\\x52\\x4e\\x5f\\x54\\x41\\x42\\x5f\\x53\\`:
        DATA
        DC8 52H, 0, 4EH, 0, 5FH, 0, 54H, 0
        DC8 41H, 0, 42H, 0, 5FH, 0, 53H, 0
        DC8 45H, 0, 53H, 0, 53H, 0, 49H, 0
        DC8 4FH, 0, 4EH, 0, 5FH, 0, 4DH, 0
        DC8 41H, 0, 4EH, 0, 41H, 0, 47H, 0
        DC8 45H, 0, 52H, 0, 5FH, 0, 44H, 0
        DC8 45H, 0, 53H, 0, 45H, 0, 4CH, 0
        DC8 45H, 0, 43H, 0, 54H, 0, 45H, 0
        DC8 44H, 0, 5FH, 0, 49H, 0, 43H, 0
        DC8 4EH, 0, 0, 0

        RSEG DATA_C:CONST:SORT:NOROOT(2)
`?<Constant L"\\x52\\x4e\\x5f\\x54\\x41\\x42\\x5f\\x53\\_1`:
        DATA
        DC8 52H, 0, 4EH, 0, 5FH, 0, 54H, 0
        DC8 41H, 0, 42H, 0, 5FH, 0, 53H, 0
        DC8 45H, 0, 53H, 0, 53H, 0, 49H, 0
        DC8 4FH, 0, 4EH, 0, 5FH, 0, 4DH, 0
        DC8 41H, 0, 4EH, 0, 41H, 0, 47H, 0
        DC8 45H, 0, 52H, 0, 5FH, 0, 53H, 0
        DC8 45H, 0, 4CH, 0, 45H, 0, 43H, 0
        DC8 54H, 0, 45H, 0, 44H, 0, 5FH, 0
        DC8 49H, 0, 43H, 0, 4EH, 0, 0, 0

        RSEG DATA_C:CONST:SORT:NOROOT(2)
`?<Constant L"\\x52\\x4e\\x5f\\x54\\x41\\x42\\x5f\\x42\\`:
        DATA
        DC8 52H, 0, 4EH, 0, 5FH, 0, 54H, 0
        DC8 41H, 0, 42H, 0, 5FH, 0, 42H, 0
        DC8 4FH, 0, 4FH, 0, 4BH, 0, 4DH, 0
        DC8 41H, 0, 52H, 0, 4BH, 0, 53H, 0
        DC8 5FH, 0, 44H, 0, 45H, 0, 53H, 0
        DC8 45H, 0, 4CH, 0, 45H, 0, 43H, 0
        DC8 54H, 0, 45H, 0, 44H, 0, 5FH, 0
        DC8 49H, 0, 43H, 0, 4EH, 0, 0, 0

        RSEG DATA_C:CONST:SORT:NOROOT(2)
`?<Constant L"\\x52\\x4e\\x5f\\x54\\x41\\x42\\x5f\\x42\\_1`:
        DATA
        DC8 52H, 0, 4EH, 0, 5FH, 0, 54H, 0
        DC8 41H, 0, 42H, 0, 5FH, 0, 42H, 0
        DC8 4FH, 0, 4FH, 0, 4BH, 0, 4DH, 0
        DC8 41H, 0, 52H, 0, 4BH, 0, 53H, 0
        DC8 5FH, 0, 53H, 0, 45H, 0, 4CH, 0
        DC8 45H, 0, 43H, 0, 54H, 0, 45H, 0
        DC8 44H, 0, 5FH, 0, 49H, 0, 43H, 0
        DC8 4EH, 0, 0, 0

        RSEG DATA_C:CONST:SORT:NOROOT(2)
`?<Constant "BookManager_Main_Page">`:
        DATA
        DC8 "BookManager_Main_Page"
        DC8 0, 0

        RSEG DATA_C:CONST:SORT:NOROOT(2)
`?<Constant "BookManager_Idle_Page">`:
        DATA
        DC8 "BookManager_Idle_Page"
        DC8 0, 0

        RSEG DATA_C:CONST:SORT:NOROOT(2)
`?<Constant "BookManager_Base_Page">`:
        DATA
        DC8 "BookManager_Base_Page"
        DC8 0, 0

        RSEG DATA_C:CONST:SORT:NOROOT(2)
`?<Constant "BookManager">`:
        DATA
        DC8 "BookManager"
        DC32 `?<Constant "BookManager_Idle_Page">`, 0H, bk_idle_msglst
        DC32 `?<Constant "BookManager_Base_Page">`, 0H, bk_base_msglst

        RSEG DATA_C:CONST:SORT:NOROOT(2)
`?<Constant L"\\x3a\\x20">`:
        DATA
        DC8 3AH, 0, 20H, 0, 0, 0
        DC8 0, 0
        DC8 25H, 0, 2AH, 0, 5BH, 0, 5EH, 0
        DC8 3AH, 0, 5DH, 0, 3AH, 0, 20H, 0
        DC8 25H, 0, 6CH, 0, 5BH, 0, 5EH, 0
        DC8 0DH, 0, 5DH, 0, 0, 0
        DC8 0, 0

        RSEG DATA_C:CONST:SORT:NOROOT(2)
`?<Constant L"\\x46\\x6f\\x72\\x65\\x69\\x67\\x6e\\x20\\`:
        DATA
        DC8 46H, 0, 6FH, 0, 72H, 0, 65H, 0
        DC8 69H, 0, 67H, 0, 6EH, 0, 20H, 0
        DC8 61H, 0, 70H, 0, 70H, 0, 0, 0
        DC8 4AH, 0, 61H, 0, 76H, 0, 61H, 0
        DC8 0, 0
        DC8 0, 0

        RSEG DATA_C:CONST:SORT:NOROOT(2)
`?<Constant L"\\x2f\\x2f">`:
        DATA
        DC8 2FH, 0, 2FH, 0, 0, 0
        DC8 0, 0

        RSEG DATA_C:CONST:SORT:NOROOT(2)
`?<Constant "CUIDisplayableBook">`:
        DATA
        DC8 "CUIDisplayableBook"
        DC8 0

        RSEG DATA_C:CONST:SORT:NOROOT(2)
`?<Constant L"\\x2f\\x62\\x6f\\x6f\\x6b\\x6d\\x61\\x6e"`:
        DATA
        DC8 2FH, 0, 62H, 0, 6FH, 0, 6FH, 0
        DC8 6BH, 0, 6DH, 0, 61H, 0, 6EH, 0
        DC8 0, 0
        DC8 0, 0

        RSEG DATA_C:CONST:SORT:NOROOT(2)
`?<Constant L"\\x62\\x6f\\x6f\\x6b\\x6e\\x61\\x6d\\x65\\`:
        DATA
        DC8 62H, 0, 6FH, 0, 6FH, 0, 6BH, 0
        DC8 6EH, 0, 61H, 0, 6DH, 0, 65H, 0
        DC8 73H, 0, 2EH, 0, 69H, 0, 6EH, 0
        DC8 69H, 0, 0, 0

        RSEG DATA_C:CONST:SORT:NOROOT(2)
`?<Constant L"\\x68\\x69\\x64\\x64\\x65\\x6e\\x2e\\x69\\`:
        DATA
        DC8 68H, 0, 69H, 0, 64H, 0, 64H, 0
        DC8 65H, 0, 6EH, 0, 2EH, 0, 69H, 0
        DC8 6EH, 0, 69H, 0, 0, 0
        DC8 0, 0

        RSEG DATA_C:CONST:SORT:NOROOT(2)
`?<Constant "[H] ">`:
        DATA
        DC8 "[H] "
        DC8 0, 0, 0
        DC8 43H, 0, 61H, 0, 6EH, 0, 27H, 0
        DC8 74H, 0, 20H, 0, 73H, 0, 65H, 0
        DC8 74H, 0, 20H, 0, 66H, 0, 6FH, 0
        DC8 63H, 0, 75H, 0, 73H, 0, 20H, 0
        DC8 74H, 0, 6FH, 0, 20H, 0, 65H, 0
        DC8 6CH, 0, 66H, 0, 20H, 0, 77H, 0
        DC8 69H, 0, 74H, 0, 68H, 0, 6FH, 0
        DC8 75H, 0, 74H, 0, 20H, 0, 47H, 0
        DC8 55H, 0, 49H, 0, 2EH, 0, 2EH, 0
        DC8 2EH, 0, 0, 0

        RSEG DATA_C:CONST:SORT:NOROOT(2)
`?<Constant L"\\x43\\x61\\x6e\\x27\\x74\\x20\\x73\\x65\\_1`:
        DATA
        DC8 43H, 0, 61H, 0, 6EH, 0, 27H, 0
        DC8 74H, 0, 20H, 0, 73H, 0, 65H, 0
        DC8 74H, 0, 20H, 0, 66H, 0, 6FH, 0
        DC8 63H, 0, 75H, 0, 73H, 0, 20H, 0
        DC8 74H, 0, 6FH, 0, 20H, 0, 62H, 0
        DC8 6FH, 0, 6FH, 0, 6BH, 0, 20H, 0
        DC8 77H, 0, 69H, 0, 74H, 0, 68H, 0
        DC8 6FH, 0, 75H, 0, 74H, 0, 20H, 0
        DC8 47H, 0, 55H, 0, 49H, 0, 2EH, 0
        DC8 2EH, 0, 2EH, 0, 0, 0
        DC8 0, 0

        RSEG DATA_C:CONST:SORT:NOROOT(2)
`?<Constant L"\\x54\\x65\\x72\\x6d\\x69\\x6e\\x61\\x74\\`:
        DATA
        DC8 54H, 0, 65H, 0, 72H, 0, 6DH, 0
        DC8 69H, 0, 6EH, 0, 61H, 0, 74H, 0
        DC8 65H, 0, 45H, 0, 76H, 0, 65H, 0
        DC8 6EH, 0, 74H, 0, 20H, 0, 6EH, 0
        DC8 6FH, 0, 74H, 0, 20H, 0, 73H, 0
        DC8 75H, 0, 70H, 0, 70H, 0, 6FH, 0
        DC8 72H, 0, 74H, 0, 65H, 0, 64H, 0
        DC8 20H, 0, 62H, 0, 79H, 0, 20H, 0
        DC8 65H, 0, 6CH, 0, 66H, 0, 2EH, 0
        DC8 2EH, 0, 2EH, 0, 0, 0
        DC8 0, 0

        RSEG DATA_C:CONST:SORT:NOROOT(2)
`?<Constant L"\\x41\\x75\\x74\\x68\\x6f\\x72\\x20\\x75\\`:
        DATA
        DC8 41H, 0, 75H, 0, 74H, 0, 68H, 0
        DC8 6FH, 0, 72H, 0, 20H, 0, 75H, 0
        DC8 6EH, 0, 6BH, 0, 6EH, 0, 6FH, 0
        DC8 77H, 0, 6EH, 0, 0, 0
        DC8 0, 0

        RSEG DATA_C:CONST:SORT:NOROOT(2)
`?<Constant L"\\xa\\x42\\x6f\\x6f\\x6b\\x4d\\x61\\x6e\\x`:
        DATA
        DC8 0AH, 0, 42H, 0, 6FH, 0, 6FH, 0
        DC8 6BH, 0, 4DH, 0, 61H, 0, 6EH, 0
        DC8 61H, 0, 67H, 0, 65H, 0, 72H, 0
        DC8 20H, 0, 76H, 0, 33H, 0, 2EH, 0
        DC8 34H, 0, 32H, 0, 0AH, 0, 62H, 0
        DC8 75H, 0, 69H, 0, 6CH, 0, 64H, 0
        DC8 20H, 0, 31H, 0, 37H, 0, 30H, 0
        DC8 31H, 0, 31H, 0, 32H, 0, 0AH, 0
        DC8 43H, 0, 6FH, 0, 70H, 0, 79H, 0
        DC8 72H, 0, 69H, 0, 67H, 0, 68H, 0
        DC8 74H, 0, 20H, 0, 28H, 0, 63H, 0
        DC8 29H, 0, 20H, 0, 32H, 0, 30H, 0
        DC8 30H, 0, 37H, 0, 2DH, 0, 32H, 0
        DC8 30H, 0, 30H, 0, 38H, 0, 0AH, 0
        DC8 48H, 0, 75H, 0, 73H, 0, 73H, 0
        DC8 65H, 0, 69H, 0, 6EH, 0, 0AH, 0
        DC8 0AH, 0, 52H, 0, 65H, 0, 73H, 0
        DC8 70H, 0, 65H, 0, 63H, 0, 74H, 0
        DC8 0AH, 0, 49H, 0, 72H, 0, 6FH, 0
        DC8 6EH, 0, 4DH, 0, 61H, 0, 73H, 0
        DC8 74H, 0, 65H, 0, 72H, 0, 2CH, 0
        DC8 20H, 0, 4BH, 0, 72H, 0, 65H, 0
        DC8 4EH, 0, 0AH, 0, 0AH, 0, 0, 0

        RSEG DATA_C:CONST:SORT:NOROOT(0)
        DATA
        DC8 "\015\012"

        RSEG DATA_C:CONST:SORT:NOROOT(2)
`?<Constant "java:">`:
        DATA
        DC8 "java:"
        DC8 0, 0

        RSEG DATA_C:CONST:SORT:NOROOT(2)
`?<Constant L"\\x5a\\x42\\x69\\x6e">`:
        DATA
        DC8 5AH, 0, 42H, 0, 69H, 0, 6EH, 0
        DC8 0, 0
        DC8 0, 0
        DC8 0AH, 0, 0AH, 0, 6EH, 0, 6FH, 0
        DC8 74H, 0, 20H, 0, 66H, 0, 6FH, 0
        DC8 75H, 0, 6EH, 0, 64H, 0, 2EH, 0
        DC8 2EH, 0, 0, 0

        RSEG DATA_C:CONST:SORT:NOROOT(2)
`?<Constant "[S_KEY%d]">`:
        DATA
        DC8 "[S_KEY%d]"
        DC8 0, 0
        DC8 "[L_KEY%d]"
        DC8 0, 0
        DC8 "[ES_KEY%d]"
        DC8 0
        DC8 "[EL_KEY%d]"
        DC8 0

        RSEG DATA_C:CONST:SORT:NOROOT(2)
`?<Constant L"\\x4e\\x6f\\x20\\x65\\x6c\\x66\\x73\\x20\\`:
        DATA
        DC8 4EH, 0, 6FH, 0, 20H, 0, 65H, 0
        DC8 6CH, 0, 66H, 0, 73H, 0, 20H, 0
        DC8 69H, 0, 6EH, 0, 20H, 0, 6DH, 0
        DC8 65H, 0, 6DH, 0, 6FH, 0, 72H, 0
        DC8 79H, 0, 0, 0

        RSEG DATA_C:CONST:SORT:NOROOT(2)
`?<Constant L"\\x4e\\x6f\\x20\\x62\\x6f\\x6f\\x6b\\x73\\`:
        DATA
        DC8 4EH, 0, 6FH, 0, 20H, 0, 62H, 0
        DC8 6FH, 0, 6FH, 0, 6BH, 0, 73H, 0
        DC8 20H, 0, 69H, 0, 6EH, 0, 20H, 0
        DC8 6DH, 0, 65H, 0, 6DH, 0, 6FH, 0
        DC8 72H, 0, 79H, 0, 0, 0
        DC8 0, 0

        RSEG DATA_C:CONST:SORT:NOROOT(2)
BookManager_Main_Page:
        DATA
        DC32 `?<Constant "BookManager_Main_Page">`, 0H, bk_main_msglst
//   84 {
//   85 	ELF_RECONFIG_EVENT, ReconfigElf,
//   86 	NIL_EVENT_TAG, 0
//   87 };
//   88 
//   89 const PAGE_DESC BookManager_Base_Page = { "BookManager_Base_Page", 0, bk_base_msglst };
//   90 
//   91 //============= pages end ======================
//   92 
//   93 

        RSEG CODE:CODE:NOROOT(2)
        CFI Block cfiBlock5 Using cfiCommon0
        CFI Function ??elf_exit
        ARM
//   94 void elf_exit( void )
//   95 {
??elf_exit:
        PUSH     {LR}
        CFI ?RET Frame(CFA, -4)
        CFI CFA R13+4
//   96 	trace_done();
//   97 	kill_data( &ELF_BEGIN, ( void(*)(void*) )mfree_adr() );
        SWI      +33028
        MOV      R1,R0
        LDR      R0,??elf_exit_1  ;; ELF_BEGIN
        POP      {LR}             ;; Pop
        CFI ?RET R14
        CFI CFA R13+0
        _BF      kill_data,??kill_data??rA  ;; tailcall
        DATA
??elf_exit_1:
        DC32     ELF_BEGIN
        CFI EndBlock cfiBlock5
//   98 }

        RSEG CODE:CODE:NOROOT(2)
        CFI Block cfiBlock6 Using cfiCommon1
        CFI NoFunction
        THUMB
??GetActiveTab??rT:
        BX       PC
        Nop      
        CFI EndBlock cfiBlock6
        REQUIRE ??GetActiveTab
//   99 
//  100 // ======================== всякая служебная ерунда start ===========================================
//  101 

        RSEG CODE:CODE:NOROOT(2)
        CFI Block cfiBlock7 Using cfiCommon0
        CFI Function ??GetActiveTab
        ARM
//  102 int GetActiveTab( MyBOOK* mbk )
//  103 {
??GetActiveTab:
        PUSH     {LR}
        CFI ?RET Frame(CFA, -4)
        CFI CFA R13+4
//  104 	return TabMenuBar_GetFocusedTab( mbk->gui );
        LDR      R0,[R0, #+24]
        SWI      +605
        POP      {PC}             ;; return
        CFI EndBlock cfiBlock7
//  105 }

        RSEG CODE:CODE:NOROOT(2)
        CFI Block cfiBlock8 Using cfiCommon1
        CFI NoFunction
        THUMB
??isBookManager??rT:
        BX       PC
        Nop      
        CFI EndBlock cfiBlock8
        REQUIRE ??isBookManager
//  106 
//  107 

        RSEG CODE:CODE:NOROOT(2)
        CFI Block cfiBlock9 Using cfiCommon0
        CFI Function ??isBookManager
        ARM
//  108 int isBookManager( BOOK* book )
//  109 {
//  110 	return 0 == strcmp( book->xbook->name, "BookManager" );
??isBookManager:
        LDR      R1,??DataTable0  ;; `?<Constant "BookManager">`
        PUSH     {LR}
        CFI ?RET Frame(CFA, -4)
        CFI CFA R13+4
        LDR      R0,[R0, #+0]
        LDR      R0,[R0, #+4]
        SWI      +345
        CMP      R0,#+0
        MOVEQ    R0,#+1
        POPEQ    {PC}
        MOV      R0,#+0
        POP      {PC}             ;; return
        CFI EndBlock cfiBlock9
//  111 }

        RSEG CODE:CODE:NOROOT(2)
        DATA
??DataTable0:
        DC32     `?<Constant "BookManager">`

        RSEG CODE:CODE:NOROOT(2)
        CFI Block cfiBlock10 Using cfiCommon1
        CFI NoFunction
        THUMB
??CheckEv??rT:
        BX       PC
        Nop      
        CFI EndBlock cfiBlock10
        REQUIRE ??CheckEv
//  112 
//  113 
//  114 // проверка, обрабатывает ли БЕЙЗ_ПЕЙДЖ книги событие

        RSEG CODE:CODE:NOROOT(2)
        CFI Block cfiBlock11 Using cfiCommon0
        CFI Function ??CheckEv
        ARM
//  115 int CheckEv( BOOK* bk, int ev )
//  116 {
//  117 	if ( bk->base_page )
??CheckEv:
        LDR      R0,[R0, #+16]
        CMP      R0,#+0
        BXEQ     LR
//  118 	{
//  119 		const PAGE_MSG* pm = bk->base_page->msg_lst;
        LDR      R0,[R0, #+8]
//  120 
//  121 		if ( pm )
        CMP      R0,#+0
        BNE      ??CheckEv_1
//  122 		{
//  123 			while ( pm->msg && pm->proc )
//  124 			{
//  125 				if ( pm->msg == ev )
//  126 				{
//  127 					return 1;
//  128 				}
//  129 				pm++;
//  130 			}
//  131 		}
//  132 	}
//  133 	return 0;
??CheckEv_2:
        MOV      R0,#+0
        BX       LR               ;; return
??CheckEv_3:
        ADD      R0,R0,#+8
??CheckEv_1:
        LDR      R2,[R0, #+0]
        CMP      R2,#+0
        LDRNE    R3,[R0, #+4]
        CMPNE    R3,#+0
        BEQ      ??CheckEv_2
        CMP      R2,R1
        BNE      ??CheckEv_3
        MOV      R0,#+1
        BX       LR
        CFI EndBlock cfiBlock11
//  134 }

        RSEG CODE:CODE:NOROOT(2)
        CFI Block cfiBlock12 Using cfiCommon1
        CFI NoFunction
        THUMB
??GetUserBookName??rT:
        BX       PC
        Nop      
        CFI EndBlock cfiBlock12
        REQUIRE ??GetUserBookName
//  135 
//  136 
//  137 //Получить пользовательское имя книги

        RSEG CODE:CODE:NOROOT(2)
        CFI Block cfiBlock13 Using cfiCommon0
        CFI Function ??GetUserBookName
        ARM
//  138 wchar_t * GetUserBookName(wchar_t * ini,wchar_t * orig_name,wchar_t * cur_name)
//  139 {
??GetUserBookName:
        PUSH     {R4-R7,LR}
        CFI ?RET Frame(CFA, -4)
        CFI R7 Frame(CFA, -8)
        CFI R6 Frame(CFA, -12)
        CFI R5 Frame(CFA, -16)
        CFI R4 Frame(CFA, -20)
        CFI CFA R13+20
        SUB      SP,SP,#+108
        CFI CFA R13+128
        MOV      R4,R0
        MOV      R5,R1
        MOV      R6,R2
//  140 	wchar_t * pos;
//  141 
//  142 	if (ini)
        CMP      R4,#+0
        BEQ      ??GetUserBookName_1
//  143 	{
//  144 		wchar_t uni_pair[MAX_BOOK_NAME_LEN + sizeof(": ")];
//  145 		uni_pair[0]=0;
//  146 		wstrcpy(uni_pair,orig_name);
//  147 		wstrcat(uni_pair,L": ");
        LDR      R7,??GetUserBookName_2  ;; `?<Constant L"\\x3a\\x20">`
        MOV      R1,#+0
        STRH     R1,[SP, #+0]
        MOV      R1,R5
        MOV      R0,SP
        SWI      +338
        MOV      R1,R7
        MOV      R0,SP
        SWI      +340
//  148 
//  149 		pos = wstrwstr(ini,uni_pair);
        MOV      R1,SP
        MOV      R0,R4
        SWI      +670
        MOVS     R4,R0
//  150 
//  151 		if (pos)
        BEQ      ??GetUserBookName_1
//  152 		{
//  153 			swscanf(pos,L"%*[^:]: %l[^\r]",cur_name);
        MOV      R2,R6
        ADD      R1,R7,#+8
        SWI      +972
//  154 			return pos;
        MOV      R0,R4
        ADD      SP,SP,#+108
        CFI CFA R13+20
        POP      {R4-R7,PC}
        CFI CFA R13+128
//  155 		}
//  156 	}
//  157 
//  158 	wstrcpy(cur_name,orig_name);
??GetUserBookName_1:
        MOV      R1,R5
        MOV      R0,R6
        SWI      +338
//  159 	return 0;
        MOV      R0,#+0
        ADD      SP,SP,#+108
        CFI CFA R13+20
        POP      {R4-R7,PC}       ;; return
        DATA
??GetUserBookName_2:
        DC32     `?<Constant L"\\x3a\\x20">`
        CFI EndBlock cfiBlock13
//  160 }

        RSEG CODE:CODE:NOROOT(2)
        CFI Block cfiBlock14 Using cfiCommon1
        CFI NoFunction
        THUMB
??GetUserBookNameTEXTID??rT:
        BX       PC
        Nop      
        CFI EndBlock cfiBlock14
        REQUIRE ??GetUserBookNameTEXTID
//  161 
//  162 
//  163 // взять имя книги из ини-файла

        RSEG CODE:CODE:NOROOT(2)
        CFI Block cfiBlock15 Using cfiCommon0
        CFI Function ??GetUserBookNameTEXTID
        ARM
//  164 TEXTID GetUserBookNameTEXTID( char* name )
//  165 {
??GetUserBookNameTEXTID:
        PUSH     {R4,R5,LR}
        CFI ?RET Frame(CFA, -4)
        CFI R5 Frame(CFA, -8)
        CFI R4 Frame(CFA, -12)
        CFI CFA R13+12
        SUB      SP,SP,#+208
        CFI CFA R13+220
        MOV      R4,R0
//  166 	wchar_t cur_name[MAX_BOOK_NAME_LEN+1];
//  167 	wchar_t orig_name[MAX_BOOK_NAME_LEN+1];
//  168 
//  169 	MyBOOK* mbk = (MyBOOK*) FindBook( isBookManager );
        LDR      R0,??DataTable1  ;; ??isBookManager
        SWI      +304
        MOV      R5,R0
//  170 
//  171 	str2wstr(orig_name,name);
        MOV      R1,R4
        ADD      R0,SP,#+104
        SWI      +344
//  172 
//  173 	GetUserBookName(mbk->booknames_buf, orig_name, cur_name);
        LDR      R0,[R5, #+28]
        MOV      R2,SP
        ADD      R1,SP,#+104
        BL       ??GetUserBookName
//  174 
//  175 	return TextID_Create(cur_name, ENC_UCS2, TEXTID_ANY_LEN);
        MOV      R2,#+255
        ORR      R2,R2,#0xFF00
        MOV      R1,#+0
        MOV      R0,SP
        SWI      +349
        ADD      SP,SP,#+208
        CFI CFA R13+12
        POP      {R4,R5,PC}       ;; return
        CFI EndBlock cfiBlock15
//  176 }

        RSEG CODE:CODE:NOROOT(2)
        DATA
??DataTable1:
        DC32     ??isBookManager

        RSEG CODE:CODE:NOROOT(2)
        CFI Block cfiBlock16 Using cfiCommon1
        CFI NoFunction
        THUMB
??GetJavaName??rT:
        BX       PC
        Nop      
        CFI EndBlock cfiBlock16
        REQUIRE ??GetJavaName
//  177 
//  178 
//  179 // получить имя жавы

        RSEG CODE:CODE:NOROOT(2)
        CFI Block cfiBlock17 Using cfiCommon0
        CFI Function ??GetJavaName
        ARM
//  180 int GetJavaName( BOOK* bk )
//  181 {
??GetJavaName:
        PUSH     {R4,LR}
        CFI ?RET Frame(CFA, -4)
        CFI R4 Frame(CFA, -8)
        CFI CFA R13+8
//  182 	wchar_t ws[100];
//  183 
//  184 	TextID_GetWString( BookObj_GetSession( bk )->name, ws, MAXELEMS(ws) );
//  185 
//  186 	if ( !wstrncmp( ws, L"Foreign app", 11 ) )
        LDR      R4,??GetJavaName_1  ;; `?<Constant L"\\x46\\x6f\\x72\\x65\\x69\\x67\\x6e\\x20\\`
        SUB      SP,SP,#+200
        CFI CFA R13+208
        SWI      +579
        LDR      R0,[R0, #+4]
        MOV      R2,#+100
        MOV      R1,SP
        SWI      +351
        MOV      R2,#+11
        MOV      R1,R4
        MOV      R0,SP
        SWI      +507
        CMP      R0,#+0
        BNE      ??GetJavaName_2
//  187 	{
//  188 		return JavaSession_GetName();
??GetJavaName_3:
        SWI      +577
        ADD      SP,SP,#+200
        CFI CFA R13+8
        POP      {R4,PC}
        CFI CFA R13+208
//  189 	}
//  190 
//  191 	if ( !wstrcmp( ws, L"Java" ) )
??GetJavaName_2:
        ADD      R1,R4,#+24
        MOV      R0,SP
        SWI      +342
        CMP      R0,#+0
        BEQ      ??GetJavaName_3
//  192 	{
//  193 		return JavaSession_GetName();
//  194 	}
//  195 
//  196 	return EMPTY_TEXTID;
        MVN      R0,#-1879048192
        ADD      SP,SP,#+200
        CFI CFA R13+8
        POP      {R4,PC}          ;; return
        DATA
??GetJavaName_1:
        DC32     `?<Constant L"\\x46\\x6f\\x72\\x65\\x69\\x67\\x6e\\x20\\`
        CFI EndBlock cfiBlock17
//  197 }

        RSEG CODE:CODE:NOROOT(2)
        CFI Block cfiBlock18 Using cfiCommon1
        CFI NoFunction
        THUMB
??JavaShortcut_GetID??rT:
        BX       PC
        Nop      
        CFI EndBlock cfiBlock18
        REQUIRE ??JavaShortcut_GetID
//  198 
//  199 
//  200 //Получить ID жавы для ярлыка

        RSEG CODE:CODE:NOROOT(2)
        CFI Block cfiBlock19 Using cfiCommon0
        CFI Function ??JavaShortcut_GetID
        ARM
//  201 int JavaShortcut_GetID(wchar_t * java_shortcut)
//  202 {
//  203 	int ret_val = -1;
//  204 	wchar_t * hash_name = wstrwstr(java_shortcut,L"//") + 2;
??JavaShortcut_GetID:
        LDR      R1,??JavaShortcut_GetID_1  ;; `?<Constant L"\\x2f\\x2f">`
        PUSH     {R4-R6,LR}
        CFI ?RET Frame(CFA, -4)
        CFI R6 Frame(CFA, -8)
        CFI R5 Frame(CFA, -12)
        CFI R4 Frame(CFA, -16)
        CFI CFA R13+16
        SUB      SP,SP,#+12
        CFI CFA R13+28
        MVN      R4,#+0
        SWI      +670
        ADD      R5,R0,#+4
//  205 
//  206 	//Find app
//  207 	char sp1;
//  208 	wchar_t* sp;
//  209 	void* JavaDesc;
//  210 	JavaDialog_Open( 0, &sp1, &JavaDesc );
        MOV      R2,SP
        ADD      R1,SP,#+8
        MOV      R0,#+0
        SWI      +726
//  211 	if ( !JavaAppDesc_GetFirstApp( JavaDesc ) )
        LDR      R0,[SP, #+0]
        SWI      +729
        CMP      R0,#+0
        BNE      ??JavaShortcut_GetID_2
        B        ??JavaShortcut_GetID_3
//  212 	{
//  213 		int result = 0;
//  214 		while ( !result )
//  215 		{
//  216 			JavaAppDesc_GetJavaAppInfo( JavaDesc, 4, &sp );
//  217 			int cmp_res = wstrcmp(hash_name,sp);
//  218 			delete(sp);
//  219 			if (cmp_res) result = JavaAppDesc_GetNextApp( JavaDesc );
??JavaShortcut_GetID_4:
        SWI      +730
        CMP      R0,#+0
        BNE      ??JavaShortcut_GetID_2
??JavaShortcut_GetID_3:
        LDR      R0,[SP, #+0]
        ADD      R2,SP,#+4
        MOV      R1,#+4
        SWI      +731
        LDR      R1,[SP, #+4]
        MOV      R0,R5
        SWI      +342
        MOV      R6,R0
        LDR      R0,[SP, #+4]
        _BLF     `??operator delete`,`??operator delete??rA`
        LDR      R0,[SP, #+0]
        CMP      R6,#+0
        BNE      ??JavaShortcut_GetID_4
//  220 			else
//  221 			{
//  222 				ret_val = JavaAppDesc_GetJavaAppID( JavaDesc );
        SWI      +778
        MOV      R4,R0
//  223 				break;
//  224 			}
//  225 		}
//  226 	}
//  227 	JavaDialog_Close( sp1 );
??JavaShortcut_GetID_2:
        LDRB     R0,[SP, #+8]
        SWI      +727
//  228 	return(ret_val);
        MOV      R0,R4
        POP      {R1-R6,PC}       ;; return
        DATA
??JavaShortcut_GetID_1:
        DC32     `?<Constant L"\\x2f\\x2f">`
        CFI EndBlock cfiBlock19
//  229 }

        RSEG CODE:CODE:NOROOT(2)
        CFI Block cfiBlock20 Using cfiCommon1
        CFI NoFunction
        THUMB
??GetBookListItem??rT:
        BX       PC
        Nop      
        CFI EndBlock cfiBlock20
        REQUIRE ??GetBookListItem
//  230 
//  231 

        RSEG CODE:CODE:NOROOT(2)
        CFI Block cfiBlock21 Using cfiCommon0
        CFI Function ??GetBookListItem
        ARM
//  232 BOOK_LIST_ITEM * GetBookListItem( BOOK* bk, int list )
//  233 {
??GetBookListItem:
        PUSH     {LR}
        CFI ?RET Frame(CFA, -4)
        CFI CFA R13+4
//  234 	MyBOOK* mbk = (MyBOOK*) bk;
//  235 	BOOK_LIST_ITEM* elem;
//  236 
//  237 	switch ( list )
        CMP      R1,#+0
        BEQ      ??GetBookListItem_1
        SUBS     R1,R1,#+1
        BEQ      ??GetBookListItem_2
        MOV      R0,R2
        POP      {PC}
//  238 	{
//  239 	case BOOKLIST:
//  240 		if ( mbk->blistcnt )
??GetBookListItem_1:
        LDRH     R1,[R0, #+136]
        CMP      R1,#+0
        BEQ      ??GetBookListItem_3
//  241 		{
//  242 			if (MINIMIZE_TO_SESSION)
        LDR      R1,??DataTable10  ;; MINIMIZE_TO_SESSION
        LDR      R1,[R1, #+0]
        CMP      R1,#+0
        LDRH     R1,[R0, #+132]
        BEQ      ??GetBookListItem_4
//  243 			{
//  244 				SESSION_LIST_ITEM * ses_elem = (SESSION_LIST_ITEM*)List_Get( mbk->sessions_list, mbk->blistpos );
        LDR      R0,[R0, #+56]
        SWI      +429
//  245 				elem = (BOOK_LIST_ITEM*) List_Get( ses_elem->books_list, ses_elem->pos_subitem );
        LDRH     R1,[R0, #+8]
        LDR      R0,[R0, #+4]
        B        ??GetBookListItem_5
//  246 			}
//  247 			else
//  248 				elem = (BOOK_LIST_ITEM*) List_Get( mbk->books_list, mbk->blistpos );
??GetBookListItem_4:
        LDR      R0,[R0, #+60]
        B        ??GetBookListItem_5
//  249 		}
//  250 		else
//  251 			return 0;
??GetBookListItem_3:
        MOV      R0,#+0
        POP      {PC}
//  252 		break;
//  253 
//  254 	case ELFLIST:
//  255 		if ( mbk->elistcnt )
??GetBookListItem_2:
        LDRH     R1,[R0, #+138]
        CMP      R1,#+0
        BEQ      ??GetBookListItem_3
//  256 			elem = (BOOK_LIST_ITEM*) List_Get( mbk->elfs_list, mbk->elistpos );
        LDRH     R1,[R0, #+134]
        LDR      R0,[R0, #+64]
??GetBookListItem_5:
        SWI      +429
        MOV      R2,R0
//  257 		else
//  258 			return 0;
//  259 		break;
//  260 	}
//  261 	return elem;
        MOV      R0,R2
        POP      {PC}             ;; return
        CFI EndBlock cfiBlock21
//  262 }

        RSEG CODE:CODE:NOROOT(2)
        CFI Block cfiBlock22 Using cfiCommon1
        CFI NoFunction
        THUMB
??GetBook??rT:
        BX       PC
        Nop      
        CFI EndBlock cfiBlock22
        REQUIRE ??GetBook
//  263 
//  264 
//  265 // взять выбранную книгу из листа книг/эльфов

        RSEG CODE:CODE:NOROOT(2)
        CFI Block cfiBlock23 Using cfiCommon0
        CFI Function ??GetBook
        ARM
//  266 BOOK* GetBook( BOOK* bk, int list )
//  267 {
??GetBook:
        PUSH     {LR}
        CFI ?RET Frame(CFA, -4)
        CFI CFA R13+4
//  268 	BOOK_LIST_ITEM * elem = GetBookListItem(bk,list);
        BL       ??GetBookListItem
//  269 	if (!elem) return 0;
        CMP      R0,#+0
        POPEQ    {PC}
//  270 	else return elem->book;
        LDR      R0,[R0, #+0]
        POP      {PC}             ;; return
        CFI EndBlock cfiBlock23
//  271 }

        RSEG CODE:CODE:NOROOT(2)
        CFI Block cfiBlock24 Using cfiCommon1
        CFI NoFunction
        THUMB
??BOOK_LIST_ITEM_Filter??rT:
        BX       PC
        Nop      
        CFI EndBlock cfiBlock24
        REQUIRE ??BOOK_LIST_ITEM_Filter
//  272 
//  273 

        RSEG CODE:CODE:NOROOT(2)
        CFI Block cfiBlock25 Using cfiCommon0
        CFI Function ??BOOK_LIST_ITEM_Filter
        ARM
//  274 int BOOK_LIST_ITEM_Filter(void * elem)
//  275 {
//  276 	if (elem) return(1);
??BOOK_LIST_ITEM_Filter:
        CMP      R0,#+0
        MOVNE    R0,#+1
//  277 	return(0);
        BX       LR               ;; return
        CFI EndBlock cfiBlock25
//  278 }

        RSEG CODE:CODE:NOROOT(2)
        CFI Block cfiBlock26 Using cfiCommon1
        CFI NoFunction
        THUMB
??BOOK_LIST_ITEM_Destroy??rT:
        BX       PC
        Nop      
        CFI EndBlock cfiBlock26
        REQUIRE ??BOOK_LIST_ITEM_Destroy
//  279 
//  280 

        RSEG CODE:CODE:NOROOT(2)
        CFI Block cfiBlock27 Using cfiCommon0
        CFI Function ??BOOK_LIST_ITEM_Destroy
        ARM
//  281 void BOOK_LIST_ITEM_Destroy(void * data)
//  282 {
??BOOK_LIST_ITEM_Destroy:
        PUSH     {R4,LR}
        CFI ?RET Frame(CFA, -4)
        CFI R4 Frame(CFA, -8)
        CFI CFA R13+8
        MOVS     R4,R0
//  283 	BOOK_LIST_ITEM * elem = (BOOK_LIST_ITEM*)data;
//  284 
//  285 	if (elem)
        POPEQ    {R4,PC}
//  286 	{
//  287 		delete(elem->book_name);
        LDR      R0,[R4, #+4]
        _BLF     `??operator delete`,`??operator delete??rA`
//  288 		delete(elem);
        MOV      R0,R4
        _BLF     `??operator delete`,`??operator delete??rA`
//  289 	}
//  290 }
        POP      {R4,PC}          ;; return
        CFI EndBlock cfiBlock27

        RSEG CODE:CODE:NOROOT(2)
        CFI Block cfiBlock28 Using cfiCommon1
        CFI NoFunction
        THUMB
??SESSION_LIST_ITEM_Filter??rT:
        BX       PC
        Nop      
        CFI EndBlock cfiBlock28
        REQUIRE ??SESSION_LIST_ITEM_Filter
//  291 
//  292 

        RSEG CODE:CODE:NOROOT(2)
        CFI Block cfiBlock29 Using cfiCommon0
        CFI Function ??SESSION_LIST_ITEM_Filter
        ARM
//  293 int SESSION_LIST_ITEM_Filter(void * elem)
//  294 {
//  295 	if (elem) return(1);
??SESSION_LIST_ITEM_Filter:
        CMP      R0,#+0
        MOVNE    R0,#+1
//  296 	return(0);
        BX       LR               ;; return
        CFI EndBlock cfiBlock29
//  297 }

        RSEG CODE:CODE:NOROOT(2)
        CFI Block cfiBlock30 Using cfiCommon1
        CFI NoFunction
        THUMB
??SESSION_LIST_ITEM_Destroy??rT:
        BX       PC
        Nop      
        CFI EndBlock cfiBlock30
        REQUIRE ??SESSION_LIST_ITEM_Destroy
//  298 
//  299 

        RSEG CODE:CODE:NOROOT(2)
        CFI Block cfiBlock31 Using cfiCommon0
        CFI Function ??SESSION_LIST_ITEM_Destroy
        ARM
//  300 void SESSION_LIST_ITEM_Destroy(void * data)
//  301 {
??SESSION_LIST_ITEM_Destroy:
        PUSH     {R4,LR}
        CFI ?RET Frame(CFA, -4)
        CFI R4 Frame(CFA, -8)
        CFI CFA R13+8
        MOVS     R4,R0
//  302 	SESSION_LIST_ITEM * elem = (SESSION_LIST_ITEM*)data;
//  303 
//  304 	if (elem)
        POPEQ    {R4,PC}
//  305 	{
//  306 		List_DestroyElements(elem->books_list,BOOK_LIST_ITEM_Filter,BOOK_LIST_ITEM_Destroy);
        LDR      R2,??DataTable6  ;; ??BOOK_LIST_ITEM_Destroy
        LDR      R1,??DataTable5  ;; ??BOOK_LIST_ITEM_Filter
        LDR      R0,[R4, #+4]
        SWI      +663
//  307 		List_Destroy(elem->books_list);
        LDR      R0,[R4, #+4]
        SWI      +362
//  308 		delete(elem);
        MOV      R0,R4
        _BLF     `??operator delete`,`??operator delete??rA`
//  309 	}
//  310 }
        POP      {R4,PC}          ;; return
        CFI EndBlock cfiBlock31

        RSEG CODE:CODE:NOROOT(2)
        CFI Block cfiBlock32 Using cfiCommon1
        CFI NoFunction
        THUMB
??DestroyBookAndElfsLists??rT:
        BX       PC
        Nop      
        CFI EndBlock cfiBlock32
        REQUIRE ??DestroyBookAndElfsLists
//  311 
//  312 

        RSEG CODE:CODE:NOROOT(2)
        CFI Block cfiBlock33 Using cfiCommon0
        CFI Function ??DestroyBookAndElfsLists
        ARM
//  313 void DestroyBookAndElfsLists( MyBOOK* mbk )
//  314 {
??DestroyBookAndElfsLists:
        PUSH     {R4-R7,LR}
        CFI ?RET Frame(CFA, -4)
        CFI R7 Frame(CFA, -8)
        CFI R6 Frame(CFA, -12)
        CFI R5 Frame(CFA, -16)
        CFI R4 Frame(CFA, -20)
        CFI CFA R13+20
        MOV      R4,R0
//  315 	if ( mbk->sessions_list )
        LDR      R0,[R4, #+56]
        MOV      R5,#+0
        CMP      R0,#+0
        BEQ      ??DestroyBookAndElfsLists_1
//  316 	{
//  317 		List_DestroyElements(mbk->sessions_list,SESSION_LIST_ITEM_Filter,SESSION_LIST_ITEM_Destroy);
        LDR      R2,??DestroyBookAndElfsLists_2  ;; ??SESSION_LIST_ITEM_Destroy
        LDR      R1,??DestroyBookAndElfsLists_2+0x4  ;; ??SESSION_LIST_ITEM_Filter
        SWI      +663
//  318 		List_Destroy(mbk->sessions_list);
        LDR      R0,[R4, #+56]
        SWI      +362
//  319 		mbk->sessions_list=0;
        STR      R5,[R4, #+56]
//  320 	}
//  321 
//  322 	if ( mbk->books_list )
??DestroyBookAndElfsLists_1:
        LDR      R0,[R4, #+60]
        LDR      R6,??DataTable5  ;; ??BOOK_LIST_ITEM_Filter
        LDR      R7,??DataTable6  ;; ??BOOK_LIST_ITEM_Destroy
        CMP      R0,#+0
        BEQ      ??DestroyBookAndElfsLists_3
//  323 	{
//  324 		List_DestroyElements(mbk->books_list,BOOK_LIST_ITEM_Filter,BOOK_LIST_ITEM_Destroy);
        MOV      R2,R7
        MOV      R1,R6
        SWI      +663
//  325 		List_Destroy(mbk->books_list);
        LDR      R0,[R4, #+60]
        SWI      +362
//  326 		mbk->books_list=0;
        STR      R5,[R4, #+60]
//  327 	}
//  328 
//  329 	if ( mbk->elfs_list )
??DestroyBookAndElfsLists_3:
        LDR      R0,[R4, #+64]
        CMP      R0,#+0
        POPEQ    {R4-R7,PC}
//  330 	{
//  331 		List_DestroyElements(mbk->elfs_list,BOOK_LIST_ITEM_Filter,BOOK_LIST_ITEM_Destroy);
        MOV      R2,R7
        MOV      R1,R6
        SWI      +663
//  332 		List_Destroy(mbk->elfs_list);
        LDR      R0,[R4, #+64]
        SWI      +362
//  333 		mbk->elfs_list=0;
        STR      R5,[R4, #+64]
//  334 	}
//  335 }
        POP      {R4-R7,PC}       ;; return
        DATA
??DestroyBookAndElfsLists_2:
        DC32     ??SESSION_LIST_ITEM_Destroy
        DC32     ??SESSION_LIST_ITEM_Filter
        CFI EndBlock cfiBlock33

        RSEG CODE:CODE:NOROOT(2)
        DATA
??DataTable5:
        DC32     ??BOOK_LIST_ITEM_Filter

        RSEG CODE:CODE:NOROOT(2)
        DATA
??DataTable6:
        DC32     ??BOOK_LIST_ITEM_Destroy

        RSEG CODE:CODE:NOROOT(2)
        CFI Block cfiBlock34 Using cfiCommon1
        CFI NoFunction
        THUMB
??GetBooksFromSession??rT:
        BX       PC
        Nop      
        CFI EndBlock cfiBlock34
        REQUIRE ??GetBooksFromSession
//  336 
//  337 

        RSEG CODE:CODE:NOROOT(2)
        CFI Block cfiBlock35 Using cfiCommon0
        CFI Function ??GetBooksFromSession
        ARM
//  338 int GetBooksFromSession(MyBOOK * mbk,UI_APP_SESSION * session,LIST * books_list,LIST * elfs_list)
//  339 {
??GetBooksFromSession:
        PUSH     {R1-R11,LR}
        CFI ?RET Frame(CFA, -4)
        CFI R11 Frame(CFA, -8)
        CFI R10 Frame(CFA, -12)
        CFI R9 Frame(CFA, -16)
        CFI R8 Frame(CFA, -20)
        CFI R7 Frame(CFA, -24)
        CFI R6 Frame(CFA, -28)
        CFI R5 Frame(CFA, -32)
        CFI R4 Frame(CFA, -36)
        CFI CFA R13+48
        SUB      SP,SP,#+52
        CFI CFA R13+100
        MOV      R4,R0
//  340 	int k;
//  341 	int res=0;
        MOV      R6,#+0
//  342 	int mask = ( (int)LastExtDB() )&FLASH_MASK;
        SWI      +33365
        AND      R5,R0,#0xF8000000
//  343 
//  344 	for ( k = 0; k < session->listbook->FirstFree; k++ )
        LDR      R0,[SP, #+52]
        MOV      R7,#+0
        LDR      R0,[R0, #+0]
        MOV      R10,#+1
        LDRH     R0,[R0, #+2]
        CMP      R0,#+0
        BNE      ??GetBooksFromSession_1
//  345 	{
//  346 		BOOK * book = (BOOK*) List_Get( session->listbook, k );
//  347 
//  348 		if ( !isBookManager( book ) )
//  349 		{
//  350 			char s[MAX_BOOK_NAME_LEN+1];
//  351 			BOOK_LIST_ITEM * elem = new BOOK_LIST_ITEM;
//  352 			elem->book=book;
//  353 			elem->gui_count = book->xguilist->guilist->FirstFree;
//  354 			elem->isJava=FALSE;
//  355 			elem->isJava_2010=FALSE;
//  356 
//  357 			if ( strcmp( book->xbook->name, JAVA_BOOK_NAME ) )
//  358 			{
//  359 				char * bn =new char[strlen(book->xbook->name)+1];
//  360 				strcpy(bn,book->xbook->name);
//  361 				elem->book_name = bn;
//  362 			}
//  363 			else
//  364 			{
//  365 				TextID_GetString( BookObj_GetSession(book)->name, s, MAXELEMS(s) );
//  366 				char * bn =new char[strlen(s)+1];
//  367 				strcpy(bn,s);
//  368 				elem->book_name = bn;
//  369 				elem->isJava=TRUE;
//  370 			}
//  371 
//  372 			if ( mbk->hidden_buf_size && strstr(mbk->hidden_buf,elem->book_name) ) elem->isHidden=TRUE;
//  373 			else elem->isHidden=FALSE;
//  374 
//  375 			TEXTID tmp = GetJavaName( book );
//  376 
//  377 			if ( tmp != EMPTY_TEXTID )
//  378 			{
//  379 				delete(elem->book_name);
//  380 				TextID_GetString( tmp, s, MAXELEMS(s) );
//  381 				char * java_name = new char[strlen(s)+1];
//  382 				strcpy(java_name,s);
//  383 				elem->book_name = java_name;
//  384 				elem->isJava_2010=TRUE;
//  385 				TextID_Destroy( tmp );
//  386 			}
//  387 
//  388 			else if ( ( ((int)book->onClose)&FLASH_MASK ) == mask )
//  389 			{
//  390 				if (mbk->books_show_hid==FALSE && elem->isHidden==TRUE)
//  391 					BOOK_LIST_ITEM_Destroy(elem);
//  392 				else if (mbk->books_show_nogui==FALSE && !elem->gui_count)
//  393 					BOOK_LIST_ITEM_Destroy(elem);
//  394 				else
//  395 					List_InsertFirst( books_list, elem );
//  396 			}
//  397 			else
//  398 			{
//  399 				if (mbk->elfs_show_hid==FALSE && elem->isHidden==TRUE)
//  400 					BOOK_LIST_ITEM_Destroy(elem);
//  401 				else if (mbk->elfs_show_nogui==FALSE && !elem->gui_count)
//  402 					BOOK_LIST_ITEM_Destroy(elem);
//  403 				else
//  404 				{
//  405 					List_InsertFirst( elfs_list, elem );
//  406 					res=1;
//  407 				}
//  408 			}
//  409 		}
//  410 	}
//  411 	return res;
??GetBooksFromSession_2:
        MOV      R0,R6
        ADD      SP,SP,#+64
        CFI CFA R13+36
        POP      {R4-R11,PC}      ;; return
        CFI CFA R13+100
??GetBooksFromSession_3:
        LDR      R2,[R4, #+156]
        CMP      R2,#+0
        CMPEQ    R0,#+1
        BEQ      ??GetBooksFromSession_4
        LDR      R0,[R4, #+160]
        CMP      R0,#+0
        CMPEQ    R1,#+0
        BEQ      ??GetBooksFromSession_4
        LDR      R0,[SP, #+60]
        MOV      R1,R9
        SWI      +363
        MOV      R6,#+1
??GetBooksFromSession_5:
        ADD      R7,R7,#+1
??GetBooksFromSession_1:
        LDR      R0,[SP, #+52]
        LDR      R0,[R0, #+0]
        LDRH     R1,[R0, #+2]
        CMP      R7,R1
        BGE      ??GetBooksFromSession_2
        MOV      R1,R7
        SWI      +429
        MOV      R8,R0
        BL       ??isBookManager
        CMP      R0,#+0
        BNE      ??GetBooksFromSession_5
        MOV      R0,#+24
        _BLF     `??operator new`,`??operator new??rA`
        LDR      R1,??GetBooksFromSession_6  ;; `?<Constant "CUIDisplayableBook">`
        MOV      R9,R0
        STR      R8,[R9, #+0]
        LDR      R0,[R8, #+20]
        LDR      R0,[R0, #+4]
        LDRH     R0,[R0, #+2]
        STR      R0,[R9, #+8]
        MOV      R0,#+0
        STR      R0,[R9, #+12]
        STR      R0,[R9, #+16]
        LDR      R0,[R8, #+0]
        LDR      R0,[R0, #+4]
        SWI      +345
        CMP      R0,#+0
        BEQ      ??GetBooksFromSession_7
        LDR      R0,[R8, #+0]
        LDR      R0,[R0, #+4]
        SWI      +346
        ADD      R0,R0,#+1
        _BLF     `??operator new[]`,`??operator new[]??rA`
        MOV      R11,R0
        LDR      R0,[R8, #+0]
        LDR      R1,[R0, #+4]
        MOV      R0,R11
        SWI      +416
        B        ??GetBooksFromSession_8
??GetBooksFromSession_7:
        MOV      R0,R8
        SWI      +579
        LDR      R0,[R0, #+4]
        MOV      R2,#+51
        MOV      R1,SP
        SWI      +350
        MOV      R0,SP
        SWI      +346
        ADD      R0,R0,#+1
        _BLF     `??operator new[]`,`??operator new[]??rA`
        MOV      R11,R0
        MOV      R1,SP
        SWI      +416
        STR      R10,[R9, #+12]
??GetBooksFromSession_8:
        STR      R11,[R9, #+4]
        LDR      R0,[R4, #+48]
        CMP      R0,#+0
        BEQ      ??GetBooksFromSession_9
        LDR      R0,[R4, #+44]
        MOV      R1,R11
        SWI      +664
        CMP      R0,#+0
        MOVNE    R0,#+1
??GetBooksFromSession_9:
        STR      R0,[R9, #+20]
        MOV      R0,R8
        BL       ??GetJavaName
        MOV      R11,R0
        MVN      R0,#-1879048192
        CMP      R11,R0
        BEQ      ??GetBooksFromSession_10
        LDR      R0,[R9, #+4]
        _BLF     `??operator delete`,`??operator delete??rA`
        MOV      R2,#+51
        MOV      R1,SP
        MOV      R0,R11
        SWI      +350
        MOV      R0,SP
        SWI      +346
        ADD      R0,R0,#+1
        _BLF     `??operator new[]`,`??operator new[]??rA`
        MOV      R8,R0
        MOV      R1,SP
        SWI      +416
        STR      R8,[R9, #+4]
        STR      R10,[R9, #+16]
        MOV      R0,R11
        SWI      +353
        B        ??GetBooksFromSession_5
??GetBooksFromSession_10:
        LDR      R2,[R8, #+4]
        LDR      R1,[R9, #+8]
        LDR      R0,[R9, #+20]
        AND      R2,R2,#0xF8000000
        CMP      R2,R5
        BNE      ??GetBooksFromSession_3
        LDR      R2,[R4, #+148]
        CMP      R2,#+0
        CMPEQ    R0,#+1
        BNE      ??GetBooksFromSession_11
??GetBooksFromSession_4:
        MOV      R0,R9
        BL       ??BOOK_LIST_ITEM_Destroy
        B        ??GetBooksFromSession_5
??GetBooksFromSession_11:
        LDR      R0,[R4, #+152]
        CMP      R0,#+0
        CMPEQ    R1,#+0
        BEQ      ??GetBooksFromSession_4
        LDR      R0,[SP, #+56]
        MOV      R1,R9
        SWI      +363
        B        ??GetBooksFromSession_5
        DATA
??GetBooksFromSession_6:
        DC32     `?<Constant "CUIDisplayableBook">`
        CFI EndBlock cfiBlock35
//  412 }

        RSEG CODE:CODE:NOROOT(2)
        CFI Block cfiBlock36 Using cfiCommon1
        CFI NoFunction
        THUMB
??CreateBookAndElfsLists??rT:
        BX       PC
        Nop      
        CFI EndBlock cfiBlock36
        REQUIRE ??CreateBookAndElfsLists
//  413 
//  414 
//  415 // создаём список книг

        RSEG CODE:CODE:NOROOT(2)
        CFI Block cfiBlock37 Using cfiCommon0
        CFI Function ??CreateBookAndElfsLists
        ARM
//  416 void CreateBookAndElfsLists( MyBOOK* mbk )
//  417 {
??CreateBookAndElfsLists:
        PUSH     {R4-R9,LR}
        CFI ?RET Frame(CFA, -4)
        CFI R9 Frame(CFA, -8)
        CFI R8 Frame(CFA, -12)
        CFI R7 Frame(CFA, -16)
        CFI R6 Frame(CFA, -20)
        CFI R5 Frame(CFA, -24)
        CFI R4 Frame(CFA, -28)
        CFI CFA R13+28
        MOV      R4,R0
//  418 	int i, j, isElf;
//  419 	UI_APP_SESSION* session;
//  420 
//  421 	if (MINIMIZE_TO_SESSION)
        LDR      R0,??DataTable10  ;; MINIMIZE_TO_SESSION
        LDR      R5,[R0, #+0]
        CMP      R5,#+0
        BEQ      ??CreateBookAndElfsLists_1
//  422 		mbk->sessions_list = List_Create();
        SWI      +361
        STR      R0,[R4, #+56]
        B        ??CreateBookAndElfsLists_2
//  423 	else
//  424 		mbk->books_list = List_Create();
??CreateBookAndElfsLists_1:
        SWI      +361
        STR      R0,[R4, #+60]
//  425 
//  426 	mbk->elfs_list = List_Create();
??CreateBookAndElfsLists_2:
        SWI      +361
        STR      R0,[R4, #+64]
//  427 
//  428 	i = root_list_get_session_count();
        SWI      +499
        MOV      R6,R0
//  429 
//  430 	for ( j = 0; j < i; j++ )
        MOV      R7,#+0
        CMP      R6,#+1
        BGE      ??CreateBookAndElfsLists_3
//  431 	{
//  432 		session = root_list_get_session( j );
//  433 
//  434 		if (MINIMIZE_TO_SESSION)
//  435 		{
//  436 			SESSION_LIST_ITEM * elem = new SESSION_LIST_ITEM;
//  437 			elem->session=session;
//  438 			elem->books_list=List_Create();
//  439 			elem->pos_subitem=0;
//  440 
//  441 			isElf = GetBooksFromSession(mbk,session,elem->books_list,mbk->elfs_list);
//  442 
//  443 			if ( !elem->books_list->FirstFree || isElf )
//  444 				SESSION_LIST_ITEM_Destroy(elem);
//  445 			else
//  446 				List_InsertFirst( mbk->sessions_list, elem );
//  447 		}
//  448 		else
//  449 			GetBooksFromSession(mbk,session,mbk->books_list,mbk->elfs_list);
//  450 	}
//  451 
//  452 	if (MINIMIZE_TO_SESSION)
??CreateBookAndElfsLists_4:
        CMP      R5,#+0
        LDREQ    R0,[R4, #+60]
//  453 		mbk->blistcnt = mbk->sessions_list->FirstFree;
        LDRNE    R0,[R4, #+56]
        B        ??CreateBookAndElfsLists_5
??CreateBookAndElfsLists_6:
        LDR      R3,[R4, #+64]
        LDR      R2,[R4, #+60]
        MOV      R1,R9
        MOV      R0,R4
        BL       ??GetBooksFromSession
??CreateBookAndElfsLists_7:
        ADD      R7,R7,#+1
??CreateBookAndElfsLists_3:
        CMP      R7,R6
        BGE      ??CreateBookAndElfsLists_4
        MOV      R0,R7
        SWI      +500
        MOV      R9,R0
        CMP      R5,#+0
        BEQ      ??CreateBookAndElfsLists_6
        MOV      R0,#+12
        _BLF     `??operator new`,`??operator new??rA`
        MOV      R8,R0
        STR      R9,[R8, #+0]
        SWI      +361
        STR      R0,[R8, #+4]
        MOV      R0,#+0
        STRH     R0,[R8, #+8]
        LDR      R3,[R4, #+64]
        LDR      R2,[R8, #+4]
        MOV      R1,R9
        MOV      R0,R4
        BL       ??GetBooksFromSession
        LDR      R1,[R8, #+4]
        LDRH     R1,[R1, #+2]
        CMP      R1,#+0
        BEQ      ??CreateBookAndElfsLists_8
        CMP      R0,#+0
        BEQ      ??CreateBookAndElfsLists_9
??CreateBookAndElfsLists_8:
        MOV      R0,R8
        BL       ??SESSION_LIST_ITEM_Destroy
        B        ??CreateBookAndElfsLists_7
??CreateBookAndElfsLists_9:
        LDR      R0,[R4, #+56]
        MOV      R1,R8
        SWI      +363
        B        ??CreateBookAndElfsLists_7
??CreateBookAndElfsLists_5:
        LDRH     R0,[R0, #+2]
        STRH     R0,[R4, #+136]
//  454 	else
//  455 		mbk->blistcnt = mbk->books_list->FirstFree;
//  456 
//  457 	mbk->elistcnt = mbk->elfs_list->FirstFree;
        LDR      R0,[R4, #+64]
        LDRH     R0,[R0, #+2]
        STRH     R0,[R4, #+138]
//  458 }
        POP      {R4-R9,PC}       ;; return
        CFI EndBlock cfiBlock37

        RSEG CODE:CODE:NOROOT(2)
        CFI Block cfiBlock38 Using cfiCommon1
        CFI NoFunction
        THUMB
??get_path??rT:
        BX       PC
        Nop      
        CFI EndBlock cfiBlock38
        REQUIRE ??get_path
//  459 
//  460 

        RSEG CODE:CODE:NOROOT(2)
        CFI Block cfiBlock39 Using cfiCommon0
        CFI Function ??get_path
        ARM
//  461 wchar_t* get_path()
//  462 {
??get_path:
        PUSH     {R4,LR}
        CFI ?RET Frame(CFA, -4)
        CFI R4 Frame(CFA, -8)
        CFI CFA R13+8
//  463 	wchar_t* path = new wchar_t[wstrlen( GetDir( DIR_INI ) ) + sizeof("/bookman")];
        MOV      R0,#+22
        SWI      +261
        SWI      +343
        ADD      R0,R0,#+9
        LSL      R0,R0,#+1
        _BLF     `??operator new[]`,`??operator new[]??rA`
        MOV      R4,R0
//  464 	wstrcpy( path, GetDir( DIR_INI ) );
        MOV      R0,#+22
        SWI      +261
        MOV      R1,R0
        MOV      R0,R4
        SWI      +338
//  465 	wstrcat( path, L"/bookman" );
        LDR      R1,??get_path_1  ;; `?<Constant L"\\x2f\\x62\\x6f\\x6f\\x6b\\x6d\\x61\\x6e"`
        MOV      R0,R4
        SWI      +340
//  466 	return path;
        MOV      R0,R4
        POP      {R4,PC}          ;; return
        DATA
??get_path_1:
        DC32     `?<Constant L"\\x2f\\x62\\x6f\\x6f\\x6b\\x6d\\x61\\x6e"`
        CFI EndBlock cfiBlock39
//  467 }

        RSEG CODE:CODE:NOROOT(2)
        CFI Block cfiBlock40 Using cfiCommon1
        CFI NoFunction
        THUMB
??get_file??rT:
        BX       PC
        Nop      
        CFI EndBlock cfiBlock40
        REQUIRE ??get_file
//  468 
//  469 

        RSEG CODE:CODE:NOROOT(2)
        CFI Block cfiBlock41 Using cfiCommon0
        CFI Function ??get_file
        ARM
//  470 int get_file( wchar_t* name, void** buf_set )
//  471 {
??get_file:
        PUSH     {R4-R8,LR}
        CFI ?RET Frame(CFA, -4)
        CFI R8 Frame(CFA, -8)
        CFI R7 Frame(CFA, -12)
        CFI R6 Frame(CFA, -16)
        CFI R5 Frame(CFA, -20)
        CFI R4 Frame(CFA, -24)
        CFI CFA R13+24
        SUB      SP,SP,#+28
        CFI CFA R13+52
        MOV      R7,R0
        MOV      R4,R1
//  472 	int size = 0;
        MOV      R8,#+0
//  473 	int file;
//  474 	void* buf = 0;
        MOV      R6,#+0
//  475 	FSTAT _fstat;
//  476 
//  477 	wchar_t* path = get_path();
        BL       ??get_path
        MOV      R5,R0
//  478 
//  479 	if ( fstat( path, name, &_fstat ) == 0 )
        MOV      R2,SP
        MOV      R1,R7
        SWI      +284
        CMP      R0,#+0
        BNE      ??get_file_1
//  480 	{
//  481 		if ( ( file = _fopen( path, name, FSX_O_RDONLY, FSX_S_IREAD|FSX_S_IWRITE, 0 ) ) >= 0 )
        PUSH     {R0}
        CFI CFA R13+56
        MOV      R3,#+384
        MOV      R2,#+1
        MOV      R1,R7
        MOV      R0,R5
        SWI      +278
        MOVS     R7,R0
        ADD      SP,SP,#+4
        CFI CFA R13+52
        BMI      ??get_file_1
//  482 		{
//  483 			buf = malloc( _fstat.fsize+1 );
        LDR      R0,[SP, #+8]
        ADD      R0,R0,#+1
        SWI      +259
//  484 			fread( file, buf, _fstat.fsize );
        LDR      R2,[SP, #+8]
        MOV      R6,R0
        MOV      R1,R6
        MOV      R0,R7
        SWI      +280
//  485 			fclose( file );
        MOV      R0,R7
        SWI      +279
//  486 			size = _fstat.fsize;
        LDR      R8,[SP, #+8]
//  487 		}
//  488 	}
//  489 
//  490 	*buf_set = buf;
??get_file_1:
        STR      R6,[R4, #+0]
//  491 	delete( path );
        MOV      R0,R5
        _BLF     `??operator delete`,`??operator delete??rA`
//  492 	return size;
        MOV      R0,R8
        ADD      SP,SP,#+28
        CFI CFA R13+24
        POP      {R4-R8,PC}       ;; return
        CFI EndBlock cfiBlock41
//  493 }

        RSEG CODE:CODE:NOROOT(2)
        CFI Block cfiBlock42 Using cfiCommon1
        CFI NoFunction
        THUMB
??get_iconsID??rT:
        BX       PC
        Nop      
        CFI EndBlock cfiBlock42
        REQUIRE ??get_iconsID
//  494 
//  495 

        RSEG CODE:CODE:NOROOT(2)
        CFI Block cfiBlock43 Using cfiCommon0
        CFI Function ??get_iconsID
        ARM
//  496 void get_iconsID( MyBOOK* mbk )
//  497 {
??get_iconsID:
        PUSH     {R4-R9,LR}
        CFI ?RET Frame(CFA, -4)
        CFI R9 Frame(CFA, -8)
        CFI R8 Frame(CFA, -12)
        CFI R7 Frame(CFA, -16)
        CFI R6 Frame(CFA, -20)
        CFI R5 Frame(CFA, -24)
        CFI R4 Frame(CFA, -28)
        CFI CFA R13+28
//  498 	int i;
//  499 	IMAGEID imgID;
//  500 	int _imgID;
//  501 	wchar_t wstr_path[100];
//  502 
//  503 	for ( i = 0;i < ICONS_COUNT;i++ )
        LDR      R5,??get_iconsID_1  ;; id_digits
        SUB      SP,SP,#+208
        CFI CFA R13+236
        MOV      R4,R0
        MOV      R7,#+0
        MOV      R6,#+255
        ORR      R6,R6,#0xFF00
//  504 	{
//  505 		iconidname2id(id_names[i],TEXTID_ANY_LEN,&_imgID);
??get_iconsID_2:
        ADD      R2,SP,#+4
        MOV      R1,R6
        ADD      R0,R5,R7, LSL #+2
        LDR      R0,[R0, #+40]
        SWI      +646
//  506 		mbk->tabs_image[i].ImageID = _imgID;
        LDR      R1,[SP, #+4]
        ADD      R0,R4,R7, LSL #+1
        STRH     R1,[R0, #+100]
//  507 	}
        ADD      R7,R7,#+1
        CMP      R7,#+4
        BLT      ??get_iconsID_2
//  508 	for ( i = 0;i < DIGITS_COUNT;i++ )
        MOV      R7,#+0
//  509 	{
//  510 		iconidname2id(id_digits[i],TEXTID_ANY_LEN,&_imgID);
??get_iconsID_3:
        LDR      R0,[R5, +R7, LSL #+2]
        ADD      R2,SP,#+4
        MOV      R1,R6
        SWI      +646
//  511 		mbk->digs_image[i].ImageID = _imgID;
        LDR      R1,[SP, #+4]
        ADD      R0,R4,R7, LSL #+1
        STRH     R1,[R0, #+108]
//  512 	}
        ADD      R7,R7,#+1
        CMP      R7,#+10
        BLT      ??get_iconsID_3
//  513 	for ( i = 0;i < ICONS_COUNT;i++ )
        MOV      R7,#+0
        MOV      R6,#+0
//  514 	{
//  515 		wchar_t * wstr_name = wstrrchr(img_names[i],L'/');
//  516 		if ( wstr_name++ )
??get_iconsID_4:
        ADD      R9,R5,R7, LSL #+2
        LDR      R0,[R9, #+96]
        MOV      R1,#+47
        SWI      +430
        ADD      R8,R0,#+2
        CMP      R0,#+0
        BEQ      ??get_iconsID_5
//  517 		{
//  518 			int path_len = wstr_name-img_names[i]-1;
        LDR      R1,[R9, #+96]
        LSR      R0,R8,#+1
        SUB      R0,R0,R1, LSR #+1
        SUB      R9,R0,#+1
//  519 			wstrncpy(wstr_path,img_names[i],path_len);
        MOV      R2,R9
        ADD      R0,SP,#+8
        SWI      +339
//  520 			wstr_path[path_len]=0;
        ADD      R0,SP,#+8
        ADD      R0,R0,R9, LSL #+1
        STRH     R6,[R0, #+0]
//  521 			if (ImageID_Get( wstr_path, wstr_name, &imgID ) >= 0 )
        MOV      R2,SP
        MOV      R1,R8
        ADD      R0,SP,#+8
        SWI      +716
        CMP      R0,#+0
//  522 			{
//  523 				mbk->tabs_image[i].ImageID=imgID;
        LDRHPL   R1,[SP, #+0]
        ADDPL    R0,R4,R7, LSL #+1
        STRHPL   R1,[R0, #+100]
//  524 			}
//  525 		}
//  526 	}
??get_iconsID_5:
        ADD      R7,R7,#+1
        CMP      R7,#+4
        BLT      ??get_iconsID_4
//  527 	for ( i = 0;i < DIGITS_COUNT;i++ )
        MOV      R7,#+0
//  528 	{
//  529 		wchar_t * wstr_name = wstrrchr(img_digits[i],L'/');
//  530 		if ( wstr_name++ )
??get_iconsID_6:
        ADD      R9,R5,R7, LSL #+2
        LDR      R0,[R9, #+56]
        MOV      R1,#+47
        SWI      +430
        ADD      R8,R0,#+2
        CMP      R0,#+0
        BEQ      ??get_iconsID_7
//  531 		{
//  532 			int path_len = wstr_name-img_digits[i]-1;
        LDR      R1,[R9, #+56]
        LSR      R0,R8,#+1
        SUB      R0,R0,R1, LSR #+1
        SUB      R9,R0,#+1
//  533 			wstrncpy(wstr_path,img_digits[i],path_len);
        MOV      R2,R9
        ADD      R0,SP,#+8
        SWI      +339
//  534 			wstr_path[path_len]=0;
        ADD      R0,SP,#+8
        ADD      R0,R0,R9, LSL #+1
        STRH     R6,[R0, #+0]
//  535 			if (ImageID_Get( wstr_path, wstr_name, &imgID ) >= 0 )
        MOV      R2,SP
        MOV      R1,R8
        ADD      R0,SP,#+8
        SWI      +716
        CMP      R0,#+0
//  536 			{
//  537 				mbk->digs_image[i].ImageID=imgID;
        LDRHPL   R1,[SP, #+0]
        ADDPL    R0,R4,R7, LSL #+1
        STRHPL   R1,[R0, #+108]
//  538 			}
//  539 		}
//  540 	}
??get_iconsID_7:
        ADD      R7,R7,#+1
        CMP      R7,#+10
        BLT      ??get_iconsID_6
//  541 }
        ADD      SP,SP,#+208      ;; stack cleaning
        CFI CFA R13+28
        POP      {R4-R9,PC}       ;; return
        DATA
??get_iconsID_1:
        DC32     id_digits
        CFI EndBlock cfiBlock43

        RSEG CODE:CODE:NOROOT(2)
        CFI Block cfiBlock44 Using cfiCommon1
        CFI NoFunction
        THUMB
??LoadBookNames??rT:
        BX       PC
        Nop      
        CFI EndBlock cfiBlock44
        REQUIRE ??LoadBookNames
//  542 
//  543 
//  544 //Загрузить ини файлы

        RSEG CODE:CODE:NOROOT(2)
        CFI Block cfiBlock45 Using cfiCommon0
        CFI Function ??LoadBookNames
        ARM
//  545 void LoadBookNames(MyBOOK * mbk)
//  546 {
??LoadBookNames:
        PUSH     {R4,LR}
        CFI ?RET Frame(CFA, -4)
        CFI R4 Frame(CFA, -8)
        CFI CFA R13+8
        SUB      SP,SP,#+4
        CFI CFA R13+12
        MOV      R4,R0
//  547 	if ( mbk->booknames_buf )
        LDR      R0,[R4, #+28]
        CMP      R0,#+0
        BEQ      ??LoadBookNames_1
//  548 	{
//  549 		delete (mbk->booknames_buf);
        _BLF     `??operator delete`,`??operator delete??rA`
//  550 		mbk->booknames_buf=0;
        MOV      R0,#+0
        STR      R0,[R4, #+28]
//  551 	}
//  552 	void* sp;
//  553 	mbk->booknames_buf_size = get_file( INI_BOOK_NAMES, &sp );
??LoadBookNames_1:
        LDR      R0,??LoadBookNames_2  ;; `?<Constant L"\\x62\\x6f\\x6f\\x6b\\x6e\\x61\\x6d\\x65\\`
        MOV      R1,SP
        BL       ??get_file
        STR      R0,[R4, #+32]
//  554 	mbk->booknames_buf = (wchar_t*)sp;
        LDR      R0,[SP, #+0]
        STR      R0,[R4, #+28]
//  555 }
        POP      {R0,R4,PC}       ;; return
        DATA
??LoadBookNames_2:
        DC32     `?<Constant L"\\x62\\x6f\\x6f\\x6b\\x6e\\x61\\x6d\\x65\\`
        CFI EndBlock cfiBlock45

        RSEG CODE:CODE:NOROOT(2)
        CFI Block cfiBlock46 Using cfiCommon1
        CFI NoFunction
        THUMB
??LoadShortcuts??rT:
        BX       PC
        Nop      
        CFI EndBlock cfiBlock46
        REQUIRE ??LoadShortcuts
//  556 
//  557 

        RSEG CODE:CODE:NOROOT(2)
        CFI Block cfiBlock47 Using cfiCommon0
        CFI Function ??LoadShortcuts
        ARM
//  558 void LoadShortcuts(MyBOOK * mbk)
//  559 {
??LoadShortcuts:
        PUSH     {R4,LR}
        CFI ?RET Frame(CFA, -4)
        CFI R4 Frame(CFA, -8)
        CFI CFA R13+8
        SUB      SP,SP,#+4
        CFI CFA R13+12
        MOV      R4,R0
//  560 	if ( mbk->shortcuts_buf )
        LDR      R0,[R4, #+36]
        CMP      R0,#+0
        BEQ      ??LoadShortcuts_1
//  561 	{
//  562 		delete (mbk->shortcuts_buf);
        _BLF     `??operator delete`,`??operator delete??rA`
//  563 		mbk->shortcuts_buf=0;
        MOV      R0,#+0
        STR      R0,[R4, #+36]
//  564 	}
//  565 	void* sp;
//  566 	mbk->shortcuts_buf_size = get_file( INI_SHORTCUTS, &sp );
??LoadShortcuts_1:
        LDR      R0,??LoadShortcuts_2  ;; `?<Constant L"\\x73\\x68\\x6f\\x72\\x74\\x63\\x75\\x74\\`
        MOV      R1,SP
        BL       ??get_file
        STR      R0,[R4, #+40]
//  567 	mbk->shortcuts_buf = (char*)sp;
        LDR      R0,[SP, #+0]
        STR      R0,[R4, #+36]
//  568 }
        POP      {R0,R4,PC}       ;; return
        DATA
??LoadShortcuts_2:
        DC32     `?<Constant L"\\x73\\x68\\x6f\\x72\\x74\\x63\\x75\\x74\\`
        CFI EndBlock cfiBlock47

        RSEG CODE:CODE:NOROOT(2)
        CFI Block cfiBlock48 Using cfiCommon1
        CFI NoFunction
        THUMB
??LoadHidden??rT:
        BX       PC
        Nop      
        CFI EndBlock cfiBlock48
        REQUIRE ??LoadHidden
//  569 
//  570 

        RSEG CODE:CODE:NOROOT(2)
        CFI Block cfiBlock49 Using cfiCommon0
        CFI Function ??LoadHidden
        ARM
//  571 void LoadHidden(MyBOOK * mbk)
//  572 {
??LoadHidden:
        PUSH     {R4,LR}
        CFI ?RET Frame(CFA, -4)
        CFI R4 Frame(CFA, -8)
        CFI CFA R13+8
        SUB      SP,SP,#+4
        CFI CFA R13+12
        MOV      R4,R0
//  573 	if ( mbk->hidden_buf )
        LDR      R0,[R4, #+44]
        CMP      R0,#+0
        BEQ      ??LoadHidden_1
//  574 	{
//  575 		delete (mbk->hidden_buf);
        _BLF     `??operator delete`,`??operator delete??rA`
//  576 		mbk->hidden_buf=0;
        MOV      R0,#+0
        STR      R0,[R4, #+44]
//  577 	}
//  578 	void* sp;
//  579 	mbk->hidden_buf_size = get_file( INI_HIDDEN, &sp );
??LoadHidden_1:
        LDR      R0,??DataTable17  ;; `?<Constant L"\\x68\\x69\\x64\\x64\\x65\\x6e\\x2e\\x69\\`
        MOV      R1,SP
        BL       ??get_file
        STR      R0,[R4, #+48]
//  580 	mbk->hidden_buf = (char*)sp;
        LDR      R0,[SP, #+0]
        STR      R0,[R4, #+44]
//  581 }
        POP      {R0,R4,PC}       ;; return
        CFI EndBlock cfiBlock49

        RSEG CODE:CODE:NOROOT(2)
        CFI Block cfiBlock50 Using cfiCommon1
        CFI NoFunction
        THUMB
??onRootListChanged??rT:
        BX       PC
        Nop      
        CFI EndBlock cfiBlock50
        REQUIRE ??onRootListChanged
//  582 
//  583 // ======================== всякая служебная ерунда end ===========================================
//  584 
//  585 
//  586 // при убийстве какой либо книги

        RSEG CODE:CODE:NOROOT(2)
        CFI Block cfiBlock51 Using cfiCommon0
        CFI Function ??onRootListChanged
        ARM
//  587 int onRootListChanged( void* r0, BOOK* bk )
//  588 {
??onRootListChanged:
        PUSH     {R4,LR}
        CFI ?RET Frame(CFA, -4)
        CFI R4 Frame(CFA, -8)
        CFI CFA R13+8
        MOV      R4,R1
//  589 	MyBOOK* mbk = (MyBOOK*) bk;
//  590 	if ( !mbk->mode_list && !mbk->but_list )
        LDR      R0,[R4, #+84]
        CMP      R0,#+0
        LDREQ    R0,[R4, #+88]
        CMPEQ    R0,#+0
        BNE      ??onRootListChanged_1
//  591 	{
//  592 		// создали меню
//  593 		mbk->ActiveTAB=GetActiveTab(mbk);
        MOV      R0,R4
        BL       ??GetActiveTab
        STRH     R0,[R4, #+140]
//  594 		CreateBookManagerGUI( mbk );
        MOV      R0,R4
        BL       ??CreateBookManagerGUI
//  595 	}
//  596 	return 0;
??onRootListChanged_1:
        MOV      R0,#+0
        POP      {R4,PC}          ;; return
        CFI EndBlock cfiBlock51
//  597 }

        RSEG CODE:CODE:NOROOT(2)
        CFI Block cfiBlock52 Using cfiCommon1
        CFI NoFunction
        THUMB
??onUserInactivity??rT:
        BX       PC
        Nop      
        CFI EndBlock cfiBlock52
        REQUIRE ??onUserInactivity
//  598 
//  599 
//  600 // если юзер заснул...

        RSEG CODE:CODE:NOROOT(2)
        CFI Block cfiBlock53 Using cfiCommon0
        CFI Function ??onUserInactivity
        ARM
//  601 int onUserInactivity( void* r0, BOOK* bk )
//  602 {
??onUserInactivity:
        MOV      R0,R1
//  603 	if ( UserInactivityEventEnabled )
        LDR      R1,??onUserInactivity_1  ;; UserInactivityEventEnabled
        PUSH     {LR}
        CFI ?RET Frame(CFA, -4)
        CFI CFA R13+4
        LDR      R1,[R1, #+0]
        CMP      R1,#+0
        BEQ      ??onUserInactivity_2
//  604 		CloseMyBook( bk, 0 );
        MOV      R1,#+0
        BL       ??CloseMyBook
//  605 	return 0;
??onUserInactivity_2:
        MOV      R0,#+0
        POP      {PC}             ;; return
        DATA
??onUserInactivity_1:
        DC32     UserInactivityEventEnabled
        CFI EndBlock cfiBlock53
//  606 }

        RSEG CODE:CODE:NOROOT(2)
        CFI Block cfiBlock54 Using cfiCommon1
        CFI NoFunction
        THUMB
??onCallback_Books_GetItemName??rT:
        BX       PC
        Nop      
        CFI EndBlock cfiBlock54
        REQUIRE ??onCallback_Books_GetItemName
//  607 
//  608 

        RSEG CODE:CODE:NOROOT(2)
        CFI Block cfiBlock55 Using cfiCommon0
        CFI Function ??onCallback_Books_GetItemName
        ARM
//  609 TEXTID onCallback_Books_GetItemName(BOOK_LIST_ITEM * elem)
//  610 {
??onCallback_Books_GetItemName:
        PUSH     {R4,R5,LR}
        CFI ?RET Frame(CFA, -4)
        CFI R5 Frame(CFA, -8)
        CFI R4 Frame(CFA, -12)
        CFI CFA R13+12
        SUB      SP,SP,#+8
        CFI CFA R13+20
        MOV      R4,R0
//  611 	TEXTID name;
//  612 
//  613 	name = GetUserBookNameTEXTID(elem->book_name);
        LDR      R0,[R4, #+4]
        BL       ??GetUserBookNameTEXTID
        MOV      R5,R0
//  614 	if (elem->isHidden)
        LDR      R0,[R4, #+20]
        CMP      R0,#+0
        BEQ      ??onCallback_Books_GetItemName_1
//  615 	{
//  616 		TEXTID tmp[2];
//  617 		tmp[0]=TextID_Create("[H] ",ENC_LAT1,TEXTID_ANY_LEN);
        LDR      R0,??DataTable11  ;; `?<Constant "[H] ">`
        MOV      R2,#+255
        ORR      R2,R2,#0xFF00
        MOV      R1,#+6
        SWI      +349
        STR      R0,[SP, #+0]
//  618 		tmp[1]=name;
        STR      R5,[SP, #+4]
//  619 		name=TextID_Create(tmp,ENC_TEXTID,2);
        MOV      R2,#+2
        MOV      R1,#+5
        MOV      R0,SP
        SWI      +349
        MOV      R5,R0
//  620 	}
//  621 	return name;
??onCallback_Books_GetItemName_1:
        MOV      R0,R5
        POP      {R1,R2,R4,R5,PC}  ;; return
        CFI EndBlock cfiBlock55
//  622 }

        RSEG CODE:CODE:NOROOT(2)
        CFI Block cfiBlock56 Using cfiCommon1
        CFI NoFunction
        THUMB
??onCallback_Books??rT:
        BX       PC
        Nop      
        CFI EndBlock cfiBlock56
        REQUIRE ??onCallback_Books
//  623 
//  624 
//  625 // устанавливаем тексты в пунктах меню

        RSEG CODE:CODE:NOROOT(2)
        CFI Block cfiBlock57 Using cfiCommon0
        CFI Function ??onCallback_Books
        ARM
//  626 int onCallback_Books( GUI_MESSAGE* msg )
//  627 {
??onCallback_Books:
        PUSH     {R4-R9,LR}
        CFI ?RET Frame(CFA, -4)
        CFI R9 Frame(CFA, -8)
        CFI R8 Frame(CFA, -12)
        CFI R7 Frame(CFA, -16)
        CFI R6 Frame(CFA, -20)
        CFI R5 Frame(CFA, -24)
        CFI R4 Frame(CFA, -28)
        CFI CFA R13+28
//  628 	MyBOOK* mbk = (MyBOOK*) GUIonMessage_GetBook( msg );
//  629 	int item;
//  630 	int parent_item;
//  631 	SESSION_LIST_ITEM * ses_elem;
//  632 	BOOK_LIST_ITEM * elem;
//  633 
//  634 	switch( GUIonMessage_GetMsg( msg ) )
        LDR      R6,??onCallback_Books_1  ;; `?<Constant L"\\x43\\x61\\x6e\\x27\\x74\\x20\\x73\\x65\\_1`
        MOV      R4,R0
        MOV      R7,#+255
        SWI      +885
        MOV      R5,R0
        ORR      R7,R7,#0xFF00
        MOV      R0,R4
        SWI      +884
        CMP      R0,#+0
        BEQ      ??onCallback_Books_2
        SUBS     R0,R0,#+1
        BEQ      ??onCallback_Books_3
        SUBS     R0,R0,#+1
        BEQ      ??onCallback_Books_4
        SUBS     R0,R0,#+1
        BEQ      ??onCallback_Books_5
        B        ??onCallback_Books_6
//  635 	{
//  636 	case LISTMSG_GetItem:
//  637 		if ( mbk->blistcnt )
??onCallback_Books_3:
        LDRH     R0,[R5, #+136]
        CMP      R0,#+0
        BEQ      ??onCallback_Books_7
//  638 		{
//  639 			item = GUIonMessage_GetCreatedItemIndex( msg );
        MOV      R0,R4
        SWI      +311
        MOV      R8,R0
//  640 
//  641 			if (MINIMIZE_TO_SESSION)
        LDR      R0,??DataTable10  ;; MINIMIZE_TO_SESSION
        MOV      R1,R8
        LDR      R0,[R0, #+0]
        CMP      R0,#+0
        BEQ      ??onCallback_Books_8
//  642 			{
//  643 				ses_elem = (SESSION_LIST_ITEM*) List_Get( mbk->sessions_list, item );
        LDR      R0,[R5, #+56]
        SWI      +429
        MOV      R9,R0
//  644 
//  645 				GUIonMessage_SetNumberOfSubItems(msg,0,ses_elem->books_list->FirstFree);
        LDR      R0,[R9, #+4]
        MOV      R1,#+0
        LDRH     R2,[R0, #+2]
        MOV      R0,R4
        SWI      +580
//  646 				GUIonMessage_SetMenuItemText( msg, TextID_Copy(ses_elem->session->name) );
        LDR      R0,[R9, #+0]
        LDR      R0,[R0, #+4]
        SWI      +578
        MOV      R1,R0
        MOV      R0,R4
        SWI      +312
??onCallback_Books_6:
        MOV      R0,#+1
        POP      {R4-R9,PC}
//  647 			}
//  648 			else
//  649 			{
//  650 				elem = (BOOK_LIST_ITEM*) List_Get( mbk->books_list, item );
??onCallback_Books_8:
        LDR      R0,[R5, #+60]
        SWI      +429
        MOV      R8,R0
//  651 
//  652 				GUIonMessage_SetMenuItemText( msg, onCallback_Books_GetItemName(elem) );
        BL       ??onCallback_Books_GetItemName
        MOV      R1,R0
        MOV      R0,R4
        SWI      +312
//  653 
//  654 				if ( !elem->gui_count )
        LDR      R0,[R8, #+8]
        CMP      R0,#+0
        BNE      ??onCallback_Books_7
//  655 				{
//  656 					GUIonMessage_SetItemDisabled( msg, TRUE );
        MOV      R1,#+1
        MOV      R0,R4
        SWI      +642
//  657 					GUIonMessage_SetMenuItemUnavailableText( msg, STR( "Can't set focus to book without GUI..." ) );
        MOV      R2,R7
        MOV      R1,#+0
        MOV      R0,R6
        SWI      +349
        MOV      R1,R0
        MOV      R0,R4
        SWI      +315
        B        ??onCallback_Books_6
//  658 				}
//  659 			}
//  660 		}
//  661 		break;
//  662 
//  663 	case LISTMSG_HighlightChanged:
//  664 		mbk->blistpos = GUIonMessage_GetSelectedItem( msg );
??onCallback_Books_2:
        MOV      R0,R4
        SWI      +887
        STRH     R0,[R5, #+132]
//  665 		RefreshBookSoftkeys( mbk );
        B        ??onCallback_Books_9
//  666 		break;
//  667 
//  668 	case LISTMSG_GetSubItem:
//  669 		parent_item = GUIonMessage_SubItem_GetCreatedParentIndex(msg);
??onCallback_Books_5:
        MOV      R0,R4
        SWI      +582
        MOV      R6,R0
//  670 		item = GUIonMessage_SubItem_GetCreatedIndex(msg);
        MOV      R0,R4
        SWI      +594
        MOV      R8,R0
//  671 		ses_elem = (SESSION_LIST_ITEM*) List_Get( mbk->sessions_list, parent_item );
        LDR      R0,[R5, #+56]
        MOV      R1,R6
        SWI      +429
//  672 		elem = (BOOK_LIST_ITEM*)List_Get(ses_elem->books_list,item);
        LDR      R0,[R0, #+4]
        MOV      R1,R8
        SWI      +429
        MOV      R8,R0
//  673 
//  674 		GUIonMessage_SubItem_SetText(msg,onCallback_Books_GetItemName(elem));
        BL       ??onCallback_Books_GetItemName
        MOV      R1,R0
        MOV      R0,R4
        SWI      +581
//  675 
//  676 		if ( !elem->gui_count )
        LDR      R0,[R8, #+8]
        CMP      R0,#+0
        BNE      ??onCallback_Books_7
//  677 		{
//  678 			GUIonMessage_SubItem_SetDisabled( msg, TRUE );
        MOV      R1,#+1
        MOV      R0,R4
        SWI      +585
        B        ??onCallback_Books_6
//  679 			//GUIonMessage_SetMenuItemUnavailableText( msg, STR( "Can't set focus to book without GUI..." ) );
//  680 		}
//  681 		break;
//  682 
//  683 	case LISTMSG_SubItemHighlightChanged:
//  684 		ses_elem = (SESSION_LIST_ITEM*) List_Get( mbk->sessions_list, mbk->blistpos );
??onCallback_Books_4:
        LDR      R0,[R5, #+56]
        LDRH     R1,[R5, #+132]
        SWI      +429
        MOV      R9,R0
//  685 		ses_elem->pos_subitem = GUIonMessage_SubItem_GetSelectedIndex(msg);
        MOV      R0,R4
        SWI      +584
        STRH     R0,[R9, #+8]
//  686 
//  687 		elem=(BOOK_LIST_ITEM*)List_Get(ses_elem->books_list,ses_elem->pos_subitem);
        LDR      R0,[R9, #+4]
        LDRH     R1,[R9, #+8]
        SWI      +429
//  688 		if ( !elem->gui_count ) GUIonMessage_SetMenuItemUnavailableText( msg, STR( "Can't set focus to book without GUI..." ) );
        LDR      R0,[R0, #+8]
        CMP      R0,#+0
        BNE      ??onCallback_Books_9
        MOV      R2,R7
        MOV      R1,#+0
        MOV      R0,R6
        SWI      +349
        MOV      R1,R0
        MOV      R0,R4
        SWI      +315
//  689 
//  690 		RefreshBookSoftkeys( mbk );
??onCallback_Books_9:
        MOV      R0,R5
        BL       ??RefreshBookSoftkeys
//  691 		break;
//  692 	}
//  693 
//  694 	return 1;
??onCallback_Books_7:
        MOV      R0,#+1
        POP      {R4-R9,PC}       ;; return
        DATA
??onCallback_Books_1:
        DC32     `?<Constant L"\\x43\\x61\\x6e\\x27\\x74\\x20\\x73\\x65\\_1`
        CFI EndBlock cfiBlock57
//  695 }

        RSEG CODE:CODE:NOROOT(2)
        DATA
??DataTable10:
        DC32     MINIMIZE_TO_SESSION

        RSEG CODE:CODE:NOROOT(2)
        CFI Block cfiBlock58 Using cfiCommon1
        CFI NoFunction
        THUMB
??onCallback_Elfs??rT:
        BX       PC
        Nop      
        CFI EndBlock cfiBlock58
        REQUIRE ??onCallback_Elfs
//  696 
//  697 

        RSEG CODE:CODE:NOROOT(2)
        CFI Block cfiBlock59 Using cfiCommon0
        CFI Function ??onCallback_Elfs
        ARM
//  698 int onCallback_Elfs( GUI_MESSAGE* msg )
//  699 {
??onCallback_Elfs:
        PUSH     {R4-R8,LR}
        CFI ?RET Frame(CFA, -4)
        CFI R8 Frame(CFA, -8)
        CFI R7 Frame(CFA, -12)
        CFI R6 Frame(CFA, -16)
        CFI R5 Frame(CFA, -20)
        CFI R4 Frame(CFA, -24)
        CFI CFA R13+24
        SUB      SP,SP,#+8
        CFI CFA R13+32
        MOV      R4,R0
//  700 	MyBOOK* mbk = (MyBOOK*) GUIonMessage_GetBook( msg );
        SWI      +885
        MOV      R5,R0
//  701 	int item;
//  702 	BOOK_LIST_ITEM* elem;
//  703 	TEXTID name;
//  704 
//  705 	switch( GUIonMessage_GetMsg( msg ) )
        MOV      R0,R4
        SWI      +884
        CMP      R0,#+0
        BEQ      ??onCallback_Elfs_1
        SUBS     R0,R0,#+1
        BNE      ??onCallback_Elfs_2
//  706 	{
//  707 	case LISTMSG_GetItem:
//  708 		if ( mbk->elistcnt )
        LDRH     R0,[R5, #+138]
        CMP      R0,#+0
        BEQ      ??onCallback_Elfs_2
//  709 		{
//  710 			item = GUIonMessage_GetCreatedItemIndex( msg );
        MOV      R0,R4
        SWI      +311
//  711 			elem = (BOOK_LIST_ITEM*)List_Get( mbk->elfs_list, item );
        MOV      R1,R0
        LDR      R0,[R5, #+64]
//  712 			name = GetUserBookNameTEXTID(elem->book_name);
//  713 			if (elem->isHidden)
        LDR      R5,??DataTable11  ;; `?<Constant "[H] ">`
        SWI      +429
        MOV      R7,R0
        LDR      R0,[R7, #+4]
        MOV      R6,#+255
        BL       ??GetUserBookNameTEXTID
        MOV      R8,R0
        LDR      R0,[R7, #+20]
        ORR      R6,R6,#0xFF00
        CMP      R0,#+0
        BEQ      ??onCallback_Elfs_3
//  714 			{
//  715 				TEXTID tmp[2];
//  716 				tmp[0]=TextID_Create("[H] ",ENC_LAT1,TEXTID_ANY_LEN);
        MOV      R2,R6
        MOV      R1,#+6
        MOV      R0,R5
        SWI      +349
        STR      R0,[SP, #+0]
//  717 				tmp[1]=name;
        STR      R8,[SP, #+4]
//  718 				name=TextID_Create(tmp,ENC_TEXTID,2);
        MOV      R2,#+2
        MOV      R1,#+5
        MOV      R0,SP
        SWI      +349
        MOV      R8,R0
//  719 			}
//  720 			GUIonMessage_SetMenuItemText( msg, name );
??onCallback_Elfs_3:
        MOV      R1,R8
        MOV      R0,R4
        SWI      +312
//  721 
//  722 			if ( !elem->gui_count )
        LDR      R0,[R7, #+8]
        CMP      R0,#+0
        BNE      ??onCallback_Elfs_2
//  723 			{
//  724 				GUIonMessage_SetItemDisabled( msg, TRUE );
        MOV      R1,#+1
        MOV      R0,R4
        SWI      +642
//  725 				GUIonMessage_SetMenuItemUnavailableText( msg, STR( "Can't set focus to elf without GUI..." ) );
        MOV      R2,R6
        MOV      R1,#+0
        ADD      R0,R5,#+8
        SWI      +349
        MOV      R1,R0
        MOV      R0,R4
        SWI      +315
        MOV      R0,#+1
        POP      {R1,R2,R4-R8,PC}
//  726 			}
//  727 		}
//  728 		break;
//  729 	case LISTMSG_HighlightChanged:
//  730 		mbk->elistpos = GUIonMessage_GetSelectedItem( msg );
??onCallback_Elfs_1:
        MOV      R0,R4
        SWI      +887
        STRH     R0,[R5, #+134]
//  731 		RefreshElfSoftkeys( mbk, mbk->elistpos );
        LDRH     R1,[R5, #+134]
        MOV      R0,R5
        BL       ??RefreshElfSoftkeys
//  732 		break;
//  733 	}
//  734 	return 1;
??onCallback_Elfs_2:
        MOV      R0,#+1
        POP      {R1,R2,R4-R8,PC}  ;; return
        CFI EndBlock cfiBlock59
//  735 }

        RSEG CODE:CODE:NOROOT(2)
        DATA
??DataTable11:
        DC32     `?<Constant "[H] ">`

        RSEG CODE:CODE:NOROOT(2)
        CFI Block cfiBlock60 Using cfiCommon1
        CFI NoFunction
        THUMB
??onEnterPressed_Books??rT:
        BX       PC
        Nop      
        CFI EndBlock cfiBlock60
        REQUIRE ??onEnterPressed_Books
//  736 
//  737 
//  738 // при выборе пункта

        RSEG CODE:CODE:NOROOT(2)
        CFI Block cfiBlock61 Using cfiCommon0
        CFI Function ??onEnterPressed_Books
        ARM
//  739 void onEnterPressed_Books( BOOK* book, GUI* lt )
//  740 {
??onEnterPressed_Books:
        PUSH     {R4,LR}
        CFI ?RET Frame(CFA, -4)
        CFI R4 Frame(CFA, -8)
        CFI CFA R13+8
//  741 	BookObj_SetFocus( GetBook( book, BOOKLIST ), 0 );
        MOV      R1,#+0
        MOV      R4,R0
        BL       ??GetBook
        MOV      R1,#+0
        SWI      +306
//  742 	CloseMyBook( book, 0 );
        MOV      R1,#+0
        MOV      R0,R4
        POP      {R4,LR}          ;; Pop
        CFI R4 SameValue
        CFI ?RET R14
        CFI CFA R13+0
        B        ??CloseMyBook    ;; tailcall
        CFI EndBlock cfiBlock61
//  743 }

        RSEG CODE:CODE:NOROOT(2)
        CFI Block cfiBlock62 Using cfiCommon1
        CFI NoFunction
        THUMB
??onEnterPressed_Elfs??rT:
        BX       PC
        Nop      
        CFI EndBlock cfiBlock62
        REQUIRE ??onEnterPressed_Elfs
//  744 
//  745 
//  746 // при выборе эльфа

        RSEG CODE:CODE:NOROOT(2)
        CFI Block cfiBlock63 Using cfiCommon0
        CFI Function ??onEnterPressed_Elfs
        ARM
//  747 void onEnterPressed_Elfs( BOOK* book, GUI* lt )
//  748 {
??onEnterPressed_Elfs:
        PUSH     {R4,LR}
        CFI ?RET Frame(CFA, -4)
        CFI R4 Frame(CFA, -8)
        CFI CFA R13+8
//  749 	BOOK* bk = GetBook( book, ELFLIST );
        MOV      R1,#+1
        MOV      R4,R0
        BL       ??GetBook
//  750 	if ( bk )
        CMP      R0,#+0
        POPEQ    {R4,PC}
//  751 	{
//  752 		BookObj_SetFocus( bk, 0 );
        MOV      R1,#+0
        SWI      +306
//  753 		CloseMyBook( book, 0 );
        MOV      R1,#+0
        MOV      R0,R4
        BL       ??CloseMyBook
//  754 	}
//  755 }
        POP      {R4,PC}          ;; return
        CFI EndBlock cfiBlock63

        RSEG CODE:CODE:NOROOT(2)
        CFI Block cfiBlock64 Using cfiCommon1
        CFI NoFunction
        THUMB
??List_Find_Back_Action??rT:
        BX       PC
        Nop      
        CFI EndBlock cfiBlock64
        REQUIRE ??List_Find_Back_Action
//  756 
//  757 

        RSEG CODE:CODE:NOROOT(2)
        CFI Block cfiBlock65 Using cfiCommon0
        CFI Function ??List_Find_Back_Action
        ARM
//  758 int List_Find_Back_Action( SOFTKEY_DESC * elem, int act )
//  759 {
//  760   if ( elem->action == act ) return(0);
??List_Find_Back_Action:
        LDRH     R0,[R0, #+0]
        CMP      R0,R1
        MOVEQ    R0,#+0
        BXEQ     LR
//  761   return(1);
        MOV      R0,#+1
        BX       LR               ;; return
        CFI EndBlock cfiBlock65
//  762 }

        RSEG CODE:CODE:NOROOT(2)
        CFI Block cfiBlock66 Using cfiCommon1
        CFI NoFunction
        THUMB
??List_Find_Back_Action_A2??rT:
        BX       PC
        Nop      
        CFI EndBlock cfiBlock66
        REQUIRE ??List_Find_Back_Action_A2
//  763 
//  764 

        RSEG CODE:CODE:NOROOT(2)
        CFI Block cfiBlock67 Using cfiCommon0
        CFI Function ??List_Find_Back_Action_A2
        ARM
//  765 int List_Find_Back_Action_A2( SOFTKEY_DESC_A2 * elem, int act )
//  766 {
//  767   if ( elem->action == act ) return(0);
??List_Find_Back_Action_A2:
        LDRH     R0,[R0, #+0]
        CMP      R0,R1
        MOVEQ    R0,#+0
        BXEQ     LR
//  768   return(1);
        MOV      R0,#+1
        BX       LR               ;; return
        CFI EndBlock cfiBlock67
//  769 }

        RSEG CODE:CODE:NOROOT(2)
        CFI Block cfiBlock68 Using cfiCommon1
        CFI NoFunction
        THUMB
??onDelPressed_Books??rT:
        BX       PC
        Nop      
        CFI EndBlock cfiBlock68
        REQUIRE ??onDelPressed_Books
//  770 
//  771 
//  772 // при нажатии "С"

        RSEG CODE:CODE:NOROOT(2)
        CFI Block cfiBlock69 Using cfiCommon0
        CFI Function ??onDelPressed_Books
        ARM
//  773 void onDelPressed_Books( BOOK* book )
//  774 {
??onDelPressed_Books:
        PUSH     {R4-R7,LR}
        CFI ?RET Frame(CFA, -4)
        CFI R7 Frame(CFA, -8)
        CFI R6 Frame(CFA, -12)
        CFI R5 Frame(CFA, -16)
        CFI R4 Frame(CFA, -20)
        CFI CFA R13+20
        MOV      R4,R0
//  775         MyBOOK* mbk = (MyBOOK*) book;
//  776         
//  777         BOOK * sby_book=Find_StandbyBook();
        SWI      +305
        MOV      R7,R0
//  778 	BOOK_LIST_ITEM * elem = GetBookListItem( mbk, BOOKLIST );
        MOV      R1,#+0
        MOV      R0,R4
        BL       ??GetBookListItem
        MOVS     R5,R0
//  779 
//  780 	if (elem )
//  781 	{
//  782 		BOOK* bk = elem->book;
        LDRNE    R6,[R5, #+0]
//  783 
//  784                 if (bk != sby_book )
        CMPNE    R6,R7
        POPEQ    {R4-R7,PC}
//  785                 {
//  786 		      if (elem->isJava_2010==TRUE) JavaSession_Manager( 0x0E );
        LDR      R0,[R5, #+16]
        CMP      R0,#+1
        BNE      ??onDelPressed_Books_1
        MOV      R0,#+14
        SWI      +576
        POP      {R4-R7,PC}
//  787 		      else if (elem->isJava==TRUE) UI_Event_toBookID( TERMINATE_SESSION_EVENT, BookObj_GetBookID( bk ) );
??onDelPressed_Books_1:
        LDR      R0,??onDelPressed_Books_2  ;; TERMINATE_SESSION_EVENT
        LDR      R7,[R0, #+0]
        LDR      R0,[R5, #+12]
        CMP      R0,#+1
        MOVEQ    R0,R6
        BEQ      ??onDelPressed_Books_3
//  788 		      else
//  789       		      {
//  790 			      if ( CheckEv( bk, TERMINATE_SESSION_EVENT ) )
        MOV      R1,R7
        MOV      R0,R6
        BL       ??CheckEv
        CMP      R0,#+0
        BNE      ??onDelPressed_Books_4
//  791 	      			      UI_Event_toBookID( TERMINATE_SESSION_EVENT, BookObj_GetBookID( (BOOK*)List_Get( bk->xbook->app_session->listbook, bk->xbook->app_session->listbook->FirstFree - 1 ) ) );
//  792       			      else if ( CheckEv( bk, RETURN_TO_STANDBY_EVENT ) )
        LDR      R0,??DataTable20  ;; RETURN_TO_STANDBY_EVENT
        LDR      R7,[R0, #+0]
        MOV      R0,R6
        MOV      R1,R7
        BL       ??CheckEv
        CMP      R0,#+0
        BEQ      ??onDelPressed_Books_5
//  793 		      		      UI_Event_toBookID( RETURN_TO_STANDBY_EVENT, BookObj_GetBookID( (BOOK*)List_Get( bk->xbook->app_session->listbook, bk->xbook->app_session->listbook->FirstFree - 1 ) ) );
??onDelPressed_Books_4:
        LDR      R0,[R6, #+0]
        LDR      R1,[R0, #+8]
        LDR      R0,[R0, #+8]
        LDR      R1,[R1, #+0]
        LDR      R0,[R0, #+0]
        LDRH     R1,[R1, #+2]
        SUB      R1,R1,#+1
        SWI      +429
??onDelPressed_Books_3:
        SWI      +506
        MOV      R1,R0
        MOV      R0,R7
        SWI      +426
        POP      {R4-R7,PC}
//  794                               else
//  795                               {
//  796                                       if ( elem->gui_count )
??onDelPressed_Books_5:
        LDR      R0,[R5, #+8]
        CMP      R0,#+0
        POPEQ    {R4-R7,PC}
//  797                                       {
//  798                                               BookObj_SetFocus(bk,0);
        MOV      R1,#+0
        MOV      R0,R6
        SWI      +306
//  799                                               GUI * gui = (GUI*)List_Get( bk->xguilist->guilist, elem->gui_count - 1 );
        LDR      R0,[R5, #+8]
        SUB      R1,R0,#+1
        LDR      R0,[R6, #+20]
        LDR      R0,[R0, #+4]
        SWI      +429
//  800                                               GUIObject_SoftKeys_ExecuteAction( gui, ACTION_LONG_BACK );
        LDR      R1,??DataTable13  ;; ACTION_LONG_BACK
        LDR      R1,[R1, #+0]
        MOV      R1,R1, LSL #+16
        MOV      R1,R1, LSR #+16
        SWI      +880
//  801                                               BookObj_SetFocus(mbk,0);
        MOV      R1,#+0
        MOV      R0,R4
        SWI      +306
//  802                                       }
//  803                               }
//  804 		      }
//  805                 }
//  806 	}
//  807 }
        POP      {R4-R7,PC}       ;; return
        DATA
??onDelPressed_Books_2:
        DC32     TERMINATE_SESSION_EVENT
        CFI EndBlock cfiBlock69

        RSEG CODE:CODE:NOROOT(2)
        DATA
??DataTable13:
        DC32     ACTION_LONG_BACK

        RSEG CODE:CODE:NOROOT(2)
        CFI Block cfiBlock70 Using cfiCommon1
        CFI NoFunction
        THUMB
??onDelPressed_Elfs??rT:
        BX       PC
        Nop      
        CFI EndBlock cfiBlock70
        REQUIRE ??onDelPressed_Elfs
//  808 
//  809 
//  810 // при нажатии "С" на эльфе

        RSEG CODE:CODE:NOROOT(2)
        CFI Block cfiBlock71 Using cfiCommon0
        CFI Function ??onDelPressed_Elfs
        ARM
//  811 void onDelPressed_Elfs( BOOK* book )
//  812 {
??onDelPressed_Elfs:
        PUSH     {R4-R6,LR}
        CFI ?RET Frame(CFA, -4)
        CFI R6 Frame(CFA, -8)
        CFI R5 Frame(CFA, -12)
        CFI R4 Frame(CFA, -16)
        CFI CFA R13+16
        MOV      R4,R0
//  813 	BOOK* bk = GetBook( book, ELFLIST );
        MOV      R1,#+1
        BL       ??GetBook
        MOVS     R5,R0
//  814 	if (bk)
        POPEQ    {R4-R6,PC}
//  815 	{
//  816 		if ( CheckEv( bk, RETURN_TO_STANDBY_EVENT ) )
        LDR      R0,??DataTable20  ;; RETURN_TO_STANDBY_EVENT
        LDR      R6,[R0, #+0]
        MOV      R0,R5
        MOV      R1,R6
        BL       ??CheckEv
        CMP      R0,#+0
        BNE      ??onDelPressed_Elfs_1
//  817 		{
//  818 			UI_Event_toBookID( RETURN_TO_STANDBY_EVENT, BookObj_GetBookID( bk ) );
//  819 		}
//  820 		else
//  821 		{
//  822 			if ( CheckEv( bk, ELF_TERMINATE_EVENT ) )
        MOV      R6,#+229
        ORR      R6,R6,#0x300
        MOV      R1,R6
        MOV      R0,R5
        BL       ??CheckEv
        CMP      R0,#+0
        BEQ      ??onDelPressed_Elfs_2
//  823 			{
//  824 				UI_Event_toBookID( ELF_TERMINATE_EVENT, BookObj_GetBookID( bk )/* bk->BookID*/ );
??onDelPressed_Elfs_1:
        MOV      R0,R5
        SWI      +506
        MOV      R1,R0
        MOV      R0,R6
        SWI      +426
        POP      {R4-R6,PC}
//  825 			}
//  826 			else
//  827 			{
//  828 				MessageBox(EMPTY_TEXTID,STR("TerminateEvent not supported by elf..."),NOIMAGE,1,3000,book);
??onDelPressed_Elfs_2:
        LDR      R0,??onDelPressed_Elfs_3  ;; `?<Constant L"\\x54\\x65\\x72\\x6d\\x69\\x6e\\x61\\x74\\`
        MOV      R5,#+255
        ORR      R5,R5,#0xFF00
        MOV      R2,R5
        MOV      R1,#+0
        SWI      +349
        PUSH     {R4}
        CFI CFA R13+20
        MOV      R1,#+184
        ORR      R1,R1,#0xB00
        PUSH     {R1}
        CFI CFA R13+24
        MOV      R3,#+1
        MOV      R2,R5
        MOV      R1,R0
        MVN      R0,#-1879048192
        SWI      +599
        ADD      SP,SP,#+8
        CFI CFA R13+16
//  829 			}
//  830 		}
//  831 	}
//  832 }
        POP      {R4-R6,PC}       ;; return
        DATA
??onDelPressed_Elfs_3:
        DC32     `?<Constant L"\\x54\\x65\\x72\\x6d\\x69\\x6e\\x61\\x74\\`
        CFI EndBlock cfiBlock71

        RSEG CODE:CODE:NOROOT(2)
        CFI Block cfiBlock72 Using cfiCommon1
        CFI NoFunction
        THUMB
??onDelPressed??rT:
        BX       PC
        Nop      
        CFI EndBlock cfiBlock72
        REQUIRE ??onDelPressed
//  833 
//  834 

        RSEG CODE:CODE:NOROOT(2)
        CFI Block cfiBlock73 Using cfiCommon0
        CFI Function ??onDelPressed
        ARM
//  835 void onDelPressed()
//  836 {
//  837 	MyBOOK* mbk = (MyBOOK*) FindBook( isBookManager );
??onDelPressed:
        LDR      R0,??DataTable19  ;; ??isBookManager
        PUSH     {R4,LR}
        CFI ?RET Frame(CFA, -4)
        CFI R4 Frame(CFA, -8)
        CFI CFA R13+8
        SWI      +304
        MOV      R4,R0
//  838 
//  839 	if (GetActiveTab(mbk)==BOOKLIST)
        BL       ??GetActiveTab
        CMP      R0,#+0
        MOV      R0,R4
        BNE      ??onDelPressed_1
//  840 		onDelPressed_Books(mbk);
        POP      {R4,LR}          ;; Pop
        CFI R4 SameValue
        CFI ?RET R14
        CFI CFA R13+0
        B        ??onDelPressed_Books  ;; tailcall
        CFI R4 Frame(CFA, -8)
        CFI ?RET Frame(CFA, -4)
        CFI CFA R13+8
//  841 	else
//  842 		onDelPressed_Elfs(mbk);
??onDelPressed_1:
        POP      {R4,LR}          ;; Pop
        CFI R4 SameValue
        CFI ?RET R14
        CFI CFA R13+0
        B        ??onDelPressed_Elfs  ;; tailcall
        CFI EndBlock cfiBlock73
//  843 }

        RSEG CODE:CODE:NOROOT(2)
        CFI Block cfiBlock74 Using cfiCommon1
        CFI NoFunction
        THUMB
??Author??rT:
        BX       PC
        Nop      
        CFI EndBlock cfiBlock74
        REQUIRE ??Author
//  844 
//  845 
//  846 // при нажатии "Автора!" на эльфе

        RSEG CODE:CODE:NOROOT(2)
        CFI Block cfiBlock75 Using cfiCommon0
        CFI Function ??Author
        ARM
//  847 void Author( BOOK* book, GUI* lt )
//  848 {
??Author:
        PUSH     {R4-R7,LR}
        CFI ?RET Frame(CFA, -4)
        CFI R7 Frame(CFA, -8)
        CFI R6 Frame(CFA, -12)
        CFI R5 Frame(CFA, -16)
        CFI R4 Frame(CFA, -20)
        CFI CFA R13+20
        MOV      R4,R0
//  849 	BOOK* bk = GetBook( book, ELFLIST );
        MOV      R1,#+1
        BL       ??GetBook
        MOVS     R5,R0
//  850 	if ( bk )
        POPEQ    {R4-R7,PC}
//  851 	{
//  852 		if ( CheckEv( bk, ELF_SHOW_INFO_EVENT ) )
        MOV      R6,#+230
        ORR      R6,R6,#0x300
        MOV      R1,R6
        BL       ??CheckEv
        CMP      R0,#+0
        BEQ      ??Author_1
//  853 		{
//  854 			MSG* msg = new MSG;
        MOV      R0,#+4
        _BLF     `??operator new`,`??operator new??rA`
        MOV      R7,R0
//  855 			msg->book = book;
        STR      R4,[R7, #+0]
//  856 			UI_Event_toBookIDwData( ELF_SHOW_INFO_EVENT, BookObj_GetBookID( bk ), msg, ( void(*)( void*) )mfree_adr() );
        SWI      +33028
        MOV      R4,R0
        MOV      R0,R5
        SWI      +506
        MOV      R3,R4
        MOV      R2,R7
        MOV      R1,R0
        MOV      R0,R6
        SWI      +427
        POP      {R4-R7,PC}
//  857 		}
//  858 		else
//  859 		{
//  860 			MessageBox(EMPTY_TEXTID,STR("Author unknown"),NOIMAGE,1,3000,book);
??Author_1:
        LDR      R0,??Author_2    ;; `?<Constant L"\\x41\\x75\\x74\\x68\\x6f\\x72\\x20\\x75\\`
        MOV      R5,#+255
        ORR      R5,R5,#0xFF00
        MOV      R2,R5
        MOV      R1,#+0
        SWI      +349
        MOV      R1,R0
        PUSH     {R4}
        CFI CFA R13+24
        MOV      R0,#+184
        ORR      R0,R0,#0xB00
        PUSH     {R0}
        CFI CFA R13+28
        MOV      R3,#+1
        MOV      R2,R5
        MVN      R0,#-1879048192
        SWI      +599
        ADD      SP,SP,#+8
        CFI CFA R13+20
//  861 		}
//  862 	}
//  863 }
        POP      {R4-R7,PC}       ;; return
        DATA
??Author_2:
        DC32     `?<Constant L"\\x41\\x75\\x74\\x68\\x6f\\x72\\x20\\x75\\`
        CFI EndBlock cfiBlock75

        RSEG CODE:CODE:NOROOT(2)
        CFI Block cfiBlock76 Using cfiCommon1
        CFI NoFunction
        THUMB
??Copyright??rT:
        BX       PC
        Nop      
        CFI EndBlock cfiBlock76
        REQUIRE ??Copyright
//  864 
//  865 

        RSEG CODE:CODE:NOROOT(2)
        CFI Block cfiBlock77 Using cfiCommon0
        CFI Function ??Copyright
        ARM
//  866 void Copyright( BOOK* book, GUI* lt )
//  867 {
??Copyright:
        PUSH     {R4,R5,LR}
        CFI ?RET Frame(CFA, -4)
        CFI R5 Frame(CFA, -8)
        CFI R4 Frame(CFA, -12)
        CFI CFA R13+12
//  868 	MessageBox(EMPTY_TEXTID,COPYRIGHT_STRING,NOIMAGE,1,3000,book);
        MOV      R1,#+0
        MOV      R4,R0
        LDR      R0,??Copyright_1  ;; `?<Constant L"\\xa\\x42\\x6f\\x6f\\x6b\\x4d\\x61\\x6e\\x`
        MOV      R5,#+255
        ORR      R5,R5,#0xFF00
        MOV      R2,R5
        SWI      +349
        PUSH     {R4}
        CFI CFA R13+16
        MOV      R1,#+184
        ORR      R1,R1,#0xB00
        PUSH     {R1}
        CFI CFA R13+20
        MOV      R3,#+1
        MOV      R2,R5
        MOV      R1,R0
        MVN      R0,#-1879048192
        SWI      +599
//  869 }
        POP      {R0,R1,R4,R5,PC}  ;; return
        DATA
??Copyright_1:
        DC32     `?<Constant L"\\xa\\x42\\x6f\\x6f\\x6b\\x4d\\x61\\x6e\\x`
        CFI EndBlock cfiBlock77

        RSEG CODE:CODE:NOROOT(2)
        CFI Block cfiBlock78 Using cfiCommon1
        CFI NoFunction
        THUMB
??HideBook??rT:
        BX       PC
        Nop      
        CFI EndBlock cfiBlock78
        REQUIRE ??HideBook
//  870 
//  871 

        RSEG CODE:CODE:NOROOT(2)
        CFI Block cfiBlock79 Using cfiCommon0
        CFI Function ??HideBook
        ARM
//  872 void HideBook( BOOK* bk, GUI* gui )
//  873 {
??HideBook:
        PUSH     {R4-R7,LR}
        CFI ?RET Frame(CFA, -4)
        CFI R7 Frame(CFA, -8)
        CFI R6 Frame(CFA, -12)
        CFI R5 Frame(CFA, -16)
        CFI R4 Frame(CFA, -20)
        CFI CFA R13+20
        SUB      SP,SP,#+60
        CFI CFA R13+80
        MOV      R4,R0
//  874 	MyBOOK* mbk = (MyBOOK*) bk;
//  875 
//  876 	int f;
//  877 	wchar_t* path = get_path();
        BL       ??get_path
        MOV      R5,R0
//  878 
//  879 	mbk->ActiveTAB=GetActiveTab(mbk);
        MOV      R0,R4
        BL       ??GetActiveTab
        STRH     R0,[R4, #+140]
//  880 	BOOK_LIST_ITEM* elem = GetBookListItem(mbk,mbk->ActiveTAB);
        LDRH     R1,[R4, #+140]
        MOV      R0,R4
        BL       ??GetBookListItem
//  881 
//  882 	if ( ( f = _fopen( path, INI_HIDDEN, FSX_O_CREAT|FSX_O_APPEND, FSX_S_IREAD|FSX_S_IWRITE, 0 ) ) >= 0 )
        LDR      R1,??DataTable17  ;; `?<Constant L"\\x68\\x69\\x64\\x64\\x65\\x6e\\x2e\\x69\\`
        MOV      R6,R0
        MOV      R0,#+0
        PUSH     {R0}
        CFI CFA R13+84
        MOV      R3,#+384
        MOV      R2,#+264
        MOV      R0,R5
        SWI      +278
        MOVS     R7,R0
        ADD      SP,SP,#+4
        CFI CFA R13+80
        BMI      ??HideBook_1
//  883 	{
//  884 		char temp_buf[MAX_BOOK_NAME_LEN+10];
//  885 		strcpy( temp_buf, elem->book_name );
        LDR      R1,[R6, #+4]
        MOV      R0,SP
        SWI      +416
//  886 		strcat( temp_buf, "\r\n" );
        ADR      R1,??HideBook_2  ;; "\r\n"
        MOV      R0,SP
        SWI      +640
//  887 		fwrite( f, temp_buf, strlen( temp_buf ) );
        MOV      R0,SP
        SWI      +346
        MOV      R2,R0
        MOV      R1,SP
        MOV      R0,R7
        SWI      +281
//  888 		fclose( f );
        MOV      R0,R7
        SWI      +279
//  889 	}
//  890 
//  891 	delete path;
??HideBook_1:
        MOV      R0,R5
        _BLF     `??operator delete`,`??operator delete??rA`
//  892 
//  893 	LoadHidden(mbk);
        MOV      R0,R4
        BL       ??LoadHidden
//  894 
//  895 	CreateBookManagerGUI( mbk );
        MOV      R0,R4
        BL       ??CreateBookManagerGUI
//  896 }
        ADD      SP,SP,#+60
        CFI CFA R13+20
        POP      {R4-R7,PC}       ;; return
        DATA
??HideBook_2:
        DC8      "\r\n",+0
        CFI EndBlock cfiBlock79

        RSEG CODE:CODE:NOROOT(2)
        CFI Block cfiBlock80 Using cfiCommon1
        CFI NoFunction
        THUMB
??ShowBook??rT:
        BX       PC
        Nop      
        CFI EndBlock cfiBlock80
        REQUIRE ??ShowBook
//  897 
//  898 

        RSEG CODE:CODE:NOROOT(2)
        CFI Block cfiBlock81 Using cfiCommon0
        CFI Function ??ShowBook
        ARM
//  899 void ShowBook( BOOK* bk, GUI* gui )
//  900 {
??ShowBook:
        PUSH     {R4-R9,LR}
        CFI ?RET Frame(CFA, -4)
        CFI R9 Frame(CFA, -8)
        CFI R8 Frame(CFA, -12)
        CFI R7 Frame(CFA, -16)
        CFI R6 Frame(CFA, -20)
        CFI R5 Frame(CFA, -24)
        CFI R4 Frame(CFA, -28)
        CFI CFA R13+28
        MOV      R4,R0
//  901 	MyBOOK* mbk = (MyBOOK*) bk;
//  902 
//  903 	int f;
//  904 	char* pos;
//  905 	char* end_pos;
//  906 	wchar_t* path = get_path();
        BL       ??get_path
        MOV      R5,R0
//  907 
//  908 	mbk->ActiveTAB=GetActiveTab(mbk);
        MOV      R0,R4
        BL       ??GetActiveTab
        STRH     R0,[R4, #+140]
//  909 	BOOK_LIST_ITEM* elem = GetBookListItem(mbk,mbk->ActiveTAB);
        LDRH     R1,[R4, #+140]
        MOV      R0,R4
        BL       ??GetBookListItem
        MOV      R6,R0
//  910 
//  911 	if ( mbk->hidden_buf )
        LDR      R0,[R4, #+44]
        CMP      R0,#+0
        BEQ      ??ShowBook_1
//  912 	{
//  913 		pos = strstr( mbk->hidden_buf, elem->book_name );
        LDR      R1,[R6, #+4]
        SWI      +664
        MOV      R7,R0
//  914 		end_pos = pos + strlen(elem->book_name) + sizeof("\r\n") - sizeof("");
        LDR      R0,[R6, #+4]
        SWI      +346
//  915 		f = _fopen( path, INI_HIDDEN, FSX_O_RDWR|FSX_O_TRUNC, FSX_S_IREAD|FSX_S_IWRITE, 0 );
        LDR      R1,??DataTable17  ;; `?<Constant L"\\x68\\x69\\x64\\x64\\x65\\x6e\\x2e\\x69\\`
        ADD      R0,R0,R7
        ADD      R8,R0,#+2
        MOV      R0,#+0
        PUSH     {R0}
        CFI CFA R13+32
        MOV      R3,#+384
        MOV      R2,#+516
        MOV      R0,R5
        SWI      +278
        MOV      R9,R0
//  916 		fwrite( f, mbk->hidden_buf, pos - mbk->hidden_buf );
        LDR      R0,[R4, #+44]
        SUB      R2,R7,R0
        MOV      R1,R0
        MOV      R0,R9
        SWI      +281
//  917 		fwrite( f, end_pos, mbk->hidden_buf_size - (end_pos - mbk->hidden_buf) );
        LDR      R0,[R4, #+48]
        LDR      R1,[R4, #+44]
        SUB      R1,R8,R1
        SUB      R2,R0,R1
        MOV      R1,R8
        MOV      R0,R9
        SWI      +281
//  918 		fclose( f );
        MOV      R0,R9
        SWI      +279
        ADD      SP,SP,#+4
        CFI CFA R13+28
//  919 	}
//  920 
//  921 	elem->isHidden=FALSE;
        MOV      R0,#+0
??ShowBook_1:
        STR      R0,[R6, #+20]
//  922 
//  923 	delete path;
        MOV      R0,R5
        _BLF     `??operator delete`,`??operator delete??rA`
//  924 
//  925 	LoadHidden(mbk);
        MOV      R0,R4
        BL       ??LoadHidden
//  926 
//  927 	mbk->ActiveTAB=GetActiveTab(mbk);
        MOV      R0,R4
        BL       ??GetActiveTab
        STRH     R0,[R4, #+140]
//  928 	CreateBookManagerGUI( mbk );
        MOV      R0,R4
        BL       ??CreateBookManagerGUI
//  929 }
        POP      {R4-R9,PC}       ;; return
        CFI EndBlock cfiBlock81

        RSEG CODE:CODE:NOROOT(2)
        DATA
??DataTable17:
        DC32     `?<Constant L"\\x68\\x69\\x64\\x64\\x65\\x6e\\x2e\\x69\\`

        RSEG CODE:CODE:NOROOT(2)
        CFI Block cfiBlock82 Using cfiCommon1
        CFI NoFunction
        THUMB
??HiddenMode??rT:
        BX       PC
        Nop      
        CFI EndBlock cfiBlock82
        REQUIRE ??HiddenMode
//  930 
//  931 

        RSEG CODE:CODE:NOROOT(2)
        CFI Block cfiBlock83 Using cfiCommon0
        CFI Function ??HiddenMode
        ARM
//  932 void HiddenMode( BOOK* bk, GUI* gui )
//  933 {
??HiddenMode:
        PUSH     {R4,LR}
        CFI ?RET Frame(CFA, -4)
        CFI R4 Frame(CFA, -8)
        CFI CFA R13+8
        MOV      R4,R0
//  934 	MyBOOK* mbk = (MyBOOK*) bk;
//  935 
//  936 	mbk->ActiveTAB=GetActiveTab(mbk);
        BL       ??GetActiveTab
        STRH     R0,[R4, #+140]
//  937 
//  938 	if (mbk->ActiveTAB==BOOKLIST)
        LDRH     R2,[R4, #+140]
        MOV      R0,#+1
        MOV      R1,#+0
        CMP      R2,#+0
        BNE      ??HiddenMode_1
//  939 	{
//  940 		if (mbk->books_show_hid==FALSE) mbk->books_show_hid=TRUE;
        LDR      R2,[R4, #+148]
        CMP      R2,#+0
        STRNE    R1,[R4, #+148]
        STREQ    R0,[R4, #+148]
        MOV      R0,R4
        POP      {R4,LR}          ;; Pop
        CFI R4 SameValue
        CFI ?RET R14
        CFI CFA R13+0
        B        ??CreateBookManagerGUI  ;; tailcall
        CFI R4 Frame(CFA, -8)
        CFI ?RET Frame(CFA, -4)
        CFI CFA R13+8
//  941 		else mbk->books_show_hid=FALSE;
//  942 	}
//  943 	else
//  944 	{
//  945 		if (mbk->elfs_show_hid==FALSE) mbk->elfs_show_hid=TRUE;
??HiddenMode_1:
        LDR      R2,[R4, #+156]
        CMP      R2,#+0
        STREQ    R0,[R4, #+156]
//  946 		else mbk->elfs_show_hid=FALSE;
        STRNE    R1,[R4, #+156]
//  947 	}
//  948 
//  949 	CreateBookManagerGUI( mbk );
        MOV      R0,R4
        POP      {R4,LR}          ;; Pop
        CFI R4 SameValue
        CFI ?RET R14
        CFI CFA R13+0
        B        ??CreateBookManagerGUI  ;; tailcall
        CFI EndBlock cfiBlock83
//  950 }

        RSEG CODE:CODE:NOROOT(2)
        CFI Block cfiBlock84 Using cfiCommon1
        CFI NoFunction
        THUMB
??NoGUIMode??rT:
        BX       PC
        Nop      
        CFI EndBlock cfiBlock84
        REQUIRE ??NoGUIMode
//  951 
//  952 

        RSEG CODE:CODE:NOROOT(2)
        CFI Block cfiBlock85 Using cfiCommon0
        CFI Function ??NoGUIMode
        ARM
//  953 void NoGUIMode( BOOK* bk, GUI* gui )
//  954 {
??NoGUIMode:
        PUSH     {R4,LR}
        CFI ?RET Frame(CFA, -4)
        CFI R4 Frame(CFA, -8)
        CFI CFA R13+8
        MOV      R4,R0
//  955 	MyBOOK* mbk = (MyBOOK*) bk;
//  956 
//  957 	mbk->ActiveTAB=GetActiveTab(mbk);
        BL       ??GetActiveTab
        STRH     R0,[R4, #+140]
//  958 
//  959 	if (mbk->ActiveTAB==BOOKLIST)
        LDRH     R2,[R4, #+140]
        MOV      R0,#+1
        MOV      R1,#+0
        CMP      R2,#+0
        BNE      ??NoGUIMode_1
//  960 	{
//  961 		if (mbk->books_show_nogui==FALSE) mbk->books_show_nogui=TRUE;
        LDR      R2,[R4, #+152]
        CMP      R2,#+0
        STRNE    R1,[R4, #+152]
        STREQ    R0,[R4, #+152]
        MOV      R0,R4
        POP      {R4,LR}          ;; Pop
        CFI R4 SameValue
        CFI ?RET R14
        CFI CFA R13+0
        B        ??CreateBookManagerGUI  ;; tailcall
        CFI R4 Frame(CFA, -8)
        CFI ?RET Frame(CFA, -4)
        CFI CFA R13+8
//  962 		else mbk->books_show_nogui=FALSE;
//  963 	}
//  964 	else
//  965 	{
//  966 		if (mbk->elfs_show_nogui==FALSE) mbk->elfs_show_nogui=TRUE;
??NoGUIMode_1:
        LDR      R2,[R4, #+160]
        CMP      R2,#+0
        STREQ    R0,[R4, #+160]
//  967 		else mbk->elfs_show_nogui=FALSE;
        STRNE    R1,[R4, #+160]
//  968 	}
//  969 
//  970 	CreateBookManagerGUI( mbk );
        MOV      R0,R4
        POP      {R4,LR}          ;; Pop
        CFI R4 SameValue
        CFI ?RET R14
        CFI CFA R13+0
        B        ??CreateBookManagerGUI  ;; tailcall
        CFI EndBlock cfiBlock85
//  971 }

        RSEG CODE:CODE:NOROOT(2)
        CFI Block cfiBlock86 Using cfiCommon1
        CFI NoFunction
        THUMB
??StartElf??rT:
        BX       PC
        Nop      
        CFI EndBlock cfiBlock86
        REQUIRE ??StartElf
//  972 
//  973 

        RSEG CODE:CODE:NOROOT(2)
        CFI Block cfiBlock87 Using cfiCommon0
        CFI Function ??StartElf
        ARM
//  974 int StartElf( wchar_t* path, char* name )
//  975 {
??StartElf:
        PUSH     {R4-R9,LR}
        CFI ?RET Frame(CFA, -4)
        CFI R9 Frame(CFA, -8)
        CFI R8 Frame(CFA, -12)
        CFI R7 Frame(CFA, -16)
        CFI R6 Frame(CFA, -20)
        CFI R5 Frame(CFA, -24)
        CFI R4 Frame(CFA, -28)
        CFI CFA R13+28
        MOV      R6,R0
        MOV      R7,R1
//  976 	int res = -1;
        MVN      R4,#+0
//  977 	wchar_t* elfname = new wchar_t[wstrlen( path )+strlen( name )+1];
        SWI      +343
        MOV      R5,R0
        MOV      R0,R7
        SWI      +346
        ADD      R0,R0,R5
        ADD      R0,R0,#+1
        LSL      R0,R0,#+1
        _BLF     `??operator new[]`,`??operator new[]??rA`
        MOV      R5,R0
//  978 	wchar_t* wname = new wchar_t[strlen( name )+1];
        MOV      R0,R7
        SWI      +346
        ADD      R0,R0,#+1
        LSL      R0,R0,#+1
        _BLF     `??operator new[]`,`??operator new[]??rA`
        MOV      R8,R0
//  979 	str2wstr( wname, name );
        MOV      R1,R7
        SWI      +344
//  980 	wstrcpy( elfname, path );
        MOV      R1,R6
        MOV      R0,R5
        SWI      +338
//  981 	wstrcat( elfname, wname );
        MOV      R1,R8
        MOV      R0,R5
        SWI      +340
//  982 
//  983 	{
//  984 		wchar_t* path;
//  985 		wchar_t* name;
//  986 		int len;
//  987 		name = wstrrchr( elfname, '/' );
        MOV      R1,#+47
        MOV      R0,R5
        SWI      +430
        MOVS     R6,R0
//  988 		if ( name )
        BEQ      ??StartElf_1
//  989 		{
//  990 			path = new wchar_t[ ( len = name-elfname ) + 1 ];
        LSR      R0,R6,#+1
        SUB      R7,R0,R5, LSR #+1
        ADD      R0,R7,#+1
        LSL      R0,R0,#+1
        _BLF     `??operator new[]`,`??operator new[]??rA`
        MOV      R9,R0
//  991 			memcpy( path, elfname, len * sizeof(wchar_t) );
        LSL      R2,R7,#+1
        MOV      R1,R5
        SWI      +275
//  992 			path[len] = 0;
        ADD      R0,R9,R7, LSL #+1
        MOV      R1,#+0
        STRH     R1,[R0, #+0]
//  993 			name++;
//  994 			if ( !fstat( path, name, 0 ) )
        MOV      R2,#+0
        ADD      R1,R6,#+2
        MOV      R0,R9
        SWI      +284
        CMP      R0,#+0
        BNE      ??StartElf_2
//  995 			{
//  996 				res = elfload( elfname, 0, 0, 0 );
        MOV      R3,#+0
        MOV      R2,#+0
        MOV      R1,R2
        MOV      R0,R5
        SWI      +269
        MOV      R4,R0
//  997 			}
//  998 			delete( path );
??StartElf_2:
        MOV      R0,R9
        _BLF     `??operator delete`,`??operator delete??rA`
//  999 		}
// 1000 	}
// 1001 	delete( elfname );
??StartElf_1:
        MOV      R0,R5
        _BLF     `??operator delete`,`??operator delete??rA`
// 1002 	delete( wname );
        MOV      R0,R8
        _BLF     `??operator delete`,`??operator delete??rA`
// 1003 	return res;
        MOV      R0,R4
        POP      {R4-R9,PC}       ;; return
        CFI EndBlock cfiBlock87
// 1004 }

        RSEG CODE:CODE:NOROOT(2)
        CFI Block cfiBlock88 Using cfiCommon1
        CFI NoFunction
        THUMB
??StartShortcut_Internal??rT:
        BX       PC
        Nop      
        CFI EndBlock cfiBlock88
        REQUIRE ??StartShortcut_Internal
// 1005 
// 1006 

        RSEG CODE:CODE:NOROOT(2)
        CFI Block cfiBlock89 Using cfiCommon0
        CFI Function ??StartShortcut_Internal
        ARM
// 1007 void StartShortcut_Internal(char * param)
// 1008 {
??StartShortcut_Internal:
        PUSH     {R4,LR}
        CFI ?RET Frame(CFA, -4)
        CFI R4 Frame(CFA, -8)
        CFI CFA R13+8
        SUB      SP,SP,#+516
        CFI CFA R13+524
        MOV      R4,R0
// 1009 	wchar_t par[256];
// 1010 
// 1011 	str2wstr( par, param );
        MOV      R1,R4
        ADD      R0,SP,#+4
        SWI      +344
// 1012 
// 1013 	if ( strstr( param, "java:" ) )
        LDR      R1,??StartShortcut_Internal_1  ;; `?<Constant "java:">`
        MOV      R0,R4
        SWI      +664
        CMP      R0,#+0
        ADD      R0,SP,#+4
        BEQ      ??StartShortcut_Internal_2
// 1014 	{
// 1015 		char sp_flag;
// 1016 		REQUEST_UI_OAF_START_APPLICATION( ASYNC, JavaShortcut_GetID(par)+0x10000, &sp_flag );
        BL       ??JavaShortcut_GetID
        ADD      R1,R0,#+65536
        LDR      R0,??StartShortcut_Internal_1+0x4  ;; ASYNC
        MOV      R2,SP
        LDR      R0,[R0, #+0]
        SWI      +779
        ADD      SP,SP,#+516
        CFI CFA R13+8
        POP      {R4,PC}
        CFI CFA R13+524
// 1017 	}
// 1018 	else
// 1019 	{
// 1020 		Shortcut_Run( par );
??StartShortcut_Internal_2:
        SWI      +654
// 1021 	}
// 1022 }
        ADD      SP,SP,#+516
        CFI CFA R13+8
        POP      {R4,PC}          ;; return
        DATA
??StartShortcut_Internal_1:
        DC32     `?<Constant "java:">`
        DC32     ASYNC
        CFI EndBlock cfiBlock89

        RSEG CODE:CODE:NOROOT(2)
        CFI Block cfiBlock90 Using cfiCommon1
        CFI NoFunction
        THUMB
??StartShortcut_External??rT:
        BX       PC
        Nop      
        CFI EndBlock cfiBlock90
        REQUIRE ??StartShortcut_External
// 1023 
// 1024 

        RSEG CODE:CODE:NOROOT(2)
        CFI Block cfiBlock91 Using cfiCommon0
        CFI Function ??StartShortcut_External
        ARM
// 1025 void StartShortcut_External(char * param)
// 1026 {
??StartShortcut_External:
        PUSH     {R4-R6,LR}
        CFI ?RET Frame(CFA, -4)
        CFI R6 Frame(CFA, -8)
        CFI R5 Frame(CFA, -12)
        CFI R4 Frame(CFA, -16)
        CFI CFA R13+16
        SUB      SP,SP,#+12
        CFI CFA R13+28
        MOV      R4,R0
// 1027 	if( StartElf( GetDir( DIR_ELFS | MEM_INTERNAL ), param ) < 0 )
        MOV      R0,#+17
        SWI      +261
        MOV      R1,R4
        BL       ??StartElf
        CMP      R0,#+0
        POPPL    {R0-R2,R4-R6,PC}
// 1028 		if ( StartElf( GetDir( DIR_ELFS | MEM_EXTERNAL ), param ) < 0 )
        MOV      R0,#+16
        SWI      +261
        MOV      R1,R4
        BL       ??StartElf
        CMP      R0,#+0
        POPPL    {R0-R2,R4-R6,PC}
// 1029 		{
// 1030 			int ms[3];
// 1031 			ms[0] = STR( "ZBin" );
        LDR      R5,??StartShortcut_External_1  ;; `?<Constant L"\\x5a\\x42\\x69\\x6e">`
        MOV      R6,#+255
        ORR      R6,R6,#0xFF00
        MOV      R2,R6
        MOV      R1,#+0
        MOV      R0,R5
        SWI      +349
        STR      R0,[SP, #+0]
// 1032 			ms[1] = TextID_Create( param, ENC_LAT1, strlen( param ) );
        MOV      R0,R4
        SWI      +346
        MOV      R2,R0
        MOV      R1,#+6
        MOV      R0,R4
        SWI      +349
        STR      R0,[SP, #+4]
// 1033 			ms[2] = STR( "\n\nnot found.." );
        MOV      R2,R6
        MOV      R1,#+0
        ADD      R0,R5,#+12
        SWI      +349
        STR      R0,[SP, #+8]
// 1034 			MessageBox( EMPTY_TEXTID,TextID_Create(ms,ENC_TEXTID,3),NOIMAGE,1,3000,FindBook(isBookManager));
        LDR      R0,??DataTable19  ;; ??isBookManager
        SWI      +304
        MOV      R4,R0
        MOV      R2,#+3
        MOV      R1,#+5
        MOV      R0,SP
        SWI      +349
        MOV      R1,R0
        PUSH     {R4}
        CFI CFA R13+32
        MOV      R0,#+184
        ORR      R0,R0,#0xB00
        PUSH     {R0}
        CFI CFA R13+36
        MOV      R3,#+1
        MOV      R2,R6
        MVN      R0,#-1879048192
        SWI      +599
        ADD      SP,SP,#+8
        CFI CFA R13+28
// 1035 		}
// 1036 }
        POP      {R0-R2,R4-R6,PC}  ;; return
        DATA
??StartShortcut_External_1:
        DC32     `?<Constant L"\\x5a\\x42\\x69\\x6e">`
        CFI EndBlock cfiBlock91

        RSEG CODE:CODE:NOROOT(2)
        CFI Block cfiBlock92 Using cfiCommon1
        CFI NoFunction
        THUMB
??myOnKey_Unified??rT:
        BX       PC
        Nop      
        CFI EndBlock cfiBlock92
        REQUIRE ??myOnKey_Unified
// 1037 
// 1038 
// 1039 // патченый onKey от своей менюхи...; )

        RSEG CODE:CODE:NOROOT(2)
        CFI Block cfiBlock93 Using cfiCommon0
        CFI Function ??myOnKey_Unified
        ARM
// 1040 void myOnKey_Unified( DISP_OBJ* p, int keyID, int i2, int i3, int press_mode )
// 1041 {
??myOnKey_Unified:
        PUSH     {R4-R9,LR}
        CFI ?RET Frame(CFA, -4)
        CFI R9 Frame(CFA, -8)
        CFI R8 Frame(CFA, -12)
        CFI R7 Frame(CFA, -16)
        CFI R6 Frame(CFA, -20)
        CFI R5 Frame(CFA, -24)
        CFI R4 Frame(CFA, -28)
        CFI CFA R13+28
        SUB      SP,SP,#+20
        CFI CFA R13+48
        LDR      R6,[SP, #+48]
        MOV      R7,R0
// 1042 	MyBOOK* mbk = (MyBOOK*) FindBook( isBookManager );
        LDR      R0,??DataTable19  ;; ??isBookManager
        MOV      R4,R1
        MOV      R8,R2
        MOV      R9,R3
        SWI      +304
        MOV      R5,R0
// 1043 
// 1044 	mbk->oldOnKey( p, keyID, i2, i3, press_mode );
        MOV      R0,R6
        PUSH     {R0}
        CFI CFA R13+52
        MOV      R3,R9
        MOV      R2,R8
        MOV      R1,R4
        MOV      R0,R7
        LDR      R7,[R5, #+52]
        BLX      R7
// 1045 
// 1046 	if ( keyID == KEY_DEL && press_mode == KBD_SHORT_RELEASE )
        LDR      R0,??myOnKey_Unified_1  ;; KEY_DEL
        LDR      R0,[R0, #+0]
        ADD      SP,SP,#+4
        CFI CFA R13+48
        CMP      R4,R0
        BNE      ??myOnKey_Unified_2
        LDR      R0,??myOnKey_Unified_1+0x4  ;; KBD_SHORT_RELEASE
        LDR      R0,[R0, #+0]
        CMP      R6,R0
        BNE      ??myOnKey_Unified_2
// 1047 		onDelPressed();
        BL       ??onDelPressed
// 1048 
// 1049 	if ( keyID == KeyMinimize && press_mode == KeyMinimizePressMode )
??myOnKey_Unified_2:
        LDR      R0,??myOnKey_Unified_1+0x8  ;; KeyMinimize
        LDR      R0,[R0, #+0]
        CMP      R4,R0
        BNE      ??myOnKey_Unified_3
        LDR      R0,??myOnKey_Unified_1+0xC  ;; KeyMinimizePressMode
        LDR      R0,[R0, #+0]
        CMP      R6,R0
        BNE      ??myOnKey_Unified_3
// 1050 	{
// 1051 		BOOK* stby_bk = Find_StandbyBook();
        SWI      +305
// 1052 		if ( stby_bk ) BookObj_SetFocus( stby_bk, 0 );
        CMP      R0,#+0
        BEQ      ??myOnKey_Unified_4
        MOV      R1,#+0
        SWI      +306
// 1053 		CloseMyBook( mbk, 0 );
        B        ??myOnKey_Unified_4
// 1054 	}
// 1055 
// 1056 	else if ( keyID == KeyCloseAll && press_mode == KeyCloseAllPressMode )
??myOnKey_Unified_3:
        LDR      R0,??myOnKey_Unified_1+0x10  ;; KeyCloseAll
        LDR      R0,[R0, #+0]
        CMP      R4,R0
        BNE      ??myOnKey_Unified_5
        LDR      R0,??myOnKey_Unified_1+0x14  ;; KeyCloseAllPressMode
        LDR      R0,[R0, #+0]
        CMP      R6,R0
        BNE      ??myOnKey_Unified_5
// 1057 	{
// 1058 		UI_Event( RETURN_TO_STANDBY_EVENT );
        LDR      R0,??DataTable20  ;; RETURN_TO_STANDBY_EVENT
        LDR      R0,[R0, #+0]
        SWI      +424
// 1059 		CloseMyBook( mbk, 0 );
        B        ??myOnKey_Unified_4
// 1060 	}
// 1061 
// 1062 	else if ( press_mode == KBD_SHORT_RELEASE || press_mode == KBD_LONG_PRESS )
??myOnKey_Unified_5:
        LDR      R0,??myOnKey_Unified_1+0x4  ;; KBD_SHORT_RELEASE
        LDR      R0,[R0, #+0]
        CMP      R6,R0
        BEQ      ??myOnKey_Unified_6
        LDR      R0,??myOnKey_Unified_1+0x18  ;; KBD_LONG_PRESS
        LDR      R0,[R0, #+0]
        CMP      R6,R0
        BNE      ??myOnKey_Unified_7
// 1063 	{
// 1064 		if ( mbk->shortcuts_buf )
??myOnKey_Unified_6:
        LDR      R0,[R5, #+36]
        CMP      R0,#+0
        BEQ      ??myOnKey_Unified_7
// 1065 		{
// 1066 			char key[20];
// 1067 
// 1068 			if ( GetActiveTab(mbk)==BOOKLIST || ShortcutsMode )
        LDR      R7,??myOnKey_Unified_1+0x1C  ;; `?<Constant "[S_KEY%d]">`
        MOV      R0,R5
        BL       ??GetActiveTab
        CMP      R0,#+0
        BEQ      ??myOnKey_Unified_8
        LDR      R0,??myOnKey_Unified_1+0x20  ;; ShortcutsMode
        LDR      R0,[R0, #+0]
        CMP      R0,#+0
        BEQ      ??myOnKey_Unified_9
// 1069 				sprintf( key, press_mode == 3?"[S_KEY%d]":"[L_KEY%d]", keyID-KEY_DIGITAL_0 );
??myOnKey_Unified_8:
        LDR      R0,??myOnKey_Unified_1+0x24  ;; KEY_DIGITAL_0
        CMP      R6,#+3
        LDR      R0,[R0, #+0]
        ADDNE    R7,R7,#+12
        SUB      R2,R4,R0
        MOV      R1,R7
        B        ??myOnKey_Unified_10
// 1070 			else
// 1071 				sprintf( key, press_mode == 3 ? "[ES_KEY%d]" : "[EL_KEY%d]", keyID - KEY_DIGITAL_0 );
??myOnKey_Unified_9:
        LDR      R0,??myOnKey_Unified_1+0x24  ;; KEY_DIGITAL_0
        CMP      R6,#+3
        LDR      R0,[R0, #+0]
        ADDEQ    R1,R7,#+24
        ADDNE    R1,R7,#+36
        SUB      R2,R4,R0
??myOnKey_Unified_10:
        MOV      R0,SP
        SWI      +276
// 1072 
// 1073 			char* param = manifest_GetParam( mbk->shortcuts_buf, key, 0 );
        LDR      R0,[R5, #+36]
        MOV      R2,#+0
        MOV      R1,SP
        SWI      +373
        MOVS     R4,R0
// 1074 			if ( param )
        BEQ      ??myOnKey_Unified_7
// 1075 			{
// 1076 				if (param[0]=='/')
        LDRB     R0,[R4, #+0]
        CMP      R0,#+47
        MOV      R0,R4
        BNE      ??myOnKey_Unified_11
// 1077 					StartShortcut_External(param);
        BL       ??StartShortcut_External
        B        ??myOnKey_Unified_12
// 1078 				else
// 1079 					StartShortcut_Internal(param);
??myOnKey_Unified_11:
        BL       ??StartShortcut_Internal
// 1080 
// 1081 				mfree( param );
??myOnKey_Unified_12:
        MOV      R0,R4
        SWI      +260
// 1082 				CloseMyBook( mbk, 0 );
??myOnKey_Unified_4:
        MOV      R1,#+0
        MOV      R0,R5
        BL       ??CloseMyBook
// 1083 			}
// 1084 		}
// 1085 	}
// 1086 }
??myOnKey_Unified_7:
        ADD      SP,SP,#+20       ;; stack cleaning
        CFI CFA R13+28
        POP      {R4-R9,PC}       ;; return
        DATA
??myOnKey_Unified_1:
        DC32     KEY_DEL
        DC32     KBD_SHORT_RELEASE
        DC32     KeyMinimize
        DC32     KeyMinimizePressMode
        DC32     KeyCloseAll
        DC32     KeyCloseAllPressMode
        DC32     KBD_LONG_PRESS
        DC32     `?<Constant "[S_KEY%d]">`
        DC32     ShortcutsMode
        DC32     KEY_DIGITAL_0
        CFI EndBlock cfiBlock93

        RSEG CODE:CODE:NOROOT(2)
        DATA
??DataTable19:
        DC32     ??isBookManager

        RSEG CODE:CODE:NOROOT(2)
        DATA
??DataTable20:
        DC32     RETURN_TO_STANDBY_EVENT

        RSEG CODE:CODE:NOROOT(2)
        CFI Block cfiBlock94 Using cfiCommon1
        CFI NoFunction
        THUMB
??RefreshElfSoftkeys??rT:
        BX       PC
        Nop      
        CFI EndBlock cfiBlock94
        REQUIRE ??RefreshElfSoftkeys
// 1087 
// 1088 

        RSEG CODE:CODE:NOROOT(2)
        CFI Block cfiBlock95 Using cfiCommon0
        CFI Function ??RefreshElfSoftkeys
        ARM
// 1089 void RefreshElfSoftkeys( MyBOOK* mbk, int item )
// 1090 {
??RefreshElfSoftkeys:
        PUSH     {R4,R5,LR}
        CFI ?RET Frame(CFA, -4)
        CFI R5 Frame(CFA, -8)
        CFI R4 Frame(CFA, -12)
        CFI CFA R13+12
        MOV      R4,R0
// 1091 	if ( mbk->elistcnt )
        LDRH     R0,[R4, #+138]
        CMP      R0,#+0
        BEQ      ??RefreshElfSoftkeys_1
// 1092 	{
// 1093 		BOOK_LIST_ITEM* elem = (BOOK_LIST_ITEM*) List_Get( mbk->elfs_list, item );
        LDR      R0,[R4, #+64]
        SWI      +429
        MOV      R5,R0
// 1094 		if ( !elem->gui_count )
        LDR      R0,[R5, #+8]
        CMP      R0,#+0
// 1095 			GUIObject_SoftKeys_SetVisible( mbk->elist, ACTION_SELECT1, FALSE );
// 1096 		else
// 1097 			GUIObject_SoftKeys_SetVisible( mbk->elist, ACTION_SELECT1, TRUE );
        LDR      R0,??DataTable32  ;; ACTION_SELECT1
        MOVEQ    R2,#+0
        LDR      R1,[R0, #+0]
        LDR      R0,[R4, #+80]
        MOVNE    R2,#+1
        MOV      R1,R1, LSL #+16
        MOV      R1,R1, LSR #+16
        SWI      +336
// 1098 
// 1099 		GUIObject_SoftKeys_SetVisible( mbk->elist, TAB_ELFS_HIDEBOOK_SOFTKEY, 1 - elem->isHidden );
        LDR      R0,[R5, #+20]
        MOV      R1,#+4
        RSB      R2,R0,#+1
        LDR      R0,[R4, #+80]
        SWI      +336
// 1100 		GUIObject_SoftKeys_SetVisible( mbk->elist, TAB_ELFS_SHOWBOOK_SOFTKEY, elem->isHidden );
        LDR      R2,[R5, #+20]
        LDR      R0,[R4, #+80]
        MOV      R1,#+5
        SWI      +336
// 1101 		GUIObject_SoftKeys_SetVisible( mbk->elist, TAB_ELFS_RENAME_SOFTKEY, TRUE );
        LDR      R0,[R4, #+80]
        MOV      R2,#+1
        MOV      R1,#+1
        SWI      +336
// 1102 		GUIObject_SoftKeys_SetVisible( mbk->elist, TAB_ELFS_AUTHOR_SOFTKEY, TRUE );
        LDR      R0,[R4, #+80]
        MOV      R2,#+1
        MOV      R1,#+2
        SWI      +336
        B        ??RefreshElfSoftkeys_2
// 1103 	}
// 1104 	else
// 1105 	{
// 1106 		ListMenu_SetNoItemText( mbk->elist, STR( "No elfs in memory" ) );
??RefreshElfSoftkeys_1:
        LDR      R0,??RefreshElfSoftkeys_3  ;; `?<Constant L"\\x4e\\x6f\\x20\\x65\\x6c\\x66\\x73\\x20\\`
        MOV      R2,#+255
        ORR      R2,R2,#0xFF00
        MOV      R1,#+0
        SWI      +349
        MOV      R1,R0
        LDR      R0,[R4, #+80]
        SWI      +648
// 1107 		GUIObject_SoftKeys_SetVisible( mbk->elist, ACTION_SELECT1, FALSE );
        LDR      R0,??DataTable32  ;; ACTION_SELECT1
        MOV      R2,#+0
        LDR      R1,[R0, #+0]
        LDR      R0,[R4, #+80]
        MOV      R1,R1, LSL #+16
        MOV      R1,R1, LSR #+16
        SWI      +336
// 1108 		GUIObject_SoftKeys_SetVisible( mbk->elist, TAB_ELFS_RENAME_SOFTKEY, FALSE );
        LDR      R0,[R4, #+80]
        MOV      R2,#+0
        MOV      R1,#+1
        SWI      +336
// 1109 		GUIObject_SoftKeys_SetVisible( mbk->elist, TAB_ELFS_AUTHOR_SOFTKEY, FALSE );
        LDR      R0,[R4, #+80]
        MOV      R2,#+0
        MOV      R1,#+2
        SWI      +336
// 1110 		GUIObject_SoftKeys_SetVisible( mbk->elist, TAB_ELFS_HIDEBOOK_SOFTKEY, FALSE );
        LDR      R0,[R4, #+80]
        MOV      R2,#+0
        MOV      R1,#+4
        SWI      +336
// 1111 		GUIObject_SoftKeys_SetVisible( mbk->elist, TAB_ELFS_SHOWBOOK_SOFTKEY, FALSE );
        LDR      R0,[R4, #+80]
        MOV      R2,#+0
        MOV      R1,#+5
        SWI      +336
// 1112 		mbk->elistpos = 0;
        MOV      R0,#+0
        STRH     R0,[R4, #+134]
// 1113 	}
// 1114 
// 1115 	GUIObject_SoftKeys_SetVisible( mbk->elist, TAB_ELFS_SHOWHIDDEN_SOFTKEY, 1 - mbk->elfs_show_hid );
??RefreshElfSoftkeys_2:
        LDR      R0,[R4, #+156]
        MOV      R1,#+6
        RSB      R2,R0,#+1
        LDR      R0,[R4, #+80]
        SWI      +336
// 1116 	GUIObject_SoftKeys_SetVisible( mbk->elist, TAB_ELFS_HIDEHIDDEN_SOFTKEY, mbk->elfs_show_hid );
        LDR      R2,[R4, #+156]
        LDR      R0,[R4, #+80]
        MOV      R1,#+7
        SWI      +336
// 1117 
// 1118 	GUIObject_SoftKeys_SetVisible( mbk->elist, TAB_ELFS_SHOWNOGUI_SOFTKEY, 1 - mbk->elfs_show_nogui );
        LDR      R0,[R4, #+160]
        MOV      R1,#+8
        RSB      R2,R0,#+1
        LDR      R0,[R4, #+80]
        SWI      +336
// 1119 	GUIObject_SoftKeys_SetVisible( mbk->elist, TAB_ELFS_HIDENOGUI_SOFTKEY, mbk->elfs_show_nogui );
        LDR      R2,[R4, #+160]
        LDR      R0,[R4, #+80]
        MOV      R1,#+9
        SWI      +336
// 1120 }
        POP      {R4,R5,PC}       ;; return
        DATA
??RefreshElfSoftkeys_3:
        DC32     `?<Constant L"\\x4e\\x6f\\x20\\x65\\x6c\\x66\\x73\\x20\\`
        CFI EndBlock cfiBlock95

        RSEG CODE:CODE:NOROOT(2)
        CFI Block cfiBlock96 Using cfiCommon1
        CFI NoFunction
        THUMB
??RefreshBookSoftkeys??rT:
        BX       PC
        Nop      
        CFI EndBlock cfiBlock96
        REQUIRE ??RefreshBookSoftkeys
// 1121 
// 1122 

        RSEG CODE:CODE:NOROOT(2)
        CFI Block cfiBlock97 Using cfiCommon0
        CFI Function ??RefreshBookSoftkeys
        ARM
// 1123 void RefreshBookSoftkeys( MyBOOK* mbk )
// 1124 {
??RefreshBookSoftkeys:
        PUSH     {R4,R5,LR}
        CFI ?RET Frame(CFA, -4)
        CFI R5 Frame(CFA, -8)
        CFI R4 Frame(CFA, -12)
        CFI CFA R13+12
        MOV      R4,R0
// 1125 	if ( mbk->blistcnt )
        LDRH     R0,[R4, #+136]
        CMP      R0,#+0
        BEQ      ??RefreshBookSoftkeys_1
// 1126 	{
// 1127 		BOOK_LIST_ITEM * elem = GetBookListItem(mbk,BOOKLIST);
        MOV      R1,#+0
        MOV      R0,R4
        BL       ??GetBookListItem
        MOV      R5,R0
// 1128 
// 1129 		if ( elem->gui_count )
        LDR      R0,[R5, #+8]
        CMP      R0,#+0
// 1130 			GUIObject_SoftKeys_SetVisible( mbk->blist, ACTION_SELECT1, TRUE );
// 1131 		else
// 1132 			GUIObject_SoftKeys_SetVisible( mbk->blist, ACTION_SELECT1, FALSE );
        LDR      R0,??DataTable32  ;; ACTION_SELECT1
        MOVNE    R2,#+1
        LDR      R1,[R0, #+0]
        LDR      R0,[R4, #+76]
        MOVEQ    R2,#+0
        MOV      R1,R1, LSL #+16
        MOV      R1,R1, LSR #+16
        SWI      +336
// 1133 
// 1134 		GUIObject_SoftKeys_SetVisible( mbk->blist, TAB_BOOKS_HIDEBOOK_SOFTKEY, 1 - elem->isHidden );
        LDR      R0,[R5, #+20]
        MOV      R1,#+4
        RSB      R2,R0,#+1
        LDR      R0,[R4, #+76]
        SWI      +336
// 1135 		GUIObject_SoftKeys_SetVisible( mbk->blist, TAB_BOOKS_SHOWBOOK_SOFTKEY, elem->isHidden );
        LDR      R2,[R5, #+20]
        LDR      R0,[R4, #+76]
        MOV      R1,#+5
        SWI      +336
// 1136 		GUIObject_SoftKeys_SetVisible( mbk->blist, TAB_BOOKS_RENAME_SOFTKEY, TRUE );
        LDR      R0,[R4, #+76]
        MOV      R2,#+1
        MOV      R1,#+1
        SWI      +336
        B        ??RefreshBookSoftkeys_2
// 1137 	}
// 1138 	else
// 1139 	{
// 1140 		ListMenu_SetNoItemText( mbk->blist, STR( "No books in memory" ) );
??RefreshBookSoftkeys_1:
        LDR      R0,??RefreshBookSoftkeys_3  ;; `?<Constant L"\\x4e\\x6f\\x20\\x62\\x6f\\x6f\\x6b\\x73\\`
        MOV      R2,#+255
        ORR      R2,R2,#0xFF00
        MOV      R1,#+0
        SWI      +349
        MOV      R1,R0
        LDR      R0,[R4, #+76]
        SWI      +648
// 1141 		GUIObject_SoftKeys_SetVisible( mbk->blist, ACTION_SELECT1, FALSE );
        LDR      R0,??DataTable32  ;; ACTION_SELECT1
        MOV      R2,#+0
        LDR      R1,[R0, #+0]
        LDR      R0,[R4, #+76]
        MOV      R1,R1, LSL #+16
        MOV      R1,R1, LSR #+16
        SWI      +336
// 1142 		GUIObject_SoftKeys_SetVisible( mbk->blist, TAB_BOOKS_RENAME_SOFTKEY, FALSE );
        LDR      R0,[R4, #+76]
        MOV      R2,#+0
        MOV      R1,#+1
        SWI      +336
// 1143 		GUIObject_SoftKeys_SetVisible( mbk->blist, TAB_BOOKS_HIDEBOOK_SOFTKEY, FALSE );
        LDR      R0,[R4, #+76]
        MOV      R2,#+0
        MOV      R1,#+4
        SWI      +336
// 1144 		GUIObject_SoftKeys_SetVisible( mbk->blist, TAB_BOOKS_SHOWBOOK_SOFTKEY, FALSE );
        LDR      R0,[R4, #+76]
        MOV      R2,#+0
        MOV      R1,#+5
        SWI      +336
// 1145 		mbk->blistpos = 0;
        MOV      R0,#+0
        STRH     R0,[R4, #+132]
// 1146 	}
// 1147 
// 1148 	GUIObject_SoftKeys_SetVisible( mbk->blist, TAB_BOOKS_SHOWHIDDEN_SOFTKEY, 1 - mbk->books_show_hid );
??RefreshBookSoftkeys_2:
        LDR      R0,[R4, #+148]
        MOV      R1,#+6
        RSB      R2,R0,#+1
        LDR      R0,[R4, #+76]
        SWI      +336
// 1149 	GUIObject_SoftKeys_SetVisible( mbk->blist, TAB_BOOKS_HIDEHIDDEN_SOFTKEY, mbk->books_show_hid );
        LDR      R2,[R4, #+148]
        LDR      R0,[R4, #+76]
        MOV      R1,#+7
        SWI      +336
// 1150 
// 1151 	GUIObject_SoftKeys_SetVisible( mbk->blist, TAB_BOOKS_SHOWNOGUI_SOFTKEY, 1 - mbk->books_show_nogui );
        LDR      R0,[R4, #+152]
        MOV      R1,#+8
        RSB      R2,R0,#+1
        LDR      R0,[R4, #+76]
        SWI      +336
// 1152 	GUIObject_SoftKeys_SetVisible( mbk->blist, TAB_BOOKS_HIDENOGUI_SOFTKEY, mbk->books_show_nogui );
        LDR      R2,[R4, #+152]
        LDR      R0,[R4, #+76]
        MOV      R1,#+9
        SWI      +336
// 1153 }
        POP      {R4,R5,PC}       ;; return
        DATA
??RefreshBookSoftkeys_3:
        DC32     `?<Constant L"\\x4e\\x6f\\x20\\x62\\x6f\\x6f\\x6b\\x73\\`
        CFI EndBlock cfiBlock97

        RSEG CODE:CODE:NOROOT(2)
        CFI Block cfiBlock98 Using cfiCommon1
        CFI NoFunction
        THUMB
??CreateBookManagerGUI??rT:
        BX       PC
        Nop      
        CFI EndBlock cfiBlock98
        REQUIRE ??CreateBookManagerGUI
// 1154 
// 1155 
// 1156 // создание меню

        RSEG CODE:CODE:NOROOT(2)
        CFI Block cfiBlock99 Using cfiCommon0
        CFI Function ??CreateBookManagerGUI
        ARM
// 1157 void CreateBookManagerGUI( MyBOOK* mbk )
// 1158 {
??CreateBookManagerGUI:
        PUSH     {R4-R11,LR}
        CFI ?RET Frame(CFA, -4)
        CFI R11 Frame(CFA, -8)
        CFI R10 Frame(CFA, -12)
        CFI R9 Frame(CFA, -16)
        CFI R8 Frame(CFA, -20)
        CFI R7 Frame(CFA, -24)
        CFI R6 Frame(CFA, -28)
        CFI R5 Frame(CFA, -32)
        CFI R4 Frame(CFA, -36)
        CFI CFA R13+36
        SUB      SP,SP,#+12
        CFI CFA R13+48
        MOV      R4,R0
// 1159 	int str_id;
// 1160 
// 1161 	DestroyBookAndElfsLists( mbk );
        BL       ??DestroyBookAndElfsLists
// 1162 	CreateBookAndElfsLists( mbk );
        MOV      R0,R4
        BL       ??CreateBookAndElfsLists
// 1163 
// 1164 	if ( !mbk->gui )
        LDR      R0,[R4, #+24]
        CMP      R0,#+0
        BNE      ??CreateBookManagerGUI_1
// 1165 	{
// 1166 		mbk->gui = CreateTabMenuBar( mbk );
        MOV      R0,R4
        SWI      +458
        STR      R0,[R4, #+24]
// 1167 		TabMenuBar_SetTabCount( mbk->gui, 2 );
        MOV      R1,#+2
        SWI      +459
// 1168 
// 1169 		TabMenuBar_SetTabIcon( mbk->gui, 0, mbk->tabs_image[0].ImageID, 0 );
        LDRH     R2,[R4, #+100]
        LDR      R0,[R4, #+24]
        MOV      R3,#+0
        MOV      R1,#+0
        SWI      +461
// 1170 		TabMenuBar_SetTabIcon( mbk->gui, 0, mbk->tabs_image[1].ImageID, 1 );
        LDRH     R2,[R4, #+102]
        LDR      R0,[R4, #+24]
        MOV      R3,#+1
        MOV      R1,#+0
        SWI      +461
// 1171 
// 1172 		TabMenuBar_SetTabIcon( mbk->gui, 1, mbk->tabs_image[2].ImageID, 0 );
        LDRH     R2,[R4, #+104]
        LDR      R0,[R4, #+24]
        MOV      R3,#+0
        MOV      R1,#+1
        SWI      +461
// 1173 		TabMenuBar_SetTabIcon( mbk->gui, 1, mbk->tabs_image[3].ImageID, 1 );
        LDRH     R2,[R4, #+106]
        LDR      R0,[R4, #+24]
        MOV      R3,#+1
        MOV      R1,R3
        SWI      +461
// 1174 	}
// 1175 
// 1176 	if ( mbk->blistpos > mbk->blistcnt-1 ) mbk->blistpos = mbk->blistcnt-1;
??CreateBookManagerGUI_1:
        LDRH     R0,[R4, #+136]
        LDRH     R2,[R4, #+132]
// 1177 
// 1178 	if ( mbk->blist )
        LDR      R6,??CreateBookManagerGUI_2  ;; ??NoGUIMode
        MOV      R5,#+255
        ORR      R5,R5,#0xFF00
        LDR      R7,??CreateBookManagerGUI_2+0x4  ;; ??HiddenMode
        LDR      R8,??CreateBookManagerGUI_2+0x8  ;; `?<Constant L"\\x48\\x65\\x61\\x70\\x20\\x3a\\x20">`
        LDR      R9,??CreateBookManagerGUI_2+0xC  ;; ??Shortcuts
        LDR      R10,??CreateBookManagerGUI_2+0x10  ;; ??PreTerminateManager
        LDR      R11,??DataTable35  ;; ??CloseMyBook
        SUB      R1,R0,#+1
        CMP      R1,R2
        ADDLT    R0,R5,R0
        STRHLT   R0,[R4, #+132]
        LDR      R0,[R4, #+76]
        CMP      R0,#+0
        BEQ      ??CreateBookManagerGUI_3
// 1179 	{
// 1180 		ListMenu_DestroyItems(mbk->blist);
        SWI      +955
// 1181 		ListMenu_SetItemCount( mbk->blist, mbk->blistcnt );
        LDRH     R1,[R4, #+136]
        LDR      R0,[R4, #+76]
        SWI      +449
// 1182 		ListMenu_SetCursorToItem( mbk->blist, mbk->blistpos );
        LDRH     R1,[R4, #+132]
        LDR      R0,[R4, #+76]
        SWI      +309
// 1183 		RefreshBookSoftkeys( mbk );
        MOV      R0,R4
        BL       ??RefreshBookSoftkeys
        B        ??CreateBookManagerGUI_4
// 1184 	}
// 1185 	else
// 1186 	{
// 1187 		mbk->blist = CreateListMenu( mbk, 0 );
??CreateBookManagerGUI_3:
        MOV      R1,#+0
        MOV      R0,R4
        SWI      +448
// 1188 		ListMenu_SetOnMessage( mbk->blist, onCallback_Books );
        LDR      R1,??CreateBookManagerGUI_2+0x14  ;; ??onCallback_Books
        STR      R0,[R4, #+76]
        SWI      +372
// 1189 		ListMenu_SetItemCount( mbk->blist, mbk->blistcnt );
        LDRH     R1,[R4, #+136]
        LDR      R0,[R4, #+76]
        SWI      +449
// 1190 		ListMenu_SetCursorToItem( mbk->blist, mbk->blistpos );
        LDRH     R1,[R4, #+132]
        LDR      R0,[R4, #+76]
        SWI      +309
// 1191 		if (MINIMIZE_TO_SESSION)
        LDR      R0,??DataTable37  ;; MINIMIZE_TO_SESSION
        LDR      R0,[R0, #+0]
        CMP      R0,#+0
        BEQ      ??CreateBookManagerGUI_5
// 1192 			ListMenu_SetItemStyle( mbk->blist, 3 );
        LDR      R0,[R4, #+76]
        MOV      R1,#+3
        SWI      +319
// 1193 
// 1194 		GUIObject_SoftKeys_SetAction( mbk->blist, ACTION_BACK, CloseMyBook );
??CreateBookManagerGUI_5:
        LDR      R0,??DataTable36  ;; ACTION_BACK
        MOV      R2,R11
        LDR      R1,[R0, #+0]
        LDR      R0,[R4, #+76]
        MOV      R1,R1, LSL #+16
        MOV      R1,R1, LSR #+16
        SWI      +331
// 1195 		GUIObject_SoftKeys_SetAction( mbk->blist, ACTION_LONG_BACK, PreTerminateManager );
        LDR      R0,??DataTable31  ;; ACTION_LONG_BACK
        MOV      R2,R10
        LDR      R1,[R0, #+0]
        LDR      R0,[R4, #+76]
        MOV      R1,R1, LSL #+16
        MOV      R1,R1, LSR #+16
        SWI      +331
// 1196 		GUIObject_SoftKeys_SetAction( mbk->blist, ACTION_SELECT1, onEnterPressed_Books );
        LDR      R0,??DataTable32  ;; ACTION_SELECT1
        LDR      R2,??CreateBookManagerGUI_2+0x18  ;; ??onEnterPressed_Books
        LDR      R1,[R0, #+0]
        LDR      R0,[R4, #+76]
        MOV      R1,R1, LSL #+16
        MOV      R1,R1, LSR #+16
        SWI      +331
// 1197 
// 1198 		GUIObject_SoftKeys_SetAction( mbk->blist, TAB_BOOKS_SHORTCUTS_SOFTKEY, Shortcuts );
        LDR      R0,[R4, #+76]
        MOV      R2,R9
        MOV      R1,#+0
        SWI      +331
// 1199 		textidname2id( TAB_BOOKS_SHORTCUTS_NAME_SOFTKEY, TEXTID_ANY_LEN, &str_id );
        MOV      R2,SP
        MOV      R1,R5
        ADD      R0,R8,#+96
        SWI      +647
// 1200 		GUIObject_SoftKeys_SetText( mbk->blist, TAB_BOOKS_SHORTCUTS_SOFTKEY, str_id );
        LDR      R2,[SP, #+0]
        LDR      R0,[R4, #+76]
        MOV      R1,#+0
        SWI      +332
// 1201 		GUIObject_SoftKeys_SetAction( mbk->blist, TAB_BOOKS_RENAME_SOFTKEY, BookNames );
        LDR      R2,??CreateBookManagerGUI_2+0x1C  ;; ??BookNames
        LDR      R0,[R4, #+76]
        MOV      R1,#+1
        SWI      +331
// 1202 		textidname2id( TAB_BOOKS_RENAME_NAME_SOFTKEY, TEXTID_ANY_LEN, &str_id );
        MOV      R2,SP
        MOV      R1,R5
        ADD      R0,R8,#+140
        SWI      +647
// 1203 		GUIObject_SoftKeys_SetText( mbk->blist, TAB_BOOKS_RENAME_SOFTKEY, str_id );
        LDR      R2,[SP, #+0]
        LDR      R0,[R4, #+76]
        MOV      R1,#+1
        SWI      +332
// 1204 
// 1205 		GUIObject_SoftKeys_SetAction( mbk->blist, TAB_BOOKS_HIDEBOOK_SOFTKEY, HideBook );
        LDR      R0,[R4, #+76]
        LDR      R2,??CreateBookManagerGUI_2+0x20  ;; ??HideBook
        MOV      R1,#+4
        SWI      +331
// 1206 		GUIObject_SoftKeys_SetText( mbk->blist, TAB_BOOKS_HIDEBOOK_SOFTKEY, STR( "Hide book" ) );
        MOV      R2,R5
        MOV      R1,#+0
        ADD      R0,R8,#+168
        SWI      +349
        MOV      R2,R0
        LDR      R0,[R4, #+76]
        MOV      R1,#+4
        SWI      +332
// 1207 		GUIObject_SoftKeys_SetAction( mbk->blist, TAB_BOOKS_SHOWBOOK_SOFTKEY, ShowBook );
        LDR      R0,[R4, #+76]
        LDR      R2,??CreateBookManagerGUI_2+0x24  ;; ??ShowBook
        MOV      R1,#+5
        SWI      +331
// 1208 		GUIObject_SoftKeys_SetText( mbk->blist, TAB_BOOKS_SHOWBOOK_SOFTKEY, STR( "Show book" ) );
        MOV      R2,R5
        MOV      R1,#+0
        ADD      R0,R8,#+188
        SWI      +349
        MOV      R2,R0
        LDR      R0,[R4, #+76]
        MOV      R1,#+5
        SWI      +332
// 1209 
// 1210 		GUIObject_SoftKeys_SetAction( mbk->blist, TAB_BOOKS_SHOWHIDDEN_SOFTKEY, HiddenMode );
        LDR      R0,[R4, #+76]
        MOV      R2,R7
        MOV      R1,#+6
        SWI      +331
// 1211 		GUIObject_SoftKeys_SetText( mbk->blist, TAB_BOOKS_SHOWHIDDEN_SOFTKEY, STR( "Show hidden" ) );
        MOV      R2,R5
        MOV      R1,#+0
        ADD      R0,R8,#+208
        SWI      +349
        MOV      R2,R0
        LDR      R0,[R4, #+76]
        MOV      R1,#+6
        SWI      +332
// 1212 		GUIObject_SoftKeys_SetAction( mbk->blist, TAB_BOOKS_HIDEHIDDEN_SOFTKEY, HiddenMode );
        LDR      R0,[R4, #+76]
        MOV      R2,R7
        MOV      R1,#+7
        SWI      +331
// 1213 		GUIObject_SoftKeys_SetText( mbk->blist, TAB_BOOKS_HIDEHIDDEN_SOFTKEY, STR( "Hide hidden" ) );
        MOV      R2,R5
        MOV      R1,#+0
        ADD      R0,R8,#+232
        SWI      +349
        MOV      R2,R0
        LDR      R0,[R4, #+76]
        MOV      R1,#+7
        SWI      +332
// 1214 
// 1215 		GUIObject_SoftKeys_SetAction( mbk->blist, TAB_BOOKS_SHOWNOGUI_SOFTKEY, NoGUIMode );
        LDR      R0,[R4, #+76]
        MOV      R2,R6
        MOV      R1,#+8
        SWI      +331
// 1216 		GUIObject_SoftKeys_SetText( mbk->blist, TAB_BOOKS_SHOWNOGUI_SOFTKEY, STR( "Show NoGUI" ) );
        MOV      R2,R5
        MOV      R1,#+0
        ADD      R0,R8,#+256
        SWI      +349
        MOV      R2,R0
        LDR      R0,[R4, #+76]
        MOV      R1,#+8
        SWI      +332
// 1217 		GUIObject_SoftKeys_SetAction( mbk->blist, TAB_BOOKS_HIDENOGUI_SOFTKEY, NoGUIMode );
        LDR      R0,[R4, #+76]
        MOV      R2,R6
        MOV      R1,#+9
        SWI      +331
// 1218 		GUIObject_SoftKeys_SetText( mbk->blist, TAB_BOOKS_HIDENOGUI_SOFTKEY, STR( "Hide NoGUI" ) );
        MOV      R2,R5
        MOV      R1,#+0
        ADD      R0,R8,#+280
        SWI      +349
        MOV      R2,R0
        LDR      R0,[R4, #+76]
        MOV      R1,#+9
        SWI      +332
// 1219 
// 1220 		GUIObject_SoftKeys_SetAction( mbk->blist, TAB_BOOKS_SETTINGS_SOFTKEY, 0 );
        LDR      R0,[R4, #+76]
        MOV      R2,#+0
        MOV      R1,#+3
        SWI      +331
// 1221 		textidname2id( TAB_BOOKS_SETTINGS_NAME_SOFTKEY, TEXTID_ANY_LEN, &str_id );
        MOV      R2,SP
        MOV      R1,R5
        ADD      R0,R8,#+304
        SWI      +647
// 1222 		GUIObject_SoftKeys_SetText( mbk->blist, TAB_BOOKS_SETTINGS_SOFTKEY, str_id );
        LDR      R2,[SP, #+0]
        LDR      R0,[R4, #+76]
        MOV      R1,#+3
        SWI      +332
// 1223 
// 1224 		GUIObject_SoftKeys_SetItemAsSubItem( mbk->blist, TAB_BOOKS_SETTINGS_SOFTKEY, TAB_BOOKS_SHOWHIDDEN_SOFTKEY );
        LDR      R0,[R4, #+76]
        MOV      R2,#+6
        MOV      R1,#+3
        SWI      +452
// 1225 		GUIObject_SoftKeys_SetItemAsSubItem( mbk->blist, TAB_BOOKS_SETTINGS_SOFTKEY, TAB_BOOKS_HIDEHIDDEN_SOFTKEY );
        LDR      R0,[R4, #+76]
        MOV      R2,#+7
        MOV      R1,#+3
        SWI      +452
// 1226 		GUIObject_SoftKeys_SetItemAsSubItem( mbk->blist, TAB_BOOKS_SETTINGS_SOFTKEY, TAB_BOOKS_SHOWNOGUI_SOFTKEY );
        LDR      R0,[R4, #+76]
        MOV      R2,#+8
        MOV      R1,#+3
        SWI      +452
// 1227 		GUIObject_SoftKeys_SetItemAsSubItem( mbk->blist, TAB_BOOKS_SETTINGS_SOFTKEY, TAB_BOOKS_HIDENOGUI_SOFTKEY );
        LDR      R0,[R4, #+76]
        MOV      R2,#+9
        MOV      R1,#+3
        SWI      +452
// 1228 
// 1229 		GUIObject_SoftKeys_SetAction( mbk->blist, TAB_BOOKS_COPYRIGHT_SOFTKEY, Copyright );
        LDR      R0,[R4, #+76]
        LDR      R2,??CreateBookManagerGUI_2+0x28  ;; ??Copyright
        MOV      R1,#+2
        SWI      +331
// 1230 		GUIObject_SoftKeys_SetText( mbk->blist, TAB_BOOKS_COPYRIGHT_SOFTKEY, STR( "About" ) );
        MOV      R2,R5
        MOV      R1,#+0
        ADD      R0,R8,#+84
        SWI      +349
        MOV      R2,R0
        LDR      R0,[R4, #+76]
        MOV      R1,#+2
        SWI      +332
// 1231 
// 1232 		mbk->oldOnKey = DispObject_GetOnKey( GUIObject_GetDispObject( mbk->blist ) );
        LDR      R0,[R4, #+76]
        SWI      +360
        SWI      +555
        STR      R0,[R4, #+52]
// 1233 
// 1234 		DISP_DESC_SetOnKey( DispObject_GetDESC ( GUIObject_GetDispObject( mbk->blist ) ), myOnKey_Unified );
        LDR      R0,[R4, #+76]
        SWI      +360
        SWI      +543
        LDR      R1,??CreateBookManagerGUI_2+0x2C  ;; ??myOnKey_Unified
        SWI      +554
// 1235 
// 1236 		RefreshBookSoftkeys( mbk );
        MOV      R0,R4
        BL       ??RefreshBookSoftkeys
// 1237 
// 1238 		TabMenuBar_SetTabGui( mbk->gui, 0, mbk->blist );
        LDR      R2,[R4, #+76]
        LDR      R0,[R4, #+24]
        MOV      R1,#+0
        SWI      +460
// 1239 	}
// 1240 
// 1241 	TEXTID p[2] = { TextID_Create ( L"Heap : ", ENC_UCS2, 7 ), TextID_CreateIntegerID ( GetFreeBytesOnHeap() ) };
??CreateBookManagerGUI_4:
        MOV      R2,#+7
        MOV      R1,#+0
        MOV      R0,R8
        SWI      +349
        STR      R0,[SP, #+4]
        SWI      +368
        SWI      +348
        STR      R0,[SP, #+8]
// 1242 	TabMenuBar_SetTabTitle( mbk->gui, 0, TextID_Create( p, ENC_TEXTID, 2 ) );
        MOV      R2,#+2
        MOV      R1,#+5
        ADD      R0,SP,#+4
        SWI      +349
        MOV      R2,R0
        LDR      R0,[R4, #+24]
        MOV      R1,#+0
        SWI      +939
// 1243 
// 1244 	//---------------
// 1245 
// 1246 	if ( mbk->elistpos > mbk->elistcnt-1 ) mbk->elistpos = mbk->elistcnt-1;
        LDRH     R0,[R4, #+138]
        LDRH     R2,[R4, #+134]
        SUB      R1,R0,#+1
        CMP      R1,R2
        ADDLT    R0,R5,R0
        STRHLT   R0,[R4, #+134]
// 1247 
// 1248 	if ( mbk->elist )
        LDR      R0,[R4, #+80]
        CMP      R0,#+0
        BEQ      ??CreateBookManagerGUI_6
// 1249 	{
// 1250 		ListMenu_DestroyItems(mbk->elist);
        SWI      +955
// 1251 		ListMenu_SetItemCount( mbk->elist, mbk->elistcnt );
        LDRH     R1,[R4, #+138]
        LDR      R0,[R4, #+80]
        SWI      +449
// 1252 		ListMenu_SetCursorToItem( mbk->elist, mbk->elistpos );
        LDRH     R1,[R4, #+134]
        LDR      R0,[R4, #+80]
        SWI      +309
// 1253 		RefreshElfSoftkeys( mbk, mbk->elistpos );
        LDRH     R1,[R4, #+134]
        MOV      R0,R4
        BL       ??RefreshElfSoftkeys
        B        ??CreateBookManagerGUI_7
// 1254 	}
// 1255 	else
// 1256 	{
// 1257 		mbk->elist = CreateListMenu( mbk, 0 );
??CreateBookManagerGUI_6:
        MOV      R1,#+0
        MOV      R0,R4
        SWI      +448
        STR      R0,[R4, #+80]
// 1258 		ListMenu_SetCursorToItem( mbk->elist, 0 );
        MOV      R1,#+0
        SWI      +309
// 1259 		ListMenu_SetOnMessage( mbk->elist, onCallback_Elfs );
        LDR      R1,??CreateBookManagerGUI_2+0x30  ;; ??onCallback_Elfs
        LDR      R0,[R4, #+80]
        SWI      +372
// 1260 		ListMenu_SetItemCount( mbk->elist, mbk->elistcnt );
        LDRH     R1,[R4, #+138]
        LDR      R0,[R4, #+80]
        SWI      +449
// 1261 		ListMenu_SetCursorToItem( mbk->elist, mbk->elistpos );
        LDRH     R1,[R4, #+134]
        LDR      R0,[R4, #+80]
        SWI      +309
// 1262 
// 1263 		GUIObject_SoftKeys_SetAction( mbk->elist, ACTION_BACK, CloseMyBook );
        LDR      R0,??DataTable36  ;; ACTION_BACK
        MOV      R2,R11
        LDR      R1,[R0, #+0]
        LDR      R0,[R4, #+80]
        MOV      R1,R1, LSL #+16
        MOV      R1,R1, LSR #+16
        SWI      +331
// 1264 		GUIObject_SoftKeys_SetAction( mbk->elist, ACTION_LONG_BACK, PreTerminateManager );
        LDR      R0,??DataTable31  ;; ACTION_LONG_BACK
        MOV      R2,R10
        LDR      R1,[R0, #+0]
        LDR      R0,[R4, #+80]
        MOV      R1,R1, LSL #+16
        MOV      R1,R1, LSR #+16
        SWI      +331
// 1265 		GUIObject_SoftKeys_SetAction( mbk->elist, ACTION_SELECT1, onEnterPressed_Elfs );
        LDR      R0,??DataTable32  ;; ACTION_SELECT1
        LDR      R2,??CreateBookManagerGUI_2+0x34  ;; ??onEnterPressed_Elfs
        LDR      R1,[R0, #+0]
        LDR      R0,[R4, #+80]
        MOV      R1,R1, LSL #+16
        MOV      R1,R1, LSR #+16
        SWI      +331
// 1266 
// 1267 		GUIObject_SoftKeys_SetAction( mbk->elist, TAB_ELFS_SHORTCUTS_SOFTKEY, Shortcuts );
        LDR      R0,[R4, #+80]
        MOV      R2,R9
        MOV      R1,#+0
        SWI      +331
// 1268 		textidname2id( TAB_ELFS_SHORTCUTS_NAME_SOFTKEY, TEXTID_ANY_LEN, &str_id );
        MOV      R2,SP
        MOV      R1,R5
        ADD      R0,R8,#+96
        SWI      +647
// 1269 		GUIObject_SoftKeys_SetText( mbk->elist, TAB_ELFS_SHORTCUTS_SOFTKEY, str_id );
        LDR      R2,[SP, #+0]
        LDR      R0,[R4, #+80]
        MOV      R1,#+0
        SWI      +332
// 1270 		GUIObject_SoftKeys_SetAction( mbk->elist, TAB_ELFS_RENAME_SOFTKEY, BookNames );
        LDR      R2,??CreateBookManagerGUI_2+0x1C  ;; ??BookNames
        LDR      R0,[R4, #+80]
        MOV      R1,#+1
        SWI      +331
// 1271 		textidname2id( TAB_ELFS_RENAME_NAME_SOFTKEY, TEXTID_ANY_LEN, &str_id );
        MOV      R2,SP
        MOV      R1,R5
        ADD      R0,R8,#+140
        SWI      +647
// 1272 		GUIObject_SoftKeys_SetText( mbk->elist, TAB_ELFS_RENAME_SOFTKEY, str_id );
        LDR      R2,[SP, #+0]
        LDR      R0,[R4, #+80]
        MOV      R1,#+1
        SWI      +332
// 1273 
// 1274 		GUIObject_SoftKeys_SetAction( mbk->elist, TAB_ELFS_HIDEBOOK_SOFTKEY, HideBook );
        LDR      R0,[R4, #+80]
        LDR      R2,??CreateBookManagerGUI_2+0x20  ;; ??HideBook
        MOV      R1,#+4
        SWI      +331
// 1275 		GUIObject_SoftKeys_SetText( mbk->elist, TAB_ELFS_HIDEBOOK_SOFTKEY, STR( "Hide elf" ) );
        MOV      R2,R5
        MOV      R1,#+0
        ADD      R0,R8,#+16
        SWI      +349
        MOV      R2,R0
        LDR      R0,[R4, #+80]
        MOV      R1,#+4
        SWI      +332
// 1276 		GUIObject_SoftKeys_SetAction( mbk->elist, TAB_ELFS_SHOWBOOK_SOFTKEY, ShowBook );
        LDR      R0,[R4, #+80]
        LDR      R2,??CreateBookManagerGUI_2+0x24  ;; ??ShowBook
        MOV      R1,#+5
        SWI      +331
// 1277 		GUIObject_SoftKeys_SetText( mbk->elist, TAB_ELFS_SHOWBOOK_SOFTKEY, STR( "Show elf" ) );
        MOV      R2,R5
        MOV      R1,#+0
        ADD      R0,R8,#+36
        SWI      +349
        MOV      R2,R0
        LDR      R0,[R4, #+80]
        MOV      R1,#+5
        SWI      +332
// 1278 
// 1279 		GUIObject_SoftKeys_SetAction( mbk->elist, TAB_ELFS_SHOWHIDDEN_SOFTKEY, HiddenMode );
        LDR      R0,[R4, #+80]
        MOV      R2,R7
        MOV      R1,#+6
        SWI      +331
// 1280 		GUIObject_SoftKeys_SetText( mbk->elist, TAB_ELFS_SHOWHIDDEN_SOFTKEY, STR( "Show hidden" ) );
        MOV      R2,R5
        MOV      R1,#+0
        ADD      R0,R8,#+208
        SWI      +349
        MOV      R2,R0
        LDR      R0,[R4, #+80]
        MOV      R1,#+6
        SWI      +332
// 1281 		GUIObject_SoftKeys_SetAction( mbk->elist, TAB_ELFS_HIDEHIDDEN_SOFTKEY, HiddenMode );
        LDR      R0,[R4, #+80]
        MOV      R2,R7
        MOV      R1,#+7
        SWI      +331
// 1282 		GUIObject_SoftKeys_SetText( mbk->elist, TAB_ELFS_HIDEHIDDEN_SOFTKEY, STR( "Hide hidden" ) );
        MOV      R2,R5
        MOV      R1,#+0
        ADD      R0,R8,#+232
        SWI      +349
        MOV      R2,R0
        LDR      R0,[R4, #+80]
        MOV      R1,#+7
        SWI      +332
// 1283 
// 1284 		GUIObject_SoftKeys_SetAction( mbk->elist, TAB_ELFS_SHOWNOGUI_SOFTKEY, NoGUIMode );
        LDR      R0,[R4, #+80]
        MOV      R2,R6
        MOV      R1,#+8
        SWI      +331
// 1285 		GUIObject_SoftKeys_SetText( mbk->elist, TAB_ELFS_SHOWNOGUI_SOFTKEY, STR( "Show NoGUI" ) );
        MOV      R2,R5
        MOV      R1,#+0
        ADD      R0,R8,#+256
        SWI      +349
        MOV      R2,R0
        LDR      R0,[R4, #+80]
        MOV      R1,#+8
        SWI      +332
// 1286 		GUIObject_SoftKeys_SetAction( mbk->elist, TAB_ELFS_HIDENOGUI_SOFTKEY, NoGUIMode );
        LDR      R0,[R4, #+80]
        MOV      R2,R6
        MOV      R1,#+9
        SWI      +331
// 1287 		GUIObject_SoftKeys_SetText( mbk->elist, TAB_ELFS_HIDENOGUI_SOFTKEY, STR( "Hide NoGUI" ) );
        MOV      R2,R5
        MOV      R1,#+0
        ADD      R0,R8,#+280
        SWI      +349
        MOV      R2,R0
        LDR      R0,[R4, #+80]
        MOV      R1,#+9
        SWI      +332
// 1288 
// 1289 		GUIObject_SoftKeys_SetAction( mbk->elist, TAB_ELFS_SETTINGS_SOFTKEY, 0 );
        LDR      R0,[R4, #+80]
        MOV      R2,#+0
        MOV      R1,#+3
        SWI      +331
// 1290 		textidname2id( TAB_ELFS_SETTINGS_NAME_SOFTKEY, TEXTID_ANY_LEN, &str_id );
        MOV      R2,SP
        MOV      R1,R5
        ADD      R0,R8,#+304
        SWI      +647
// 1291 		GUIObject_SoftKeys_SetText( mbk->elist, TAB_ELFS_SETTINGS_SOFTKEY, str_id );
        LDR      R2,[SP, #+0]
        LDR      R0,[R4, #+80]
        MOV      R1,#+3
        SWI      +332
// 1292 
// 1293 		GUIObject_SoftKeys_SetItemAsSubItem( mbk->elist, TAB_ELFS_SETTINGS_SOFTKEY, TAB_ELFS_SHOWHIDDEN_SOFTKEY );
        LDR      R0,[R4, #+80]
        MOV      R2,#+6
        MOV      R1,#+3
        SWI      +452
// 1294 		GUIObject_SoftKeys_SetItemAsSubItem( mbk->elist, TAB_ELFS_SETTINGS_SOFTKEY, TAB_ELFS_HIDEHIDDEN_SOFTKEY );
        LDR      R0,[R4, #+80]
        MOV      R2,#+7
        MOV      R1,#+3
        SWI      +452
// 1295 		GUIObject_SoftKeys_SetItemAsSubItem( mbk->elist, TAB_ELFS_SETTINGS_SOFTKEY, TAB_ELFS_SHOWNOGUI_SOFTKEY );
        LDR      R0,[R4, #+80]
        MOV      R2,#+8
        MOV      R1,#+3
        SWI      +452
// 1296 		GUIObject_SoftKeys_SetItemAsSubItem( mbk->elist, TAB_ELFS_SETTINGS_SOFTKEY, TAB_ELFS_HIDENOGUI_SOFTKEY );
        LDR      R0,[R4, #+80]
        MOV      R2,#+9
        MOV      R1,#+3
        SWI      +452
// 1297 
// 1298 		GUIObject_SoftKeys_SetAction( mbk->elist, TAB_ELFS_AUTHOR_SOFTKEY, Author );
        LDR      R0,[R4, #+80]
        LDR      R2,??CreateBookManagerGUI_2+0x38  ;; ??Author
        MOV      R1,#+2
        SWI      +331
// 1299 		GUIObject_SoftKeys_SetText( mbk->elist, TAB_ELFS_AUTHOR_SOFTKEY, STR( "Author" ) );
        MOV      R2,R5
        MOV      R1,#+0
        ADD      R0,R8,#+56
        SWI      +349
        MOV      R2,R0
        LDR      R0,[R4, #+80]
        MOV      R1,#+2
        SWI      +332
// 1300 
// 1301 		//онкеи все равно одинаковые, так что уберем пока
// 1302 		//    mbk->oldOnKey1 = DispObject_GetOnKey( GUIObject_GetDispObject( mbk->elist ) );
// 1303 
// 1304 		DISP_DESC_SetOnKey( DispObject_GetDESC ( GUIObject_GetDispObject( mbk->elist ) ), myOnKey_Unified );
        LDR      R0,[R4, #+80]
        SWI      +360
        SWI      +543
        LDR      R1,??CreateBookManagerGUI_2+0x2C  ;; ??myOnKey_Unified
        SWI      +554
// 1305 
// 1306 		RefreshElfSoftkeys( mbk, mbk->elistpos );
        LDRH     R1,[R4, #+134]
        MOV      R0,R4
        BL       ??RefreshElfSoftkeys
// 1307 
// 1308 		TabMenuBar_SetTabGui( mbk->gui, 1, mbk->elist );
        LDR      R0,[R4, #+24]
        LDR      R2,[R4, #+80]
        MOV      R1,#+1
        SWI      +460
// 1309 		TabMenuBar_SetTabTitle( mbk->gui, 1, STR( "Elfs" ) );
        MOV      R2,R5
        MOV      R1,#+0
        ADD      R0,R8,#+72
        SWI      +349
        MOV      R2,R0
        LDR      R0,[R4, #+24]
        MOV      R1,#+1
        SWI      +939
// 1310 	}
// 1311 
// 1312 	TabMenuBar_SetFocusedTab( mbk->gui, mbk->ActiveTAB );
??CreateBookManagerGUI_7:
        LDRH     R1,[R4, #+140]
        LDR      R0,[R4, #+24]
        SWI      +606
// 1313 
// 1314 	GUIObject_Show(mbk->gui);
        LDR      R0,[R4, #+24]
        SWI      +308
// 1315 }
        POP      {R0-R2,R4-R11,PC}  ;; return
        DATA
??CreateBookManagerGUI_2:
        DC32     ??NoGUIMode
        DC32     ??HiddenMode
        DC32     `?<Constant L"\\x48\\x65\\x61\\x70\\x20\\x3a\\x20">`
        DC32     ??Shortcuts
        DC32     ??PreTerminateManager
        DC32     ??onCallback_Books
        DC32     ??onEnterPressed_Books
        DC32     ??BookNames
        DC32     ??HideBook
        DC32     ??ShowBook
        DC32     ??Copyright
        DC32     ??myOnKey_Unified
        DC32     ??onCallback_Elfs
        DC32     ??onEnterPressed_Elfs
        DC32     ??Author
        CFI EndBlock cfiBlock99

        RSEG CODE:CODE:NOROOT(2)
        DATA
??DataTable31:
        DC32     ACTION_LONG_BACK

        RSEG CODE:CODE:NOROOT(2)
        DATA
??DataTable32:
        DC32     ACTION_SELECT1

        RSEG CODE:CODE:NOROOT(2)
        CFI Block cfiBlock100 Using cfiCommon1
        CFI NoFunction
        THUMB
??DestroyIniBuffers??rT:
        BX       PC
        Nop      
        CFI EndBlock cfiBlock100
        REQUIRE ??DestroyIniBuffers
// 1316 
// 1317 

        RSEG CODE:CODE:NOROOT(2)
        CFI Block cfiBlock101 Using cfiCommon0
        CFI Function ??DestroyIniBuffers
        ARM
// 1318 void DestroyIniBuffers(MyBOOK* mbk)
// 1319 {
??DestroyIniBuffers:
        PUSH     {R4,R5,LR}
        CFI ?RET Frame(CFA, -4)
        CFI R5 Frame(CFA, -8)
        CFI R4 Frame(CFA, -12)
        CFI CFA R13+12
        MOV      R4,R0
// 1320 	if ( mbk->booknames_buf )
        LDR      R0,[R4, #+28]
        MOV      R5,#+0
        CMP      R0,#+0
        BEQ      ??DestroyIniBuffers_1
// 1321 	{
// 1322 		delete mbk->booknames_buf;
        _BLF     `??operator delete`,`??operator delete??rA`
// 1323 		mbk->booknames_buf=0;
        STR      R5,[R4, #+28]
// 1324 	}
// 1325 	if ( mbk->shortcuts_buf )
??DestroyIniBuffers_1:
        LDR      R0,[R4, #+36]
        CMP      R0,#+0
        BEQ      ??DestroyIniBuffers_2
// 1326 	{
// 1327 		delete mbk->shortcuts_buf;
        _BLF     `??operator delete`,`??operator delete??rA`
// 1328 		mbk->shortcuts_buf=0;
        STR      R5,[R4, #+36]
// 1329 	}
// 1330 	if ( mbk->hidden_buf )
??DestroyIniBuffers_2:
        LDR      R0,[R4, #+44]
        CMP      R0,#+0
        POPEQ    {R4,R5,PC}
// 1331 	{
// 1332 		delete mbk->hidden_buf;
        _BLF     `??operator delete`,`??operator delete??rA`
// 1333 		mbk->hidden_buf=0;
        STR      R5,[R4, #+44]
// 1334 	}
// 1335 }
        POP      {R4,R5,PC}       ;; return
        CFI EndBlock cfiBlock101

        RSEG CODE:CODE:NOROOT(2)
        CFI Block cfiBlock102 Using cfiCommon1
        CFI NoFunction
        THUMB
??DestroyAllGUIs??rT:
        BX       PC
        Nop      
        CFI EndBlock cfiBlock102
        REQUIRE ??DestroyAllGUIs
// 1336 
// 1337 

        RSEG CODE:CODE:NOROOT(2)
        CFI Block cfiBlock103 Using cfiCommon0
        CFI Function ??DestroyAllGUIs
        ARM
// 1338 void DestroyAllGUIs(MyBOOK* mbk)
// 1339 {
??DestroyAllGUIs:
        PUSH     {R4-R6,LR}
        CFI ?RET Frame(CFA, -4)
        CFI R6 Frame(CFA, -8)
        CFI R5 Frame(CFA, -12)
        CFI R4 Frame(CFA, -16)
        CFI CFA R13+16
        MOV      R4,R0
// 1340 	if ( mbk->java_list_menu )
        LDR      R0,[R4, #+72]
        MOV      R5,#+0
        CMP      R0,#+0
        BEQ      ??DestroyAllGUIs_1
// 1341 	{
// 1342 		GUIObject_Destroy( mbk->java_list_menu );
        SWI      +462
// 1343 		mbk->java_list_menu=0;
// 1344 		List_DestroyElements( mbk->java_list, elem_filter, elem_free );
        LDR      R2,??DestroyAllGUIs_2  ;; ??elem_free
        LDR      R1,??DestroyAllGUIs_2+0x4  ;; ??elem_filter
        STR      R5,[R4, #+72]
        LDR      R0,[R4, #+68]
        SWI      +663
// 1345 		List_Destroy( mbk->java_list );
        LDR      R0,[R4, #+68]
        SWI      +362
// 1346 		mbk->java_list = 0;
        STR      R5,[R4, #+68]
// 1347 	}
// 1348 
// 1349 	if ( mbk->mode_list )
??DestroyAllGUIs_1:
        LDR      R0,[R4, #+84]
        CMP      R0,#+0
        BEQ      ??DestroyAllGUIs_3
// 1350 	{
// 1351 		GUIObject_Destroy( mbk->mode_list );
        SWI      +462
// 1352 		mbk->mode_list=0;
        STR      R5,[R4, #+84]
// 1353 	}
// 1354 
// 1355 	if ( mbk->but_list )
??DestroyAllGUIs_3:
        LDR      R0,[R4, #+88]
        CMP      R0,#+0
        BEQ      ??DestroyAllGUIs_4
// 1356 	{
// 1357 		GUIObject_Destroy( mbk->but_list );
        SWI      +462
// 1358 		mbk->but_list=0;
        STR      R5,[R4, #+88]
// 1359 	}
// 1360 
// 1361 	if ( mbk->YesNoQuestion )
??DestroyAllGUIs_4:
        LDR      R0,[R4, #+92]
        CMP      R0,#+0
        BEQ      ??DestroyAllGUIs_5
// 1362 	{
// 1363 		GUIObject_Destroy( mbk->YesNoQuestion );
        SWI      +462
// 1364 		mbk->YesNoQuestion=0;
        STR      R5,[R4, #+92]
// 1365 	}
// 1366 
// 1367 	if ( mbk->blist )
??DestroyAllGUIs_5:
        LDR      R0,[R4, #+76]
        CMP      R0,#+0
        BEQ      ??DestroyAllGUIs_6
// 1368 	{
// 1369 		GUIObject_Destroy( mbk->blist );
        SWI      +462
// 1370 		mbk->blist=0;
        STR      R5,[R4, #+76]
// 1371 		mbk->blistpos=0;
        STRH     R5,[R4, #+132]
// 1372 	}
// 1373 
// 1374 	if ( mbk->elist )
??DestroyAllGUIs_6:
        LDR      R0,[R4, #+80]
        CMP      R0,#+0
        BEQ      ??DestroyAllGUIs_7
// 1375 	{
// 1376 		GUIObject_Destroy( mbk->elist );
        SWI      +462
// 1377 		mbk->elist=0;
        STR      R5,[R4, #+80]
// 1378 		mbk->elistpos=0;
        STRH     R5,[R4, #+134]
// 1379 	}
// 1380 
// 1381 	if ( mbk->gui )
??DestroyAllGUIs_7:
        LDR      R0,[R4, #+24]
        CMP      R0,#+0
        BEQ      ??DestroyAllGUIs_8
// 1382 	{
// 1383 		GUIObject_Destroy( mbk->gui );
        SWI      +462
// 1384 		mbk->gui=0;
        STR      R5,[R4, #+24]
// 1385 	}
// 1386 
// 1387 	if ( mbk->MainMenuID != -1 )
??DestroyAllGUIs_8:
        LDR      R0,[R4, #+128]
        MVN      R6,R5
        CMP      R0,R6
        BEQ      ??DestroyAllGUIs_9
// 1388 	{
// 1389 		BOOK* MainMenu = FindBookByID( mbk->MainMenuID );
        SWI      +708
// 1390 
// 1391 		if ( MainMenu )
        CMP      R0,#+0
        BEQ      ??DestroyAllGUIs_10
// 1392 			FreeBook( MainMenu );
        SWI      +303
// 1393 
// 1394 		mbk->MainMenuID = -1;
??DestroyAllGUIs_10:
        STR      R6,[R4, #+128]
// 1395 	}
// 1396 
// 1397 	mbk->oldOnKey=0;
??DestroyAllGUIs_9:
        STR      R5,[R4, #+52]
// 1398 }
        POP      {R4-R6,PC}       ;; return
        DATA
??DestroyAllGUIs_2:
        DC32     ??elem_free
        DC32     ??elem_filter
        CFI EndBlock cfiBlock103

        RSEG CODE:CODE:NOROOT(2)
        CFI Block cfiBlock104 Using cfiCommon1
        CFI NoFunction
        THUMB
??DestroyIcons??rT:
        BX       PC
        Nop      
        CFI EndBlock cfiBlock104
        REQUIRE ??DestroyIcons
// 1399 
// 1400 

        RSEG CODE:CODE:NOROOT(2)
        CFI Block cfiBlock105 Using cfiCommon0
        CFI Function ??DestroyIcons
        ARM
// 1401 void DestroyIcons(MyBOOK* mbk)
// 1402 {
??DestroyIcons:
        PUSH     {R4,R5,LR}
        CFI ?RET Frame(CFA, -4)
        CFI R5 Frame(CFA, -8)
        CFI R4 Frame(CFA, -12)
        CFI CFA R13+12
        MOV      R4,R0
// 1403 	int i;
// 1404 
// 1405 	for ( i = 0;i < ICONS_COUNT;i++ )
        MOV      R5,#+0
// 1406 	{
// 1407 		ImageID_Free( mbk->tabs_image[i].ImageID );
??DestroyIcons_1:
        ADD      R0,R4,R5, LSL #+1
        LDRH     R0,[R0, #+100]
// 1408 	}
        ADD      R5,R5,#+1
        SWI      +717
        CMP      R5,#+4
        BLT      ??DestroyIcons_1
// 1409 
// 1410 	for ( i = 0;i < DIGITS_COUNT;i++ )
        MOV      R5,#+0
// 1411 	{
// 1412 		ImageID_Free( mbk->digs_image[i].ImageID );
??DestroyIcons_2:
        ADD      R0,R4,R5, LSL #+1
        LDRH     R0,[R0, #+108]
// 1413 	}
        ADD      R5,R5,#+1
        SWI      +717
        CMP      R5,#+10
        BLT      ??DestroyIcons_2
// 1414 }
        POP      {R4,R5,PC}       ;; return
        CFI EndBlock cfiBlock105

        RSEG CODE:CODE:NOROOT(2)
        CFI Block cfiBlock106 Using cfiCommon1
        CFI NoFunction
        THUMB
??onMyBookClose??rT:
        BX       PC
        Nop      
        CFI EndBlock cfiBlock106
        REQUIRE ??onMyBookClose
// 1415 
// 1416 
// 1417 // при закрытии книги

        RSEG CODE:CODE:NOROOT(2)
        CFI Block cfiBlock107 Using cfiCommon0
        CFI Function ??onMyBookClose
        ARM
// 1418 void onMyBookClose( BOOK* book )
// 1419 {
??onMyBookClose:
        PUSH     {R4,LR}
        CFI ?RET Frame(CFA, -4)
        CFI R4 Frame(CFA, -8)
        CFI CFA R13+8
        MOV      R4,R0
// 1420 	MyBOOK* mbk = (MyBOOK*) book;
// 1421 
// 1422 	DestroyIniBuffers(mbk);
        BL       ??DestroyIniBuffers
// 1423 
// 1424 	DestroyAllGUIs(mbk);
        MOV      R0,R4
        BL       ??DestroyAllGUIs
// 1425 
// 1426 	DestroyBookAndElfsLists( mbk );
        MOV      R0,R4
        BL       ??DestroyBookAndElfsLists
// 1427 
// 1428 	DestroyIcons(mbk);
        MOV      R0,R4
        POP      {R4,LR}          ;; Pop
        CFI R4 SameValue
        CFI ?RET R14
        CFI CFA R13+0
        B        ??DestroyIcons   ;; tailcall
        CFI EndBlock cfiBlock107
// 1429 }

        RSEG CODE:CODE:NOROOT(2)
        CFI Block cfiBlock108 Using cfiCommon1
        CFI NoFunction
        THUMB
??ReturnMyBook??rT:
        BX       PC
        Nop      
        CFI EndBlock cfiBlock108
        REQUIRE ??ReturnMyBook
// 1430 
// 1431 

        RSEG CODE:CODE:NOROOT(2)
        CFI Block cfiBlock109 Using cfiCommon0
        CFI Function ??ReturnMyBook
        ARM
// 1432 void ReturnMyBook( BOOK* bk, GUI* )
// 1433 {
??ReturnMyBook:
        PUSH     {R4,LR}
        CFI ?RET Frame(CFA, -4)
        CFI R4 Frame(CFA, -8)
        CFI CFA R13+8
        MOV      R4,R0
// 1434 	MyBOOK* mbk = (MyBOOK*) bk;
// 1435 	GUIObject_Destroy( mbk->YesNoQuestion );
        LDR      R0,[R4, #+92]
        SWI      +462
// 1436 	mbk->YesNoQuestion = 0;
        MOV      R0,#+0
        STR      R0,[R4, #+92]
// 1437 	mbk->ActiveTAB=GetActiveTab(mbk);
        MOV      R0,R4
        BL       ??GetActiveTab
        STRH     R0,[R4, #+140]
// 1438 	CreateBookManagerGUI( mbk );
        MOV      R0,R4
        POP      {R4,LR}          ;; Pop
        CFI R4 SameValue
        CFI ?RET R14
        CFI CFA R13+0
        B        ??CreateBookManagerGUI  ;; tailcall
        CFI EndBlock cfiBlock109
// 1439 }

        RSEG CODE:CODE:NOROOT(2)
        CFI Block cfiBlock110 Using cfiCommon1
        CFI NoFunction
        THUMB
??CloseMyBook??rT:
        BX       PC
        Nop      
        CFI EndBlock cfiBlock110
        REQUIRE ??CloseMyBook
// 1440 
// 1441 

        RSEG CODE:CODE:NOROOT(2)
        CFI Block cfiBlock111 Using cfiCommon0
        CFI Function ??CloseMyBook
        ARM
// 1442 void CloseMyBook( BOOK* bk, GUI* )
// 1443 {
??CloseMyBook:
        PUSH     {R4,LR}
        CFI ?RET Frame(CFA, -4)
        CFI R4 Frame(CFA, -8)
        CFI CFA R13+8
        MOV      R4,R0
// 1444 	MyBOOK* mbk = (MyBOOK*) bk;
// 1445 
// 1446 	mbk->ActiveTAB=GetActiveTab(mbk);
        BL       ??GetActiveTab
// 1447 	BookObj_GotoPage( mbk, &BookManager_Idle_Page);
        LDR      R1,??CloseMyBook_1  ;; `?<Constant "BookManager">` + 12
        STRH     R0,[R4, #+140]
        MOV      R0,R4
        SWI      +301
// 1448 }
        POP      {R4,PC}          ;; return
        DATA
??CloseMyBook_1:
        DC32     `?<Constant "BookManager">` + 12
        CFI EndBlock cfiBlock111

        RSEG CODE:CODE:NOROOT(2)
        CFI Block cfiBlock112 Using cfiCommon1
        CFI NoFunction
        THUMB
??TerminateManager??rT:
        BX       PC
        Nop      
        CFI EndBlock cfiBlock112
        REQUIRE ??TerminateManager
// 1449 
// 1450 

        RSEG CODE:CODE:NOROOT(2)
        CFI Block cfiBlock113 Using cfiCommon0
        CFI Function ??TerminateManager
        ARM
// 1451 void TerminateManager( BOOK* Book, GUI* )
// 1452 {
??TerminateManager:
        PUSH     {R4,R5,LR}
        CFI ?RET Frame(CFA, -4)
        CFI R5 Frame(CFA, -8)
        CFI R4 Frame(CFA, -12)
        CFI CFA R13+12
        SUB      SP,SP,#+4
        CFI CFA R13+16
        MOV      R4,R0
// 1453 	MessageBox( EMPTY_TEXTID,STR("BookManager\n\nterminated"),NOIMAGE,1,3000,0);
        LDR      R0,??TerminateManager_1  ;; `?<Constant L"\\x42\\x6f\\x6f\\x6b\\x4d\\x61\\x6e\\x61\\`
        MOV      R5,#+255
        ORR      R5,R5,#0xFF00
        MOV      R2,R5
        MOV      R1,#+0
        SWI      +349
        MOV      R1,#+0
        PUSH     {R1}
        CFI CFA R13+20
        MOV      R3,#+1
        MOV      R2,R5
        MOV      R1,#+184
        ORR      R1,R1,#0xB00
        PUSH     {R1}
        CFI CFA R13+24
        MOV      R1,R0
        MVN      R0,#-1879048192
        SWI      +599
// 1454 	FreeBook( Book );
        MOV      R0,R4
        SWI      +303
// 1455 	MODIFYKEYHOOK( NewKey, KEY_HOOK_REMOVE, NULL );
        MOV      R1,#+0
        ADD      R0,SP,#+8
        _BLF     ??LPARAM,??LPARAM??rA
        LDR      R0,??DataTable40  ;; ??NewKey
        _BLF     ??MKKEYHOOKPROC,??MKKEYHOOKPROC??rA
        LDR      R2,[SP, #+8]
        MOV      R1,#+0
        SWI      +263
// 1456 	SUBPROC( elf_exit );
        LDR      R0,??DataTable41  ;; ??elf_exit
        SWI      +264
// 1457 }
        POP      {R0-R2,R4,R5,PC}  ;; return
        DATA
??TerminateManager_1:
        DC32     `?<Constant L"\\x42\\x6f\\x6f\\x6b\\x4d\\x61\\x6e\\x61\\`
        CFI EndBlock cfiBlock113

        RSEG CODE:CODE:NOROOT(2)
        CFI Block cfiBlock114 Using cfiCommon1
        CFI NoFunction
        THUMB
??PreTerminateManager??rT:
        BX       PC
        Nop      
        CFI EndBlock cfiBlock114
        REQUIRE ??PreTerminateManager
// 1458 
// 1459 

        RSEG CODE:CODE:NOROOT(2)
        CFI Block cfiBlock115 Using cfiCommon0
        CFI Function ??PreTerminateManager
        ARM
// 1460 void PreTerminateManager( BOOK* bk, GUI* )
// 1461 {
??PreTerminateManager:
        PUSH     {R4-R7,LR}
        CFI ?RET Frame(CFA, -4)
        CFI R7 Frame(CFA, -8)
        CFI R6 Frame(CFA, -12)
        CFI R5 Frame(CFA, -16)
        CFI R4 Frame(CFA, -20)
        CFI CFA R13+20
// 1462 	MyBOOK* mbk = (MyBOOK*) bk;
// 1463 
// 1464 	mbk->YesNoQuestion = CreateYesNoQuestionVA( 0,
// 1465 											   VAR_BOOK( mbk ),
// 1466 											   VAR_YESNO_PRE_QUESTION( TextID_Create( "Exit command selected", ENC_LAT1, TEXTID_ANY_LEN ) ),
// 1467 											   VAR_YESNO_QUESTION( TextID_Create( "Unload?", ENC_LAT1, TEXTID_ANY_LEN ) ),
// 1468 											   0 );
        LDR      R5,??PreTerminateManager_1  ;; `?<Constant "Exit command selected">`
        MOV      R4,R0
        MOV      R6,#+255
        ORR      R6,R6,#0xFF00
        MOV      R2,R6
        MOV      R1,#+6
        ADD      R0,R5,#+24
        SWI      +349
        MOV      R7,R0
        MOV      R2,R6
        MOV      R1,#+6
        MOV      R0,R5
        SWI      +349
        LDR      R3,??PreTerminateManager_1+0x4  ;; VAR_ARG_YESNO_PRE_QUESTION
        MOV      R1,#+0
        PUSH     {R1}
        CFI CFA R13+24
        LDR      R1,??PreTerminateManager_1+0x8  ;; VAR_ARG_YESNO_QUESTION
        PUSH     {R7}
        CFI CFA R13+28
        PUSH     {R1}
        CFI CFA R13+32
        LDR      R1,??PreTerminateManager_1+0xC  ;; VAR_ARG_BOOK
        PUSH     {R0}
        CFI CFA R13+36
        MOV      R2,R4
        MOV      R0,#+0
        SWI      +677
// 1469 	GUIObject_SoftKeys_SetAction( mbk->YesNoQuestion, ACTION_YES, TerminateManager );
        LDR      R2,??PreTerminateManager_1+0x10  ;; ??TerminateManager
        STR      R0,[R4, #+92]
        LDR      R0,??PreTerminateManager_1+0x14  ;; ACTION_YES
        LDR      R1,[R0, #+0]
        LDR      R0,[R4, #+92]
        MOV      R1,R1, LSL #+16
        MOV      R1,R1, LSR #+16
        SWI      +331
// 1470 	GUIObject_SoftKeys_SetAction( mbk->YesNoQuestion, ACTION_NO, CloseMyBook );
        LDR      R0,??PreTerminateManager_1+0x18  ;; ACTION_NO
        LDR      R2,??DataTable35  ;; ??CloseMyBook
        LDR      R1,[R0, #+0]
        LDR      R0,[R4, #+92]
        MOV      R1,R1, LSL #+16
        MOV      R1,R1, LSR #+16
        SWI      +331
// 1471 	GUIObject_SoftKeys_SetAction( mbk->YesNoQuestion, ACTION_BACK, ReturnMyBook );
        LDR      R0,??DataTable36  ;; ACTION_BACK
        LDR      R2,??PreTerminateManager_1+0x1C  ;; ??ReturnMyBook
        LDR      R1,[R0, #+0]
        LDR      R0,[R4, #+92]
        MOV      R1,R1, LSL #+16
        MOV      R1,R1, LSR #+16
        SWI      +331
// 1472 }
        POP      {R0-R7,PC}       ;; return
        DATA
??PreTerminateManager_1:
        DC32     `?<Constant "Exit command selected">`
        DC32     VAR_ARG_YESNO_PRE_QUESTION
        DC32     VAR_ARG_YESNO_QUESTION
        DC32     VAR_ARG_BOOK
        DC32     ??TerminateManager
        DC32     ACTION_YES
        DC32     ACTION_NO
        DC32     ??ReturnMyBook
        CFI EndBlock cfiBlock115

        RSEG CODE:CODE:NOROOT(2)
        DATA
??DataTable35:
        DC32     ??CloseMyBook

        RSEG CODE:CODE:NOROOT(2)
        DATA
??DataTable36:
        DC32     ACTION_BACK

        RSEG CODE:CODE:NOROOT(2)
        CFI Block cfiBlock116 Using cfiCommon1
        CFI NoFunction
        THUMB
??RecreateBookList??rT:
        BX       PC
        Nop      
        CFI EndBlock cfiBlock116
        REQUIRE ??RecreateBookList
// 1473 
// 1474 

        RSEG CODE:CODE:NOROOT(2)
        CFI Block cfiBlock117 Using cfiCommon0
        CFI Function ??RecreateBookList
        ARM
// 1475 int RecreateBookList( void* r0, BOOK* bk )
// 1476 {
??RecreateBookList:
        PUSH     {R4,LR}
        CFI ?RET Frame(CFA, -4)
        CFI R4 Frame(CFA, -8)
        CFI CFA R13+8
        MOV      R4,R1
// 1477 	MyBOOK* mbk = (MyBOOK*) bk;
// 1478 	mbk->ActiveTAB=GetActiveTab(mbk);
        MOV      R0,R4
        BL       ??GetActiveTab
        STRH     R0,[R4, #+140]
// 1479 	CreateBookManagerGUI( mbk );
        MOV      R0,R4
        BL       ??CreateBookManagerGUI
// 1480 	return(0);
        MOV      R0,#+0
        POP      {R4,PC}          ;; return
        CFI EndBlock cfiBlock117
// 1481 }

        RSEG CODE:CODE:NOROOT(2)
        CFI Block cfiBlock118 Using cfiCommon1
        CFI NoFunction
        THUMB
??CreateBookList??rT:
        BX       PC
        Nop      
        CFI EndBlock cfiBlock118
        REQUIRE ??CreateBookList
// 1482 
// 1483 
// 1484 // собственно старт

        RSEG CODE:CODE:ROOT(2)
        CFI Block cfiBlock119 Using cfiCommon0
        CFI Function ??CreateBookList
        ARM
// 1485 __root int CreateBookList( void* r0, BOOK* bk )
// 1486 {
??CreateBookList:
        PUSH     {R4,LR}
        CFI ?RET Frame(CFA, -4)
        CFI R4 Frame(CFA, -8)
        CFI CFA R13+8
        MOV      R4,R1
// 1487 	MyBOOK* mbk = (MyBOOK*) bk;
// 1488 
// 1489 	get_iconsID( mbk );
        MOV      R0,R4
        BL       ??get_iconsID
// 1490 
// 1491 	if ( FirstTab )
        LDR      R0,??CreateBookList_1  ;; FirstTab
        LDR      R0,[R0, #+0]
        CMP      R0,#+0
        BEQ      ??CreateBookList_2
// 1492 		mbk->ActiveTAB = FirstTab-1;
        MOV      R1,#+255
        ORR      R1,R1,#0xFF00
        ADD      R0,R1,R0
        STRH     R0,[R4, #+140]
// 1493 
// 1494 	CreateBookManagerGUI( mbk );
??CreateBookList_2:
        MOV      R0,R4
        BL       ??CreateBookManagerGUI
// 1495 	return 0;
        MOV      R0,#+0
        POP      {R4,PC}          ;; return
        DATA
??CreateBookList_1:
        DC32     FirstTab
        CFI EndBlock cfiBlock119
// 1496 }

        RSEG CODE:CODE:NOROOT(2)
        CFI Block cfiBlock120 Using cfiCommon1
        CFI NoFunction
        THUMB
??IdlePage_EnterAction??rT:
        BX       PC
        Nop      
        CFI EndBlock cfiBlock120
        REQUIRE ??IdlePage_EnterAction
// 1497 
// 1498 

        RSEG CODE:CODE:NOROOT(2)
        CFI Block cfiBlock121 Using cfiCommon0
        CFI Function ??IdlePage_EnterAction
        ARM
// 1499 int IdlePage_EnterAction( void* r0, BOOK* bk )
// 1500 {
??IdlePage_EnterAction:
        PUSH     {R4,LR}
        CFI ?RET Frame(CFA, -4)
        CFI R4 Frame(CFA, -8)
        CFI CFA R13+8
        MOV      R4,R1
// 1501 	MyBOOK* mbk = (MyBOOK*) bk;
// 1502 
// 1503 	DestroyAllGUIs(mbk);
        MOV      R0,R4
        BL       ??DestroyAllGUIs
// 1504 	DestroyBookAndElfsLists(mbk);
        MOV      R0,R4
        BL       ??DestroyBookAndElfsLists
// 1505 	DestroyIcons(mbk);
        MOV      R0,R4
        BL       ??DestroyIcons
// 1506 
// 1507 	BookObj_WindowSetWantsFocus(mbk,0,FALSE);
        MOV      R2,#+0
        MOV      R1,#+0
        MOV      R0,R4
        SWI      +974
// 1508 	BookObj_Hide(mbk,0);
        MOV      R1,#+0
        MOV      R0,R4
        SWI      +369
// 1509 	return 0;
        MOV      R0,#+0
        POP      {R4,PC}          ;; return
        CFI EndBlock cfiBlock121
// 1510 }

        RSEG CODE:CODE:NOROOT(2)
        CFI Block cfiBlock122 Using cfiCommon1
        CFI NoFunction
        THUMB
??ReconfigElf??rT:
        BX       PC
        Nop      
        CFI EndBlock cfiBlock122
        REQUIRE ??ReconfigElf
// 1511 
// 1512 

        RSEG CODE:CODE:NOROOT(2)
        CFI Block cfiBlock123 Using cfiCommon0
        CFI Function ??ReconfigElf
        ARM
// 1513 int ReconfigElf( void* mess, BOOK* book )
// 1514 {
??ReconfigElf:
        PUSH     {R4,LR}
        CFI ?RET Frame(CFA, -4)
        CFI R4 Frame(CFA, -8)
        CFI CFA R13+8
        MOV      R4,R0
// 1515 	RECONFIG_EVENT_DATA* reconf = ( RECONFIG_EVENT_DATA* )mess;
// 1516 
// 1517 	if ( !wstrcmpi( reconf->path, successed_config_path ) && !wstrcmpi( reconf->name, successed_config_name ) )
        LDR      R0,??ReconfigElf_1  ;; successed_config_path
        LDR      R1,[R0, #+0]
        MOV      R0,R4
        SWI      +671
        CMP      R0,#+0
        BNE      ??ReconfigElf_2
        LDR      R0,??ReconfigElf_1+0x4  ;; successed_config_name
        LDR      R1,[R0, #+0]
        ADD      R0,R4,#+128
        SWI      +671
        CMP      R0,#+0
        BNE      ??ReconfigElf_2
// 1518 	{
// 1519 		InitConfig();
        _BLF     ??InitConfig,??InitConfig??rA
// 1520 		return 1;
        MOV      R0,#+1
        POP      {R4,PC}
// 1521 	}
// 1522 	return 0;
??ReconfigElf_2:
        MOV      R0,#+0
        POP      {R4,PC}          ;; return
        DATA
??ReconfigElf_1:
        DC32     successed_config_path
        DC32     successed_config_name
        CFI EndBlock cfiBlock123
// 1523 }

        RSEG CODE:CODE:NOROOT(2)
        CFI Block cfiBlock124 Using cfiCommon1
        CFI NoFunction
        THUMB
??NewKey??rT:
        BX       PC
        Nop      
        CFI EndBlock cfiBlock124
        REQUIRE ??NewKey
// 1524 
// 1525 

        RSEG CODE:CODE:NOROOT(2)
        CFI Block cfiBlock125 Using cfiCommon0
        CFI Function ??NewKey
        ARM
// 1526 int NewKey( int key, int rep_count, int mode, MyBOOK * mbk, DISP_OBJ* disp_obj )
// 1527 {
??NewKey:
        PUSH     {R4-R9,LR}
        CFI ?RET Frame(CFA, -4)
        CFI R9 Frame(CFA, -8)
        CFI R8 Frame(CFA, -12)
        CFI R7 Frame(CFA, -16)
        CFI R6 Frame(CFA, -20)
        CFI R5 Frame(CFA, -24)
        CFI R4 Frame(CFA, -28)
        CFI CFA R13+28
        MOV      R5,R0
        LDR      R8,[SP, #+28]
        MOV      R6,R1
        MOV      R7,R2
        MOV      R4,R3
// 1528 	DISP_OBJ * disp;
// 1529 
// 1530 	BOOK * top_book = Display_GetTopBook(0);
        MOV      R0,#+0
        SWI      +795
        MOV      R9,R0
// 1531 
// 1532 	if ( mode == KeyStartPressMode )
        LDR      R0,??NewKey_1    ;; KeyStartPressMode
        LDR      R0,[R0, #+0]
        CMP      R7,R0
        BNE      ??NewKey_2
// 1533 	{
// 1534 		if ( key == KeyStart )
        LDR      R0,??NewKey_1+0x4  ;; KeyStart
        LDR      R0,[R0, #+0]
        CMP      R5,R0
        BNE      ??NewKey_2
// 1535 		{
// 1536 			if ( isKeylocked() && !Ignore_KeyLock )
        SWI      +439
        CMP      R0,#+0
        BEQ      ??NewKey_3
        LDR      R0,??NewKey_1+0x8  ;; Ignore_KeyLock
        LDR      R0,[R0, #+0]
        CMP      R0,#+0
        BNE      ??NewKey_3
// 1537 				return 0;
??NewKey_4:
        B        ??NewKey_5
// 1538 
// 1539 			if ( top_book!=mbk )
??NewKey_3:
        CMP      R9,R4
        BEQ      ??NewKey_6
// 1540 			{
// 1541 				BookObj_WindowSetWantsFocus(mbk,0,TRUE);
        MOV      R2,#+1
        MOV      R1,#+0
        MOV      R0,R4
        SWI      +974
// 1542 				BookObj_SetFocus(mbk,0);
        MOV      R1,#+0
        MOV      R0,R4
        SWI      +306
// 1543 				BookObj_GotoPage( mbk, &BookManager_Main_Page );
        LDR      R1,??NewKey_1+0xC  ;; BookManager_Main_Page
        MOV      R0,R4
        SWI      +301
// 1544 				return -1;
        B        ??NewKey_7
// 1545 			}
// 1546 			else
// 1547 			{
// 1548 				if ( !mbk->mode_list && !mbk->YesNoQuestion && !mbk->StringInput )
??NewKey_6:
        LDR      R0,[R4, #+84]
        CMP      R0,#+0
        LDREQ    R0,[R4, #+92]
        CMPEQ    R0,#+0
        LDREQ    R0,[R4, #+96]
        CMPEQ    R0,#+0
        BNE      ??NewKey_8
// 1549 				{
// 1550 					CloseMyBook( mbk, 0 );
        MOV      R1,#+0
        MOV      R0,R4
        BL       ??CloseMyBook
// 1551 					return 0;
??NewKey_5:
        MOV      R0,#+0
        POP      {R4-R9,PC}
// 1552 				}
// 1553 				return -1;
??NewKey_8:
        MVN      R0,#+0
        POP      {R4-R9,PC}
// 1554 			}
// 1555 		}
// 1556 	}
// 1557 
// 1558 	if ( top_book==mbk )
??NewKey_2:
        CMP      R9,R4
        BNE      ??NewKey_5
// 1559 	{
// 1560 		if (MINIMIZE_TO_SESSION)
        LDR      R0,??DataTable37  ;; MINIMIZE_TO_SESSION
        LDR      R0,[R0, #+0]
        CMP      R0,#+0
        POPEQ    {R4-R9,PC}
// 1561 		{
// 1562 			if ( key == KEY_LEFT || key == KEY_RIGHT )
        LDR      R0,??NewKey_1+0x10  ;; KEY_LEFT
        LDR      R0,[R0, #+0]
        CMP      R5,R0
        BEQ      ??NewKey_9
        LDR      R0,??NewKey_1+0x14  ;; KEY_RIGHT
        LDR      R0,[R0, #+0]
        CMP      R5,R0
        BNE      ??NewKey_10
// 1563 			{
// 1564 				if (mbk->oldOnKey)
??NewKey_9:
        LDR      R0,[R4, #+52]
        CMP      R0,#+0
        BEQ      ??NewKey_10
// 1565 				{
// 1566 					if ( GetActiveTab(mbk) == BOOKLIST )
        MOV      R0,R4
        BL       ??GetActiveTab
        CMP      R0,#+0
// 1567 						disp = GUIObject_GetDispObject(mbk->blist);
        LDREQ    R0,[R4, #+76]
// 1568 					else
// 1569 						disp = GUIObject_GetDispObject(mbk->elist);
        LDRNE    R0,[R4, #+80]
        SWI      +360
// 1570 
// 1571 					if (disp==disp_obj)
        CMP      R0,R8
        BNE      ??NewKey_10
// 1572 					{
// 1573 						mbk->oldOnKey( disp, key, 0, rep_count, mode );
        PUSH     {R7}
        CFI CFA R13+32
        LDR      R4,[R4, #+52]
        MOV      R3,R6
        MOV      R2,#+0
        MOV      R1,R5
        BLX      R4
// 1574 						return -1;
        MVN      R0,#+0
        ADD      SP,SP,#+4
        CFI CFA R13+28
        POP      {R4-R9,PC}
// 1575 					}
// 1576 				}
// 1577 			}
// 1578 
// 1579 			if ( key == KeyChangeTab && mode == KeyChangeTabPressMode )
??NewKey_10:
        LDR      R0,??NewKey_1+0x18  ;; KeyChangeTab
        LDR      R0,[R0, #+0]
        CMP      R5,R0
        BNE      ??NewKey_5
        LDR      R0,??NewKey_1+0x1C  ;; KeyChangeTabPressMode
        LDR      R0,[R0, #+0]
        CMP      R7,R0
        BNE      ??NewKey_5
// 1580 			{
// 1581 				if ( GetActiveTab(mbk) == BOOKLIST )
        MOV      R0,R4
        BL       ??GetActiveTab
        CMP      R0,#+0
// 1582 					disp = GUIObject_GetDispObject(mbk->blist);
        LDREQ    R0,[R4, #+76]
// 1583 				else
// 1584 					disp = GUIObject_GetDispObject(mbk->elist);
        LDRNE    R0,[R4, #+80]
        SWI      +360
// 1585 
// 1586 				if (disp==disp_obj)
        CMP      R0,R8
        BNE      ??NewKey_5
// 1587 				{
// 1588 					TabMenuBar_SetFocusedTab( mbk->gui, 1 - GetActiveTab(mbk) );
        MOV      R0,R4
        BL       ??GetActiveTab
        RSB      R1,R0,#+1
        LDR      R0,[R4, #+24]
        SWI      +606
// 1589 					return -1;
??NewKey_7:
        MVN      R0,#+0
        POP      {R4-R9,PC}
        DATA
??NewKey_1:
        DC32     KeyStartPressMode
        DC32     KeyStart
        DC32     Ignore_KeyLock
        DC32     BookManager_Main_Page
        DC32     KEY_LEFT
        DC32     KEY_RIGHT
        DC32     KeyChangeTab
        DC32     KeyChangeTabPressMode
        CFI EndBlock cfiBlock125
// 1590 				}
// 1591 			}
// 1592 		}
// 1593 	}
// 1594 	return 0;
// 1595 }

        RSEG CODE:CODE:NOROOT(2)
        DATA
??DataTable37:
        DC32     MINIMIZE_TO_SESSION

        RSEG CODE:CODE:NOROOT(2)
        CFI Block cfiBlock126 Using cfiCommon1
        CFI NoFunction
        THUMB
??CreateBookManagerBook??rT:
        BX       PC
        Nop      
        CFI EndBlock cfiBlock126
        REQUIRE ??CreateBookManagerBook
// 1596 
// 1597 

        RSEG CODE:CODE:NOROOT(2)
        CFI Block cfiBlock127 Using cfiCommon0
        CFI Function ??CreateBookManagerBook
        ARM
// 1598 MyBOOK * CreateBookManagerBook()
// 1599 {
??CreateBookManagerBook:
        PUSH     {R4,R5,LR}
        CFI ?RET Frame(CFA, -4)
        CFI R5 Frame(CFA, -8)
        CFI R4 Frame(CFA, -12)
        CFI CFA R13+12
// 1600 	MyBOOK* mbk = (MyBOOK*) malloc( sizeof( MyBOOK ) );
// 1601 	memset( mbk, 0, sizeof( MyBOOK ) );
// 1602 	CreateBook( mbk, onMyBookClose, &BookManager_Base_Page, "BookManager", -1, 0 );
        LDR      R5,??DataTable38  ;; `?<Constant "BookManager">`
        MOV      R0,#+164
        SWI      +259
        MOV      R4,R0
        MOV      R2,#+164
        MOV      R1,#+0
        SWI      +274
        LDR      R1,??CreateBookManagerBook_1  ;; ??onMyBookClose
        MOV      R0,#+0
        PUSH     {R0}
        CFI CFA R13+16
        MOV      R3,R5
        ADD      R2,R5,#+24
        MVN      R0,R0
        PUSH     {R0}
        CFI CFA R13+20
        MOV      R0,R4
        SWI      +299
// 1603 	//Init flags
// 1604 	mbk->gui = 0;
        MOV      R0,#+0
        STR      R0,[R4, #+24]
// 1605 	mbk->booknames_buf=0;
        STR      R0,[R4, #+28]
// 1606 	mbk->booknames_buf_size=0;
        STR      R0,[R4, #+32]
// 1607 	mbk->shortcuts_buf = 0;
        STR      R0,[R4, #+36]
// 1608 	mbk->shortcuts_buf_size = 0;
        STR      R0,[R4, #+40]
// 1609 	mbk->hidden_buf = 0;
        STR      R0,[R4, #+44]
// 1610 	mbk->hidden_buf_size = 0;
        STR      R0,[R4, #+48]
// 1611 	mbk->oldOnKey=0;
        STR      R0,[R4, #+52]
// 1612 	mbk->sessions_list = 0;
        STR      R0,[R4, #+56]
// 1613 	mbk->books_list = 0;
        STR      R0,[R4, #+60]
// 1614 	mbk->elfs_list = 0;
        STR      R0,[R4, #+64]
// 1615 	mbk->java_list = 0;
        STR      R0,[R4, #+68]
// 1616 	mbk->java_list_menu = 0;
        STR      R0,[R4, #+72]
// 1617 	mbk->blist = 0;
        STR      R0,[R4, #+76]
// 1618 	mbk->elist = 0;
        STR      R0,[R4, #+80]
// 1619 	mbk->mode_list = 0;
        STR      R0,[R4, #+84]
// 1620 	mbk->but_list = 0;
        STR      R0,[R4, #+88]
// 1621 	mbk->YesNoQuestion = 0;
        STR      R0,[R4, #+92]
// 1622 	mbk->StringInput = 0;
        STR      R0,[R4, #+96]
// 1623 	mbk->MainMenuID = -1;
        MVN      R1,R0
        STR      R1,[R4, #+128]
// 1624 	mbk->blistpos = 0;
        STRH     R0,[R4, #+132]
// 1625 	mbk->elistpos = 0;
        STRH     R0,[R4, #+134]
// 1626 	mbk->blistcnt = 0;
        STRH     R0,[R4, #+136]
// 1627 	mbk->elistcnt = 0;
        STRH     R0,[R4, #+138]
// 1628 	mbk->ActiveTAB = 0;
        STRH     R0,[R4, #+140]
// 1629 	mbk->isA2 = FALSE;
        STR      R0,[R4, #+144]
// 1630 	mbk->books_show_hid = books_show_hid;
        LDR      R0,??CreateBookManagerBook_1+0x4  ;; books_show_hid
        LDR      R0,[R0, #+0]
        STR      R0,[R4, #+148]
// 1631 	mbk->books_show_nogui = books_show_nogui;
        LDR      R0,??CreateBookManagerBook_1+0x8  ;; books_show_nogui
        LDR      R0,[R0, #+0]
        STR      R0,[R4, #+152]
// 1632 	mbk->elfs_show_hid = elfs_show_hid;
        LDR      R0,??CreateBookManagerBook_1+0xC  ;; elfs_show_hid
        LDR      R0,[R0, #+0]
        STR      R0,[R4, #+156]
// 1633 	mbk->elfs_show_nogui = elfs_show_nogui;
        LDR      R0,??CreateBookManagerBook_1+0x10  ;; elfs_show_nogui
        LDR      R0,[R0, #+0]
        STR      R0,[R4, #+160]
// 1634 	//End init
// 1635 	int platform=GetChipID()&CHIPID_MASK;
        SWI      +590
        AND      R0,R0,#0xFE00
// 1636 	if (platform==CHIPID_DB3150||platform==CHIPID_DB3200||platform==CHIPID_DB3210||platform==CHIPID_DB3350)
        CMP      R0,#+51200
        ADD      SP,SP,#+8
        CFI CFA R13+12
        CMPNE    R0,#+55296
        CMPNE    R0,#+59392
        CMPNE    R0,#+61440
// 1637 		mbk->isA2 = TRUE;
        MOVEQ    R0,#+1
        STREQ    R0,[R4, #+144]
// 1638 
// 1639 	LoadBookNames(mbk);
        MOV      R0,R4
        BL       ??LoadBookNames
// 1640 	LoadShortcuts(mbk);
        MOV      R0,R4
        BL       ??LoadShortcuts
// 1641 	LoadHidden(mbk);
        MOV      R0,R4
        BL       ??LoadHidden
// 1642 
// 1643 	BookObj_GotoPage( mbk, &BookManager_Idle_Page);
        ADD      R1,R5,#+12
        MOV      R0,R4
        SWI      +301
// 1644 
// 1645 	return mbk;
        MOV      R0,R4
        POP      {R4,R5,PC}       ;; return
        DATA
??CreateBookManagerBook_1:
        DC32     ??onMyBookClose
        DC32     books_show_hid
        DC32     books_show_nogui
        DC32     elfs_show_hid
        DC32     elfs_show_nogui
        CFI EndBlock cfiBlock127
// 1646 }

        RSEG CODE:CODE:NOROOT(2)
        DATA
??DataTable38:
        DC32     `?<Constant "BookManager">`

        RSEG CODE:CODE:NOROOT(2)
        CFI Block cfiBlock128 Using cfiCommon1
        CFI NoFunction
        THUMB
??main??rT:
        BX       PC
        Nop      
        CFI EndBlock cfiBlock128
        REQUIRE main
// 1647 
// 1648 

        RSEG CODE:CODE:NOROOT(2)
        CFI Block cfiBlock129 Using cfiCommon0
        CFI Function main
        ARM
// 1649 int main ( void )
// 1650 {
// 1651 	if ( !FindBook( isBookManager ) )
main:
        LDR      R0,??DataTable39  ;; ??isBookManager
        PUSH     {R4,LR}
        CFI ?RET Frame(CFA, -4)
        CFI R4 Frame(CFA, -8)
        CFI CFA R13+8
        SUB      SP,SP,#+4
        CFI CFA R13+12
        SWI      +304
        CMP      R0,#+0
        BNE      ??main_0
// 1652 	{
// 1653 		trace_init(L"bookmanmem.txt");
// 1654 		InitConfig();
        _BLF     ??InitConfig,??InitConfig??rA
// 1655 		MODIFYKEYHOOK( NewKey, KEY_HOOK_ADD, CreateBookManagerBook() );
        BL       ??CreateBookManagerBook
        MOV      R1,R0
        MOV      R0,SP
        _BLF     ??LPARAM_1,??LPARAM??rA_1
        LDR      R0,??DataTable40  ;; ??NewKey
        _BLF     ??MKKEYHOOKPROC,??MKKEYHOOKPROC??rA
        LDR      R2,[SP, #+0]
        MOV      R1,#+1
        SWI      +263
        MOV      R0,#+0
        POP      {R1,R4,PC}
// 1656 	}
// 1657 	else
// 1658 	{
// 1659 		MessageBox( EMPTY_TEXTID, STR( "BookManager is already runed" ), NOIMAGE, 1, 5000, 0 );
??main_0:
        LDR      R0,??main_1      ;; `?<Constant L"\\x42\\x6f\\x6f\\x6b\\x4d\\x61\\x6e\\x61\\_1`
        MOV      R4,#+255
        ORR      R4,R4,#0xFF00
        MOV      R2,R4
        MOV      R1,#+0
        SWI      +349
        MOV      R1,R0
        MOV      R0,#+0
        PUSH     {R0}
        CFI CFA R13+16
        MOV      R3,#+1
        MOV      R2,R4
        MOV      R0,#+136
        ORR      R0,R0,#0x1300
        PUSH     {R0}
        CFI CFA R13+20
        MVN      R0,#-1879048192
        SWI      +599
// 1660 		SUBPROC( elf_exit );
        LDR      R0,??DataTable41  ;; ??elf_exit
        SWI      +264
        ADD      SP,SP,#+8
        CFI CFA R13+12
// 1661 	}
// 1662 	return 0;
        MOV      R0,#+0
        POP      {R1,R4,PC}       ;; return
        DATA
??main_1:
        DC32     `?<Constant L"\\x42\\x6f\\x6f\\x6b\\x4d\\x61\\x6e\\x61\\_1`
        CFI EndBlock cfiBlock129
// 1663 }

        RSEG CODE:CODE:NOROOT(2)
        DATA
??DataTable39:
        DC32     ??isBookManager

        RSEG CODE:CODE:NOROOT(2)
        DATA
??DataTable40:
        DC32     ??NewKey

        RSEG CODE:CODE:NOROOT(2)
        DATA
??DataTable41:
        DC32     ??elf_exit

        RSEG CODE:CODE:NOROOT(2)
        CFI Block cfiBlock130 Using cfiCommon0
        CFI NoFunction
        ARM
??INHERITANCECHECK??rA:
        LDR      R12,??Subroutine63_0  ;; ??INHERITANCECHECK
        BX       R12
        DATA
??Subroutine63_0:
        DC32     ??INHERITANCECHECK
        CFI EndBlock cfiBlock130

        RSEG CODE:CODE:NOROOT(2)
        CFI Block cfiBlock131 Using cfiCommon0
        CFI NoFunction
        ARM
??kill_data??rA:
        LDR      R12,??Subroutine64_0  ;; kill_data
        BX       R12
        DATA
??Subroutine64_0:
        DC32     kill_data
        CFI EndBlock cfiBlock131

        RSEG CODE:CODE:NOROOT(2)
        CFI Block cfiBlock132 Using cfiCommon0
        CFI NoFunction
        ARM
`??operator delete??rA`:
        LDR      R12,??Subroutine65_0  ;; `??operator delete`
        BX       R12
        DATA
??Subroutine65_0:
        DC32     `??operator delete`
        CFI EndBlock cfiBlock132

        RSEG CODE:CODE:NOROOT(2)
        CFI Block cfiBlock133 Using cfiCommon0
        CFI NoFunction
        ARM
`??operator new??rA`:
        LDR      R12,??Subroutine66_0  ;; `??operator new`
        BX       R12
        DATA
??Subroutine66_0:
        DC32     `??operator new`
        CFI EndBlock cfiBlock133

        RSEG CODE:CODE:NOROOT(2)
        CFI Block cfiBlock134 Using cfiCommon0
        CFI NoFunction
        ARM
`??operator new[]??rA`:
        LDR      R12,??Subroutine67_0  ;; `??operator new[]`
        BX       R12
        DATA
??Subroutine67_0:
        DC32     `??operator new[]`
        CFI EndBlock cfiBlock134

        RSEG CODE:CODE:NOROOT(2)
        CFI Block cfiBlock135 Using cfiCommon0
        CFI NoFunction
        ARM
??LPARAM??rA:
        LDR      R12,??Subroutine68_0  ;; ??LPARAM
        BX       R12
        DATA
??Subroutine68_0:
        DC32     ??LPARAM
        CFI EndBlock cfiBlock135

        RSEG CODE:CODE:NOROOT(2)
        CFI Block cfiBlock136 Using cfiCommon0
        CFI NoFunction
        ARM
??MKKEYHOOKPROC??rA:
        LDR      R12,??Subroutine69_0  ;; ??MKKEYHOOKPROC
        BX       R12
        DATA
??Subroutine69_0:
        DC32     ??MKKEYHOOKPROC
        CFI EndBlock cfiBlock136

        RSEG CODE:CODE:NOROOT(2)
        CFI Block cfiBlock137 Using cfiCommon0
        CFI NoFunction
        ARM
??InitConfig??rA:
        LDR      R12,??Subroutine70_0  ;; ??InitConfig
        BX       R12
        DATA
??Subroutine70_0:
        DC32     ??InitConfig
        CFI EndBlock cfiBlock137

        RSEG CODE:CODE:NOROOT(2)
        CFI Block cfiBlock138 Using cfiCommon0
        CFI NoFunction
        ARM
??LPARAM??rA_1:
        LDR      R12,??Subroutine71_0  ;; ??LPARAM_1
        BX       R12
        DATA
??Subroutine71_0:
        DC32     ??LPARAM_1
        CFI EndBlock cfiBlock138

        RSEG DATA_ID:CONST:SORT:NOROOT(2)
`?<Initializer for id_digits>`:
        DATA
        DC32 `?<Constant L"\\x46\\x4d\\x5f\\x52\\x41\\x44\\x49\\x4f\\_1`
        DC32 `?<Constant L"\\x46\\x4d\\x5f\\x52\\x41\\x44\\x49\\x4f\\_2`
        DC32 `?<Constant L"\\x46\\x4d\\x5f\\x52\\x41\\x44\\x49\\x4f\\_3`
        DC32 `?<Constant L"\\x46\\x4d\\x5f\\x52\\x41\\x44\\x49\\x4f\\_4`
        DC32 `?<Constant L"\\x46\\x4d\\x5f\\x52\\x41\\x44\\x49\\x4f\\_5`
        DC32 `?<Constant L"\\x46\\x4d\\x5f\\x52\\x41\\x44\\x49\\x4f\\_6`
        DC32 `?<Constant L"\\x46\\x4d\\x5f\\x52\\x41\\x44\\x49\\x4f\\_7`
        DC32 `?<Constant L"\\x46\\x4d\\x5f\\x52\\x41\\x44\\x49\\x4f\\_8`
        DC32 `?<Constant L"\\x46\\x4d\\x5f\\x52\\x41\\x44\\x49\\x4f\\`
        DC32 `?<Constant L"\\x46\\x4d\\x5f\\x52\\x41\\x44\\x49\\x4f\\_9`
`?<Initializer for id_names>`:
        DC32 `?<Constant L"\\x52\\x4e\\x5f\\x54\\x41\\x42\\x5f\\x53\\`
        DC32 `?<Constant L"\\x52\\x4e\\x5f\\x54\\x41\\x42\\x5f\\x53\\_1`
        DC32 `?<Constant L"\\x52\\x4e\\x5f\\x54\\x41\\x42\\x5f\\x42\\`
        DC32 `?<Constant L"\\x52\\x4e\\x5f\\x54\\x41\\x42\\x5f\\x42\\_1`
`?<Initializer for img_digits>`:
        DC32 digit0, digit1, digit2, digit3, digit4, digit5, digit6, digit7
        DC32 digit8, digit9
`?<Initializer for img_names>`:
        DC32 tab1_inact, tab1_act, tab2_inact, tab2_act

        RSEG DATA_ID:CONST:SORT:NOROOT(2)
`?*?DATA_ID`:

        RSEG INITTAB:CODE:ROOT(2)
        DATA
?init?tab?DATA_I:
        DCD      sfe(DATA_I) - sfb(DATA_I), sfb(DATA_I), sfb(DATA_ID)

        END
// 
// 11 340 bytes in segment CODE
//  2 231 bytes in segment DATA_C
//    112 bytes in segment DATA_I
//    112 bytes in segment DATA_ID
//     72 bytes in segment DYN_PAGE
//     12 bytes in segment INITTAB
// 
// 10 940 bytes of CODE  memory (+ 412 bytes shared)
//  2 415 bytes of CONST memory
//    112 bytes of DATA  memory
//
//Errors: none
//Warnings: none
